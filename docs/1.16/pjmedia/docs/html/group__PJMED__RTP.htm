<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJMEDIA Reference: RTP Session and Encapsulation (RFC 3550) (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->

	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>RTP Session and Encapsulation (RFC 3550)<br/>
<small>
[<a class="el" href="group__PJMEDIA__SESSION.htm">Media Sessions</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>RTP format and session management.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__ext__hdr.htm">pjmedia_rtp_ext_hdr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__dtmf__event.htm">pjmedia_rtp_dtmf_event</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__seq__session.htm">pjmedia_rtp_seq_session</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtp__session__setting.htm">pjmedia_rtp_session_setting</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#gac5fc46bc1de6eb2620c2a28d20578c77">pjmedia_rtp_session_init</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> default_pt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gafbfd2fd08c6041ea3cb217310c0b5b48">pj_uint32_t</a> sender_ssrc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#gaa239546773e58d3d78fc52c1a838c9be">pjmedia_rtp_session_init2</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, <a class="el" href="structpjmedia__rtp__session__setting.htm">pjmedia_rtp_session_setting</a> settings)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#ga7052667cdb593ec24c95b98a46227ce2">pjmedia_rtp_encode_rtp</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> pt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> m, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> payload_len, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> ts_len, const void **rtphdr, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *hdrlen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#gaaa82e024f28c4796159d3d9bbe9c93ec">pjmedia_rtp_decode_rtp</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, const void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> pkt_len, const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> **hdr, const void **payload, unsigned *payloadlen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#ga9d9b33a67b04a25c38d625131809247f">pjmedia_rtp_session_update</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> *hdr, <a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *seq_st)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#ga3d121faab7a6a62a721eb73890e91e2b">pjmedia_rtp_session_update2</a> (<a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *ses, const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> *hdr, <a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *seq_st, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> check_pt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#gaa4d7f3c6fac7225fe3486799c86973b8">pjmedia_rtp_seq_init</a> (<a class="el" href="structpjmedia__rtp__seq__session.htm">pjmedia_rtp_seq_session</a> *seq_ctrl, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a> seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTP.htm#gacfe1ac80080d9381ec9b9b319632c35d">pjmedia_rtp_seq_update</a> (<a class="el" href="structpjmedia__rtp__seq__session.htm">pjmedia_rtp_seq_session</a> *seq_ctrl, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a> seq, <a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *seq_status)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The RTP module is designed to be dependent only to PJLIB, it does not depend on any other parts of PJMEDIA library. The RTP module does not even depend on any transports (sockets), to promote even more use, such as in DSP development (where transport may be handled by different processor).</p>
<p>An RTCP implementation is available, in separate module. Please see <a class="el" href="group__PJMED__RTCP.htm">RTCP Session and Encapsulation (RFC 3550)</a>.</p>
<p>The functions that are provided by this module:</p>
<ul>
<li>creating RTP header for each outgoing packet.</li>
<li>decoding RTP packet into RTP header and payload.</li>
<li>provide simple RTP session management (sequence number, etc.)</li>
</ul>
<p>The RTP module does not use any dynamic memory at all.</p>
<h2><a class="anchor" id="P1"></a>
How to Use the RTP Module</h2>
<p>First application must call <a class="el" href="group__PJMED__RTP.htm#gac5fc46bc1de6eb2620c2a28d20578c77">pjmedia_rtp_session_init()</a> to initialize the RTP session.</p>
<p>When application wants to send RTP packet, it needs to call <a class="el" href="group__PJMED__RTP.htm#ga7052667cdb593ec24c95b98a46227ce2">pjmedia_rtp_encode_rtp()</a> to build the RTP header. Note that this WILL NOT build the complete RTP packet, but instead only the header. Application can then either concatenate the header with the payload, or send the two fragments (the header and the payload) using scatter-gather transport API (e.g. <em>sendv()</em>).</p>
<p>When application receives an RTP packet, first it should call <a class="el" href="group__PJMED__RTP.htm#gaaa82e024f28c4796159d3d9bbe9c93ec">pjmedia_rtp_decode_rtp</a> to decode RTP header and payload, then it should call <a class="el" href="group__PJMED__RTP.htm#ga9d9b33a67b04a25c38d625131809247f">pjmedia_rtp_session_update</a> to check whether we can process the RTP payload, and to let the RTP session updates its internal status. The decode function is guaranteed to point the payload to the correct position regardless of any options present in the RTP packet. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gac5fc46bc1de6eb2620c2a28d20578c77"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_session_init" ref="gac5fc46bc1de6eb2620c2a28d20578c77" args="(pjmedia_rtp_session *ses, int default_pt, pj_uint32_t sender_ssrc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_rtp_session_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>default_pt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gafbfd2fd08c6041ea3cb217310c0b5b48">pj_uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>sender_ssrc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function will initialize the RTP session according to given parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>default_pt</em>&nbsp;</td><td>Default payload type. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sender_ssrc</em>&nbsp;</td><td>SSRC used for outgoing packets, in host byte order.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa239546773e58d3d78fc52c1a838c9be"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_session_init2" ref="gaa239546773e58d3d78fc52c1a838c9be" args="(pjmedia_rtp_session *ses, pjmedia_rtp_session_setting settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_rtp_session_init2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session__setting.htm">pjmedia_rtp_session_setting</a>&nbsp;</td>
          <td class="paramname"> <em>settings</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function will initialize the RTP session according to given parameters defined in RTP session settings.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>settings</em>&nbsp;</td><td>RTP session settings.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7052667cdb593ec24c95b98a46227ce2"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_encode_rtp" ref="ga7052667cdb593ec24c95b98a46227ce2" args="(pjmedia_rtp_session *ses, int pt, int m, int payload_len, int ts_len, const void **rtphdr, int *hdrlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_rtp_encode_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>pt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>payload_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>ts_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&nbsp;</td>
          <td class="paramname"> <em>rtphdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *&nbsp;</td>
          <td class="paramname"> <em>hdrlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create the RTP header based on arguments and current state of the RTP session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pt</em>&nbsp;</td><td>Payload type. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>Marker flag. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload_len</em>&nbsp;</td><td>Payload length in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts_len</em>&nbsp;</td><td>Timestamp length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rtphdr</em>&nbsp;</td><td>Upon return will point to RTP packet header. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdrlen</em>&nbsp;</td><td>Upon return will indicate the size of RTP packet header</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="gaaa82e024f28c4796159d3d9bbe9c93ec"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_decode_rtp" ref="gaaa82e024f28c4796159d3d9bbe9c93ec" args="(pjmedia_rtp_session *ses, const void *pkt, int pkt_len, const pjmedia_rtp_hdr **hdr, const void **payload, unsigned *payloadlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_rtp_decode_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>pkt_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> **&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&nbsp;</td>
          <td class="paramname"> <em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&nbsp;</td>
          <td class="paramname"> <em>payloadlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function decodes incoming packet into RTP header and payload. The decode function is guaranteed to point the payload to the correct position regardless of any options present in the RTP packet.</p>
<p>Note that this function does not modify the returned RTP header to host byte order.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The received RTP packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pkt_len</em>&nbsp;</td><td>The length of the packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdr</em>&nbsp;</td><td>Upon return will point to the location of the RTP header inside the packet. Note that the RTP header will be given back as is, meaning that the fields will be in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>Upon return will point to the location of the payload inside the packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payloadlen</em>&nbsp;</td><td>Upon return will indicate the size of the payload.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9d9b33a67b04a25c38d625131809247f"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_session_update" ref="ga9d9b33a67b04a25c38d625131809247f" args="(pjmedia_rtp_session *ses, const pjmedia_rtp_hdr *hdr, pjmedia_rtp_status *seq_st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtp_session_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *&nbsp;</td>
          <td class="paramname"> <em>seq_st</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Call this function everytime an RTP packet is received to check whether the packet can be received and to let the RTP session performs its internal calculations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdr</em>&nbsp;</td><td>The RTP header of the incoming packet. The header must be given with fields in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq_st</em>&nbsp;</td><td>Optional structure to receive the status of the RTP packet processing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3d121faab7a6a62a721eb73890e91e2b"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_session_update2" ref="ga3d121faab7a6a62a721eb73890e91e2b" args="(pjmedia_rtp_session *ses, const pjmedia_rtp_hdr *hdr, pjmedia_rtp_status *seq_st, pj_bool_t check_pt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtp_session_update2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__session.htm">pjmedia_rtp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>ses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__rtp__hdr.htm">pjmedia_rtp_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *&nbsp;</td>
          <td class="paramname"> <em>seq_st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td>
          <td class="paramname"> <em>check_pt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Call this function everytime an RTP packet is received to check whether the packet can be received and to let the RTP session performs its internal calculations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ses</em>&nbsp;</td><td>The session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdr</em>&nbsp;</td><td>The RTP header of the incoming packet. The header must be given with fields in network byte order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq_st</em>&nbsp;</td><td>Optional structure to receive the status of the RTP packet processing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>check_pt</em>&nbsp;</td><td>Flag to indicate whether payload type needs to be validate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__PJMED__RTP.htm#ga9d9b33a67b04a25c38d625131809247f">pjmedia_rtp_session_update()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaa4d7f3c6fac7225fe3486799c86973b8"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_seq_init" ref="gaa4d7f3c6fac7225fe3486799c86973b8" args="(pjmedia_rtp_seq_session *seq_ctrl, pj_uint16_t seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtp_seq_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__seq__session.htm">pjmedia_rtp_seq_session</a> *&nbsp;</td>
          <td class="paramname"> <em>seq_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a>&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal function for creating sequence number control, shared by RTCP implementation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>seq_ctrl</em>&nbsp;</td><td>The sequence control instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>Sequence number to initialize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacfe1ac80080d9381ec9b9b319632c35d"></a><!-- doxytag: member="rtp.h::pjmedia_rtp_seq_update" ref="gacfe1ac80080d9381ec9b9b319632c35d" args="(pjmedia_rtp_seq_session *seq_ctrl, pj_uint16_t seq, pjmedia_rtp_status *seq_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtp_seq_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__seq__session.htm">pjmedia_rtp_seq_session</a> *&nbsp;</td>
          <td class="paramname"> <em>seq_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a>&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtp__status.htm">pjmedia_rtp_status</a> *&nbsp;</td>
          <td class="paramname"> <em>seq_status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal function update sequence control, shared by RTCP implementation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>seq_ctrl</em>&nbsp;</td><td>The sequence control instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>Sequence number to update. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq_status</em>&nbsp;</td><td>Optional structure to receive additional information about the packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
