<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJLIB Reference: pj_caching_pool Struct Reference (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJLIB Reference</p>


<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.htm"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<h1>pj_caching_pool Struct Reference<br/>
<small>
[<a class="el" href="group__PJ__CACHING__POOL.htm">Caching Pool Factory</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pj_caching_pool" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpj__pool__factory.htm">pj_pool_factory</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a0849ace123d8760dfab52418c2732af3">factory</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#ab37c22934a74c2a323a60a1d63c2faf2">capacity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a6e8ae839188eee356cbc0cdbbcd71a62">max_capacity</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#af478fd77c170b604c87337adca02607a">used_count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a765d23af5664d99404ead10f295c0b74">used_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a35969ade75058f069f8f89a9365083ed">peak_used_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpj__list.htm">pj_list</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#ae2e6f8fd12b1ea85041548181b20486c">free_list</a> [16]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpj__list.htm">pj_list</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a7d6fa4949f2afdfd90358874a0bfdb66">used_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a0ca0a37e2d42e12c8133e13d29643955">pool_buf</a> [256 *(sizeof(long)/4)]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga3dc49084043901d31c7b12e5afc9fb2f">pj_lock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__caching__pool.htm#a8c52deb4260066621787a70a55f88b3a">lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba429342dd61e2a007b815c2c5578519"></a><!-- doxytag: member="pj_caching_pool::used_count" ref="aba429342dd61e2a007b815c2c5578519" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>used_count</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e551175d5dfc123387a6c2ebebe2b0d"></a><!-- doxytag: member="pj_caching_pool::used_size" ref="a1e551175d5dfc123387a6c2ebebe2b0d" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>used_size</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc76c565c49f43866a01e62f61a2d506"></a><!-- doxytag: member="pj_caching_pool::peak_used_size" ref="afc76c565c49f43866a01e62f61a2d506" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>peak_used_size</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Declaration for caching pool. Application doesn't normally need to care about the contents of this struct, it is only provided here because application need to define an instance of this struct (we can not allocate the struct from a pool since there is no pool factory yet!).</p>
<p>Forward declaration for caching pool, a pool factory implementation. </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ab37c22934a74c2a323a60a1d63c2faf2"></a><!-- doxytag: member="pj_caching_pool::capacity" ref="ab37c22934a74c2a323a60a1d63c2faf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> <a class="el" href="structpj__caching__pool.htm#ab37c22934a74c2a323a60a1d63c2faf2">pj_caching_pool::capacity</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Current factory's capacity, i.e. number of bytes that are allocated and available for application in this factory. The factory's capacity represents the size of all pools kept by this factory in it's free list, which will be returned to application when it requests to create a new pool. </p>

</div>
</div>
<a class="anchor" id="a0849ace123d8760dfab52418c2732af3"></a><!-- doxytag: member="pj_caching_pool::factory" ref="a0849ace123d8760dfab52418c2732af3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpj__pool__factory.htm">pj_pool_factory</a> <a class="el" href="structpj__caching__pool.htm#a0849ace123d8760dfab52418c2732af3">pj_caching_pool::factory</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pool factory interface, must be declared first. </p>

</div>
</div>
<a class="anchor" id="ae2e6f8fd12b1ea85041548181b20486c"></a><!-- doxytag: member="pj_caching_pool::free_list" ref="ae2e6f8fd12b1ea85041548181b20486c" args="[16]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpj__list.htm">pj_list</a> <a class="el" href="structpj__caching__pool.htm#ae2e6f8fd12b1ea85041548181b20486c">pj_caching_pool::free_list</a>[16]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lists of pools in the cache, indexed by pool size. </p>

</div>
</div>
<a class="anchor" id="a8c52deb4260066621787a70a55f88b3a"></a><!-- doxytag: member="pj_caching_pool::lock" ref="a8c52deb4260066621787a70a55f88b3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga3dc49084043901d31c7b12e5afc9fb2f">pj_lock_t</a>* <a class="el" href="structpj__caching__pool.htm#a8c52deb4260066621787a70a55f88b3a">pj_caching_pool::lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mutex. </p>

</div>
</div>
<a class="anchor" id="a6e8ae839188eee356cbc0cdbbcd71a62"></a><!-- doxytag: member="pj_caching_pool::max_capacity" ref="a6e8ae839188eee356cbc0cdbbcd71a62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> <a class="el" href="structpj__caching__pool.htm#a6e8ae839188eee356cbc0cdbbcd71a62">pj_caching_pool::max_capacity</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum size that can be held by this factory. Once the capacity has exceeded <em>max_capacity</em>, further <a class="el" href="group__PJ__POOL.htm#gade0f14f6635ecfccb576ec41c57fede5">pj_pool_release()</a> will flush the pool. If the capacity is still below the <em>max_capacity</em>, <a class="el" href="group__PJ__POOL.htm#gade0f14f6635ecfccb576ec41c57fede5">pj_pool_release()</a> will save the pool to the factory's free list. </p>

</div>
</div>
<a class="anchor" id="a35969ade75058f069f8f89a9365083ed"></a><!-- doxytag: member="pj_caching_pool::peak_used_size" ref="a35969ade75058f069f8f89a9365083ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> <a class="el" href="structpj__caching__pool.htm#a35969ade75058f069f8f89a9365083ed">pj_caching_pool::peak_used_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The maximum size of memory used by application throughout the life of the caching pool. </p>

</div>
</div>
<a class="anchor" id="a0ca0a37e2d42e12c8133e13d29643955"></a><!-- doxytag: member="pj_caching_pool::pool_buf" ref="a0ca0a37e2d42e12c8133e13d29643955" args="[256 *(sizeof(long)/4)]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structpj__caching__pool.htm#a0ca0a37e2d42e12c8133e13d29643955">pj_caching_pool::pool_buf</a>[256 *(sizeof(long)/4)]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal pool. </p>

</div>
</div>
<a class="anchor" id="af478fd77c170b604c87337adca02607a"></a><!-- doxytag: member="pj_caching_pool::used_count" ref="af478fd77c170b604c87337adca02607a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> <a class="el" href="structpj__caching__pool.htm#af478fd77c170b604c87337adca02607a">pj_caching_pool::used_count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of pools currently held by applications. This number gets incremented everytime <a class="el" href="group__PJ__POOL.htm#gaf58c3ba26a1314c0e0be103960ba4a5e">pj_pool_create()</a> is called, and gets decremented when <a class="el" href="group__PJ__POOL.htm#gade0f14f6635ecfccb576ec41c57fede5">pj_pool_release()</a> is called. </p>

</div>
</div>
<a class="anchor" id="a7d6fa4949f2afdfd90358874a0bfdb66"></a><!-- doxytag: member="pj_caching_pool::used_list" ref="a7d6fa4949f2afdfd90358874a0bfdb66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpj__list.htm">pj_list</a> <a class="el" href="structpj__caching__pool.htm#a7d6fa4949f2afdfd90358874a0bfdb66">pj_caching_pool::used_list</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of pools currently allocated by applications. </p>

</div>
</div>
<a class="anchor" id="a765d23af5664d99404ead10f295c0b74"></a><!-- doxytag: member="pj_caching_pool::used_size" ref="a765d23af5664d99404ead10f295c0b74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> <a class="el" href="structpj__caching__pool.htm#a765d23af5664d99404ead10f295c0b74">pj_caching_pool::used_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Total size of memory currently used by application. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="pool_8h_source.htm">pool.h</a></li>
<li><a class="el" href="pool__alt_8h_source.htm">pool_alt.h</a></li>
</ul>
</div>
<p>&nbsp;</p>
<hr><center>
PJLIB Open Source, high performance, small footprint, and very very portable framework<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>


<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
