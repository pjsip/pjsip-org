<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>UDP Transport (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UDP Transport<div class="ingroups"><a class="el" href="group__PJSIP__CORE.htm">Core SIP Library</a> &raquo; <a class="el" href="group__PJSIP__TRANSPORT.htm">Transport</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>API to create and register UDP transport.The functions below are used to create UDP transport and register the transport to the framework.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5d76b81b0ad4c19007a781d4edb8181f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#gga5d76b81b0ad4c19007a781d4edb8181fa29f769d3101ed1084614947ab63fad42">PJSIP_UDP_TRANSPORT_KEEP_SOCKET</a> = 1, 
<a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#gga5d76b81b0ad4c19007a781d4edb8181fad025583717c99e8be58ec7ad39afa043">PJSIP_UDP_TRANSPORT_DESTROY_SOCKET</a> = 2
 }</td></tr>
<tr class="separator:ga5d76b81b0ad4c19007a781d4edb8181f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga65ef8b575ce55dd36ce3fcbd14ccda83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga65ef8b575ce55dd36ce3fcbd14ccda83">pjsip_udp_transport_cfg_default</a> (<a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a> *cfg, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> af)</td></tr>
<tr class="separator:ga65ef8b575ce55dd36ce3fcbd14ccda83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31aece82868695aa2a14b0d3a513edfb"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga31aece82868695aa2a14b0d3a513edfb">pjsip_udp_transport_start2</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, const <a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a> *cfg, <a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **p_transport)</td></tr>
<tr class="separator:ga31aece82868695aa2a14b0d3a513edfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga065dd345bde0618c3c7301d3cbc31ac8"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga065dd345bde0618c3c7301d3cbc31ac8">pjsip_udp_transport_start</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *local, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name, unsigned async_cnt, <a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **p_transport)</td></tr>
<tr class="separator:ga065dd345bde0618c3c7301d3cbc31ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b40599e5e4e104b121555a00ce8d4dd"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga7b40599e5e4e104b121555a00ce8d4dd">pjsip_udp_transport_start6</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in6.htm">pj_sockaddr_in6</a> *local, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name, unsigned async_cnt, <a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **p_transport)</td></tr>
<tr class="separator:ga7b40599e5e4e104b121555a00ce8d4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5f10f8fbd374de72c575a24a1daedf9"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#gaf5f10f8fbd374de72c575a24a1daedf9">pjsip_udp_transport_attach</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name, unsigned async_cnt, <a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **p_transport)</td></tr>
<tr class="separator:gaf5f10f8fbd374de72c575a24a1daedf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ef05fc7e6b894ba35a524341ff36cbb"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga8ef05fc7e6b894ba35a524341ff36cbb">pjsip_udp_transport_attach2</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, <a class="el" href="sip__types_8h.htm#a281800a20f69fd1cfb7b552377a89f21">pjsip_transport_type_e</a> type, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name, unsigned async_cnt, <a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **p_transport)</td></tr>
<tr class="separator:ga8ef05fc7e6b894ba35a524341ff36cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ce1b7e9b24d1af9c917064cf5d78eb5"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga9ce1b7e9b24d1af9c917064cf5d78eb5">pjsip_udp_transport_get_socket</a> (<a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *transport)</td></tr>
<tr class="separator:ga9ce1b7e9b24d1af9c917064cf5d78eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c49467a9c5d146396f96bbedd029221"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga8c49467a9c5d146396f96bbedd029221">pjsip_udp_transport_pause</a> (<a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *transport, unsigned option)</td></tr>
<tr class="separator:ga8c49467a9c5d146396f96bbedd029221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10a94356f68949c4b91bc154d991130f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga10a94356f68949c4b91bc154d991130f">pjsip_udp_transport_restart</a> (<a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *transport, unsigned option, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *local, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name)</td></tr>
<tr class="separator:ga10a94356f68949c4b91bc154d991130f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga433ecbd019b89840bfc9b7d13d0daebe"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga433ecbd019b89840bfc9b7d13d0daebe">pjsip_udp_transport_restart2</a> (<a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *transport, unsigned option, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/unionpj__sockaddr.htm">pj_sockaddr</a> *local, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name)</td></tr>
<tr class="separator:ga433ecbd019b89840bfc9b7d13d0daebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5d76b81b0ad4c19007a781d4edb8181f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d76b81b0ad4c19007a781d4edb8181f">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag that can be specified when calling <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga8c49467a9c5d146396f96bbedd029221">pjsip_udp_transport_pause()</a> or <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga10a94356f68949c4b91bc154d991130f">pjsip_udp_transport_restart()</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5d76b81b0ad4c19007a781d4edb8181fa29f769d3101ed1084614947ab63fad42"></a>PJSIP_UDP_TRANSPORT_KEEP_SOCKET&#160;</td><td class="fielddoc"><p>This flag tells the transport to keep the existing/internal socket handle. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5d76b81b0ad4c19007a781d4edb8181fad025583717c99e8be58ec7ad39afa043"></a>PJSIP_UDP_TRANSPORT_DESTROY_SOCKET&#160;</td><td class="fielddoc"><p>This flag tells the transport to destroy the existing/internal socket handle. Naturally this flag and PJSIP_UDP_TRANSPORT_KEEP_SOCKET are mutually exclusive. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga65ef8b575ce55dd36ce3fcbd14ccda83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65ef8b575ce55dd36ce3fcbd14ccda83">&#9670;&nbsp;</a></span>pjsip_udp_transport_cfg_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_udp_transport_cfg_default </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&#160;</td>
          <td class="paramname"><em>af</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize <a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a> structure with default values for the specifed address family.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The structure to initialize. </td></tr>
    <tr><td class="paramname">af</td><td>Address family to be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga31aece82868695aa2a14b0d3a513edfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31aece82868695aa2a14b0d3a513edfb">&#9670;&nbsp;</a></span>pjsip_udp_transport_start2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_start2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__udp__transport__cfg.htm">pjsip_udp_transport_cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **&#160;</td>
          <td class="paramname"><em>p_transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start UDP IPv4/IPv6 transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The SIP endpoint. </td></tr>
    <tr><td class="paramname">cfg</td><td>UDP transport settings. Application should initialize this setting with <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga65ef8b575ce55dd36ce3fcbd14ccda83">pjsip_udp_transport_cfg_default()</a>. </td></tr>
    <tr><td class="paramname">p_transport</td><td>Pointer to receive the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS when the transport has been successfully started and registered to transport manager, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga065dd345bde0618c3c7301d3cbc31ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga065dd345bde0618c3c7301d3cbc31ac8">&#9670;&nbsp;</a></span>pjsip_udp_transport_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>async_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **&#160;</td>
          <td class="paramname"><em>p_transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start UDP transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The SIP endpoint. </td></tr>
    <tr><td class="paramname">local</td><td>Optional local address to bind. If this argument is NULL, the UDP transport will be bound to arbitrary UDP port. </td></tr>
    <tr><td class="paramname">a_name</td><td>Published address (only the host and port portion is used). If this argument is NULL, then the bound address will be used as the published address. </td></tr>
    <tr><td class="paramname">async_cnt</td><td>Number of simultaneous async operations. </td></tr>
    <tr><td class="paramname">p_transport</td><td>Pointer to receive the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS when the transport has been successfully started and registered to transport manager, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga7b40599e5e4e104b121555a00ce8d4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b40599e5e4e104b121555a00ce8d4dd">&#9670;&nbsp;</a></span>pjsip_udp_transport_start6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_start6 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in6.htm">pj_sockaddr_in6</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>async_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **&#160;</td>
          <td class="paramname"><em>p_transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start IPv6 UDP transport. </p>

</div>
</div>
<a id="gaf5f10f8fbd374de72c575a24a1daedf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5f10f8fbd374de72c575a24a1daedf9">&#9670;&nbsp;</a></span>pjsip_udp_transport_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>async_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **&#160;</td>
          <td class="paramname"><em>p_transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attach IPv4 UDP socket as a new transport and start the transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The SIP endpoint. </td></tr>
    <tr><td class="paramname">sock</td><td>UDP socket to use. </td></tr>
    <tr><td class="paramname">a_name</td><td>Published address (only the host and port portion is used). </td></tr>
    <tr><td class="paramname">async_cnt</td><td>Number of simultaneous async operations. </td></tr>
    <tr><td class="paramname">p_transport</td><td>Pointer to receive the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS when the transport has been successfully started and registered to transport manager, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga8ef05fc7e6b894ba35a524341ff36cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ef05fc7e6b894ba35a524341ff36cbb">&#9670;&nbsp;</a></span>pjsip_udp_transport_attach2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_attach2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a281800a20f69fd1cfb7b552377a89f21">pjsip_transport_type_e</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>async_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> **&#160;</td>
          <td class="paramname"><em>p_transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attach IPv4 or IPv6 UDP socket as a new transport and start the transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The SIP endpoint. </td></tr>
    <tr><td class="paramname">type</td><td>Transport type, which is PJSIP_TRANSPORT_UDP for IPv4 or PJSIP_TRANSPORT_UDP6 for IPv6 socket. </td></tr>
    <tr><td class="paramname">sock</td><td>UDP socket to use. </td></tr>
    <tr><td class="paramname">a_name</td><td>Published address (only the host and port portion is used). </td></tr>
    <tr><td class="paramname">async_cnt</td><td>Number of simultaneous async operations. </td></tr>
    <tr><td class="paramname">p_transport</td><td>Pointer to receive the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS when the transport has been successfully started and registered to transport manager, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga9ce1b7e9b24d1af9c917064cf5d78eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ce1b7e9b24d1af9c917064cf5d78eb5">&#9670;&nbsp;</a></span>pjsip_udp_transport_get_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> pjsip_udp_transport_get_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the internal socket handle used by the UDP transport. Note that this socket normally is registered to ioqueue, so if application wants to make use of this socket, it should temporarily pause the transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The UDP transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The socket handle, or PJ_INVALID_SOCKET if no socket is currently being used (for example, when transport is being paused). </dd></dl>

</div>
</div>
<a id="ga8c49467a9c5d146396f96bbedd029221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c49467a9c5d146396f96bbedd029221">&#9670;&nbsp;</a></span>pjsip_udp_transport_pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_pause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Temporarily pause or shutdown the transport. When transport is being paused, it cannot be used by the SIP stack to send or receive SIP messages.</p>
<p>Two types of operations are supported by this function:</p><ul>
<li>to temporarily make this transport unavailable for SIP uses, but otherwise keep the socket handle intact. Application then can retrieve the socket handle with <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga9ce1b7e9b24d1af9c917064cf5d78eb5">pjsip_udp_transport_get_socket()</a> and use it to send/receive application data (for example, STUN messages). In this case, application should specify PJSIP_UDP_TRANSPORT_KEEP_SOCKET when calling this function, and also to specify this flag when calling <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga10a94356f68949c4b91bc154d991130f">pjsip_udp_transport_restart()</a> later.</li>
<li>to temporarily shutdown the transport, including closing down the internal socket handle. This is useful for example to temporarily suspend the application for an indefinite period. In this case, application should specify PJSIP_UDP_TRANSPORT_DESTROY_SOCKET flag when calling this function, and specify a new socket when calling <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga10a94356f68949c4b91bc154d991130f">pjsip_udp_transport_restart()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The UDP transport. </td></tr>
    <tr><td class="paramname">option</td><td>Pause option.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if transport is paused successfully, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga10a94356f68949c4b91bc154d991130f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10a94356f68949c4b91bc154d991130f">&#9670;&nbsp;</a></span>pjsip_udp_transport_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_restart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restart the transport. Several operations are supported by this function:</p><ul>
<li>if transport was made temporarily unavailable to SIP stack with <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga8c49467a9c5d146396f96bbedd029221">pjsip_udp_transport_pause()</a> and PJSIP_UDP_TRANSPORT_KEEP_SOCKET, application can make the transport available to the SIP stack again, by specifying PJSIP_UDP_TRANSPORT_KEEP_SOCKET flag here.</li>
<li>if application wants to replace the internal socket with a new socket, it must specify PJSIP_UDP_TRANSPORT_DESTROY_SOCKET when calling this function, so that the internal socket will be destroyed if it hasn't been closed. In this case, application has two choices on how to create the new socket: 1) to let the transport create the new socket, in this case the <em>sock</em> option should be set to <em>PJ_INVALID_SOCKET</em> and optionally the <em>local</em> parameter can be filled with the desired address and port where the new socket should be bound to, or 2) to specify its own socket to be used by this transport, by specifying a valid socket in <em>sock</em> argument and set the <em>local</em> argument to NULL. In both cases, application may specify the published address of the socket in <em>a_name</em> argument.</li>
</ul>
<p>Note that prior to calling this method, any locks acquired need to be released temporarily to avoid any deadlock scenario. This method will loop to wait for read operation to finish before actually restart the transport. This might lead to deadlock if any other thread with the read operation tries to acquire the same lock held by the thread calling this method. Please see <a href="https://github.com/pjsip/pjproject/pull/2731">https://github.com/pjsip/pjproject/pull/2731</a> for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The UDP transport. </td></tr>
    <tr><td class="paramname">option</td><td>Restart option. </td></tr>
    <tr><td class="paramname">sock</td><td>Optional socket to be used by the transport. </td></tr>
    <tr><td class="paramname">local</td><td>The address where the socket should be bound to. If this argument is NULL, socket will be bound to any available port. </td></tr>
    <tr><td class="paramname">a_name</td><td>Optionally specify the published address for this transport. If the socket is not replaced (PJSIP_UDP_TRANSPORT_KEEP_SOCKET flag is specified), then if this argument is NULL, the previous value will be used. If the socket is replaced and this argument is NULL, the bound address will be used as the published address of the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if transport can be restarted, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga433ecbd019b89840bfc9b7d13d0daebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga433ecbd019b89840bfc9b7d13d0daebe">&#9670;&nbsp;</a></span>pjsip_udp_transport_restart2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_udp_transport_restart2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transport.htm">pjsip_transport</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/unionpj__sockaddr.htm">pj_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&#160;</td>
          <td class="paramname"><em>a_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restart the transport. Several operations are supported by this function:</p><ul>
<li>if transport was made temporarily unavailable to SIP stack with <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga8c49467a9c5d146396f96bbedd029221">pjsip_udp_transport_pause()</a> and PJSIP_UDP_TRANSPORT_KEEP_SOCKET, application can make the transport available to the SIP stack again, by specifying PJSIP_UDP_TRANSPORT_KEEP_SOCKET flag here.</li>
<li>if application wants to replace the internal socket with a new socket, it must specify PJSIP_UDP_TRANSPORT_DESTROY_SOCKET when calling this function, so that the internal socket will be destroyed if it hasn't been closed. In this case, application has two choices on how to create the new socket: 1) to let the transport create the new socket, in this case the <em>sock</em> option should be set to <em>PJ_INVALID_SOCKET</em> and optionally the <em>local</em> parameter can be filled with the desired address and port where the new socket should be bound to, or 2) to specify its own socket to be used by this transport, by specifying a valid socket in <em>sock</em> argument and set the <em>local</em> argument to NULL. In both cases, application may specify the published address of the socket in <em>a_name</em> argument. This is another version of <a class="el" href="group__PJSIP__TRANSPORT__UDP.htm#ga10a94356f68949c4b91bc154d991130f">pjsip_udp_transport_restart()</a> able to restart IPv6 transport.</li>
</ul>
<p>Note that prior to calling this method, any locks acquired need to be released temporarily to avoid any deadlock scenario. This method will loop to wait for read operation to finish before actually restart the transport. This might lead to deadlock if any other thread with the read operation tries to acquire the same lock held by the thread calling this method. Please see <a href="https://github.com/pjsip/pjproject/pull/2731">https://github.com/pjsip/pjproject/pull/2731</a> for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The UDP transport. </td></tr>
    <tr><td class="paramname">option</td><td>Restart option. </td></tr>
    <tr><td class="paramname">sock</td><td>Optional socket to be used by the transport. </td></tr>
    <tr><td class="paramname">local</td><td>The address where the socket should be bound to. If this argument is NULL, socket will be bound to any available port. </td></tr>
    <tr><td class="paramname">a_name</td><td>Optionally specify the published address for this transport. If the socket is not replaced (PJSIP_UDP_TRANSPORT_KEEP_SOCKET flag is specified), then if this argument is NULL, the previous value will be used. If the socket is replaced and this argument is NULL, the bound address will be used as the published address of the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if transport can be restarted, or the appropriate error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
