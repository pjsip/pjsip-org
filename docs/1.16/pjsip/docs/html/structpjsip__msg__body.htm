<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: pjsip_msg_body Struct Reference (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.htm"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<h1>pjsip_msg_body Struct Reference<br/>
<small>
[<a class="el" href="group__PJSIP__MSG__BODY.htm">Message Body</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pjsip_msg_body" -->
<p><code>#include &lt;sip_msg.h&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__media__type.htm">pjsip_media_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__msg__body.htm#a9fa45e63ee0bee8dbf9ac6868161801d">content_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__msg__body.htm#a0c1af82993d867efd1392330fe0fad10">data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__msg__body.htm#a4c269f51e84bfbe74694cf93ac7928a5">len</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__msg__body.htm#a632c76e95f30242872863828df658c8c">print_body</a> )(struct <a class="el" href="structpjsip__msg__body.htm">pjsip_msg_body</a> *msg_body, char *buf, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__msg__body.htm#a469c4e9cca05c04a3efd662f1ad36f57">clone_data</a> )(<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const void *<a class="el" href="structpjsip__msg__body.htm#a0c1af82993d867efd1392330fe0fad10">data</a>, unsigned <a class="el" href="structpjsip__msg__body.htm#a4c269f51e84bfbe74694cf93ac7928a5">len</a>)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Generic abstraction to message body. When an incoming message is parsed (<a class="el" href="group__PJSIP__PARSER.htm#gae10c44d2c9e07b58697d4e04bbfb9a8d">pjsip_parse_msg()</a>), the parser fills in all members with the appropriate value. The 'data' and 'len' member will describe portion of incoming packet which denotes the message body. When application needs to attach message body to outgoing SIP message, it must fill in all members of this structure.</p>
<p>Forward declaration for message body (<a class="el" href="sip__msg_8h.htm" title="SIP Message Structure.">sip_msg.h</a>). </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a9fa45e63ee0bee8dbf9ac6868161801d"></a><!-- doxytag: member="pjsip_msg_body::content_type" ref="a9fa45e63ee0bee8dbf9ac6868161801d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__media__type.htm">pjsip_media_type</a> <a class="el" href="structpjsip__msg__body.htm#a9fa45e63ee0bee8dbf9ac6868161801d">pjsip_msg_body::content_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MIME content type. For incoming messages, the parser will fill in this member with the content type found in Content-Type header.</p>
<p>For outgoing messages, application may fill in this member with appropriate value, because the stack will generate Content-Type header based on the value specified here.</p>
<p>If the content_type is empty, no Content-Type AND Content-Length header will be added to the message. The stack assumes that application adds these headers themselves. </p>

</div>
</div>
<a class="anchor" id="a0c1af82993d867efd1392330fe0fad10"></a><!-- doxytag: member="pjsip_msg_body::data" ref="a0c1af82993d867efd1392330fe0fad10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structpjsip__msg__body.htm#a0c1af82993d867efd1392330fe0fad10">pjsip_msg_body::data</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to buffer which holds the message body data. For incoming messages, the parser will fill in this member with the pointer to the body string.</p>
<p>When sending outgoing message, this member doesn't need to point to the actual message body string. It can be assigned with arbitrary pointer, because the value will only need to be understood by the <a class="el" href="structpjsip__msg__body.htm#a632c76e95f30242872863828df658c8c">print_body()</a> function. The stack itself will not try to interpret this value, but instead will always call the <a class="el" href="structpjsip__msg__body.htm#a632c76e95f30242872863828df658c8c">print_body()</a> whenever it needs to get the actual body string. </p>

</div>
</div>
<a class="anchor" id="a4c269f51e84bfbe74694cf93ac7928a5"></a><!-- doxytag: member="pjsip_msg_body::len" ref="a4c269f51e84bfbe74694cf93ac7928a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structpjsip__msg__body.htm#a4c269f51e84bfbe74694cf93ac7928a5">pjsip_msg_body::len</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The length of the data. For incoming messages, the parser will fill in this member with the actual length of message body.</p>
<p>When sending outgoing message, again just like the "data" member, the "len" member doesn't need to point to the actual length of the body string. </p>

</div>
</div>
<a class="anchor" id="a632c76e95f30242872863828df658c8c"></a><!-- doxytag: member="pjsip_msg_body::print_body" ref="a632c76e95f30242872863828df658c8c" args=")(struct pjsip_msg_body *msg_body, char *buf, pj_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>(* <a class="el" href="structpjsip__msg__body.htm#a632c76e95f30242872863828df658c8c">pjsip_msg_body::print_body</a>)(struct <a class="el" href="structpjsip__msg__body.htm">pjsip_msg_body</a> *msg_body, char *buf, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to function to print this message body. Application must set a proper function here when sending outgoing message.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg_body</em>&nbsp;</td><td>This structure itself. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The buffer size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The length of the string printed, or -1 if there is not enough space in the buffer to print the whole message body. </dd></dl>

</div>
</div>
<a class="anchor" id="a469c4e9cca05c04a3efd662f1ad36f57"></a><!-- doxytag: member="pjsip_msg_body::clone_data" ref="a469c4e9cca05c04a3efd662f1ad36f57" args=")(pj_pool_t *pool, const void *data, unsigned len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* <a class="el" href="structpjsip__msg__body.htm#a469c4e9cca05c04a3efd662f1ad36f57">pjsip_msg_body::clone_data</a>)(<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const void *<a class="el" href="structpjsip__msg__body.htm#a0c1af82993d867efd1392330fe0fad10">data</a>, unsigned <a class="el" href="structpjsip__msg__body.htm#a4c269f51e84bfbe74694cf93ac7928a5">len</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clone the data part only of this message body. Note that this only duplicates the data part of the body instead of the whole message body. If application wants to duplicate the entire message body structure, it must call <a class="el" href="group__PJSIP__MSG__BODY.htm#ga04a3765da181fc32ef170e705af44fd3">pjsip_msg_body_clone()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>Pool used to clone the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The data inside message body, to be cloned. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>New data duplicated from the original data. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="sip__msg_8h.htm">sip_msg.h</a></li>
</ul>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
