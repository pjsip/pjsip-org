<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJLIB Reference: Socket select() API. (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJLIB Reference</p>


<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Socket select() API.<br/>
<small>
[<a class="el" href="group__PJ__IO.htm">Input/Output</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#ga73e77bf9c12e925d43e7b45f1121e596">PJ_FD_ZERO</a> (<a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *fdsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#ga249223ede6e6915cd4e0f8d9ce5264a3">PJ_FD_COUNT</a> (const <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *fdsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#ga5c61d47831851a00aed2361f0166bb69">PJ_FD_SET</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> fd, <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *fdsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#ga642c142bf6997d04ff51ebfd716637d4">PJ_FD_CLR</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> fd, <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *fdsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#gab8396be2fb425e96a4182f7c90504477">PJ_FD_ISSET</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> fd, const <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *fdsetp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJ__SOCK__SELECT.htm#gac84492169bc8b8fbab6e48f1b9150b2f">pj_sock_select</a> (int n, <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *readfds, <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *writefds, <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *exceptfds, const <a class="el" href="structpj__time__val.htm">pj_time_val</a> *timeout)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This module provides portable abstraction for <em>select()</em> like API. The abstraction is needed so that it can utilize various event dispatching mechanisms that are available across platforms.</p>
<p>The API is very similar to normal <em>select()</em> usage.</p>
<h2><a class="anchor" id="pj_sock_select_examples_sec"></a>
Examples</h2>
<p>For some examples on how to use the select API, please see:</p>
<ul>
<li><a class="el" href="page_pjlib_select_test.htm">Test: Socket Select()</a> </li>
</ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga642c142bf6997d04ff51ebfd716637d4"></a><!-- doxytag: member="sock_select.h::PJ_FD_CLR" ref="ga642c142bf6997d04ff51ebfd716637d4" args="(pj_sock_t fd, pj_fd_set_t *fdsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PJ_FD_CLR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fdsetp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove the file descriptor fd from the set pointed to by fdsetp. If fd is not a member of this set, there shall be no effect on the set, nor will an error be returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>The socket descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fdsetp</em>&nbsp;</td><td>The descriptor set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga249223ede6e6915cd4e0f8d9ce5264a3"></a><!-- doxytag: member="sock_select.h::PJ_FD_COUNT" ref="ga249223ede6e6915cd4e0f8d9ce5264a3" args="(const pj_fd_set_t *fdsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> PJ_FD_COUNT </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fdsetp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is an internal function, application shouldn't use this.</p>
<p>Get the number of descriptors in the set. This is defined in sock_select.c This function will only return the number of sockets set from PJ_FD_SET operation. When the set is modified by other means (such as by select()), the count will not be reflected here.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fdsetp</em>&nbsp;</td><td>The descriptor set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of descriptors in the set. </dd></dl>

</div>
</div>
<a class="anchor" id="gab8396be2fb425e96a4182f7c90504477"></a><!-- doxytag: member="sock_select.h::PJ_FD_ISSET" ref="gab8396be2fb425e96a4182f7c90504477" args="(pj_sock_t fd, const pj_fd_set_t *fdsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> PJ_FD_ISSET </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fdsetp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Evaluate to non-zero if the file descriptor fd is a member of the set pointed to by fdsetp, and shall evaluate to zero otherwise.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>The socket descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fdsetp</em>&nbsp;</td><td>The descriptor set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nonzero if fd is member of the descriptor set. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5c61d47831851a00aed2361f0166bb69"></a><!-- doxytag: member="sock_select.h::PJ_FD_SET" ref="ga5c61d47831851a00aed2361f0166bb69" args="(pj_sock_t fd, pj_fd_set_t *fdsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PJ_FD_SET </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fdsetp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the file descriptor fd to the set pointed to by fdsetp. If the file descriptor fd is already in this set, there shall be no effect on the set, nor will an error be returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>The socket descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fdsetp</em>&nbsp;</td><td>The descriptor set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga73e77bf9c12e925d43e7b45f1121e596"></a><!-- doxytag: member="sock_select.h::PJ_FD_ZERO" ref="ga73e77bf9c12e925d43e7b45f1121e596" args="(pj_fd_set_t *fdsetp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PJ_FD_ZERO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fdsetp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the descriptor set pointed to by fdsetp to the null set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fdsetp</em>&nbsp;</td><td>The descriptor set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac84492169bc8b8fbab6e48f1b9150b2f"></a><!-- doxytag: member="sock_select.h::pj_sock_select" ref="gac84492169bc8b8fbab6e48f1b9150b2f" args="(int n, pj_fd_set_t *readfds, pj_fd_set_t *writefds, pj_fd_set_t *exceptfds, const pj_time_val *timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pj_sock_select </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__fd__set__t.htm">pj_fd_set_t</a> *&nbsp;</td>
          <td class="paramname"> <em>exceptfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__time__val.htm">pj_time_val</a> *&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function wait for a number of file descriptors to change status. The behaviour is the same as select() function call which appear in standard BSD socket libraries.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>On Unices, this specifies the highest-numbered descriptor in any of the three set, plus 1. On Windows, the value is ignored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readfds</em>&nbsp;</td><td>Optional pointer to a set of sockets to be checked for readability. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>writefds</em>&nbsp;</td><td>Optional pointer to a set of sockets to be checked for writability. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptfds</em>&nbsp;</td><td>Optional pointer to a set of sockets to be checked for errors. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time for select to wait, or null for blocking operations.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The total number of socket handles that are ready, or zero if the time limit expired, or -1 if an error occurred. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJLIB Open Source, high performance, small footprint, and very very portable framework<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>


<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
