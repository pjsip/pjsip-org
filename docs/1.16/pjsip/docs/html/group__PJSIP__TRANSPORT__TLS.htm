<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: TLS Transport (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>TLS Transport<br/>
<small>
[<a class="el" href="group__PJSIP__TRANSPORT.htm">Transport</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>API to create and register TLS transport.The functions below are used to create TLS transport and register the transport to the framework.  
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__tls__state__info.htm">pjsip_tls_state_info</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#gaa864aa12ea765e209b732131b76b10dd">PJSIP_SSL_DEFAULT_METHOD</a>&nbsp;&nbsp;&nbsp;PJSIP_TLSV1_METHOD</td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#gaf7a54e10ef4a56549720976c1418e9a3">pjsip_ssl_method</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ggaf7a54e10ef4a56549720976c1418e9a3abf9d0ad091a5fc5563e971fd37ce9df7">PJSIP_SSL_UNSPECIFIED_METHOD</a> =  0, 
<a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ggaf7a54e10ef4a56549720976c1418e9a3a5b93bfd8ae0fbe73b5d5a22ad69c4e44">PJSIP_TLSV1_METHOD</a> =  31, 
<a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ggaf7a54e10ef4a56549720976c1418e9a3a2d6fdb2aab30e2d58f9c868cc4aeea9b">PJSIP_SSLV2_METHOD</a> =  20, 
<a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ggaf7a54e10ef4a56549720976c1418e9a3ab00499d3c7ba7eb9054ba8a6fd40da0c">PJSIP_SSLV3_METHOD</a> =  30, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ggaf7a54e10ef4a56549720976c1418e9a3aeac647808beeff0eccc5006040d906ed">PJSIP_SSLV23_METHOD</a> =  23
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ga707b0d34b6219fda809c6afa492ac8b2">pjsip_tls_setting_default</a> (<a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *tls_opt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ga9f4ee1940643ed29135ae6c57feee99e">pjsip_tls_setting_copy</a> (<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *dst, const <a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#ga41eb5d632b0c8c8f4a18310ef9e1b33d">pjsip_tls_transport_start</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, const <a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *opt, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *local, const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *a_name, unsigned async_cnt, <a class="el" href="structpjsip__tpfactory.htm">pjsip_tpfactory</a> **p_factory)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaa864aa12ea765e209b732131b76b10dd"></a><!-- doxytag: member="sip_transport_tls.h::PJSIP_SSL_DEFAULT_METHOD" ref="gaa864aa12ea765e209b732131b76b10dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJSIP_SSL_DEFAULT_METHOD&nbsp;&nbsp;&nbsp;PJSIP_TLSV1_METHOD</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The default SSL method to be used by PJSIP. Default is PJSIP_TLSV1_METHOD </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaf7a54e10ef4a56549720976c1418e9a3"></a><!-- doxytag: member="sip_transport_tls.h::pjsip_ssl_method" ref="gaf7a54e10ef4a56549720976c1418e9a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__TRANSPORT__TLS.htm#gaf7a54e10ef4a56549720976c1418e9a3">pjsip_ssl_method</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>SSL protocol method constants. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaf7a54e10ef4a56549720976c1418e9a3abf9d0ad091a5fc5563e971fd37ce9df7"></a><!-- doxytag: member="PJSIP_SSL_UNSPECIFIED_METHOD" ref="ggaf7a54e10ef4a56549720976c1418e9a3abf9d0ad091a5fc5563e971fd37ce9df7" args="" -->PJSIP_SSL_UNSPECIFIED_METHOD</em>&nbsp;</td><td>
<p>Default protocol method. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf7a54e10ef4a56549720976c1418e9a3a5b93bfd8ae0fbe73b5d5a22ad69c4e44"></a><!-- doxytag: member="PJSIP_TLSV1_METHOD" ref="ggaf7a54e10ef4a56549720976c1418e9a3a5b93bfd8ae0fbe73b5d5a22ad69c4e44" args="" -->PJSIP_TLSV1_METHOD</em>&nbsp;</td><td>
<p>Use SSLv1 method. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf7a54e10ef4a56549720976c1418e9a3a2d6fdb2aab30e2d58f9c868cc4aeea9b"></a><!-- doxytag: member="PJSIP_SSLV2_METHOD" ref="ggaf7a54e10ef4a56549720976c1418e9a3a2d6fdb2aab30e2d58f9c868cc4aeea9b" args="" -->PJSIP_SSLV2_METHOD</em>&nbsp;</td><td>
<p>Use SSLv2 method. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf7a54e10ef4a56549720976c1418e9a3ab00499d3c7ba7eb9054ba8a6fd40da0c"></a><!-- doxytag: member="PJSIP_SSLV3_METHOD" ref="ggaf7a54e10ef4a56549720976c1418e9a3ab00499d3c7ba7eb9054ba8a6fd40da0c" args="" -->PJSIP_SSLV3_METHOD</em>&nbsp;</td><td>
<p>Use SSLv3 method. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf7a54e10ef4a56549720976c1418e9a3aeac647808beeff0eccc5006040d906ed"></a><!-- doxytag: member="PJSIP_SSLV23_METHOD" ref="ggaf7a54e10ef4a56549720976c1418e9a3aeac647808beeff0eccc5006040d906ed" args="" -->PJSIP_SSLV23_METHOD</em>&nbsp;</td><td>
<p>Use SSLv23 method. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga707b0d34b6219fda809c6afa492ac8b2"></a><!-- doxytag: member="sip_transport_tls.h::pjsip_tls_setting_default" ref="ga707b0d34b6219fda809c6afa492ac8b2" args="(pjsip_tls_setting *tls_opt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_tls_setting_default </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *&nbsp;</td>
          <td class="paramname"> <em>tls_opt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize TLS setting with default values.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tls_opt</em>&nbsp;</td><td>The TLS setting to be initialized. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga4c63a114dcee8ff7f04b3f142d2158f0">pj_memset()</a>, and <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba4e0e87e6227cc37dd1d5be85b561fb9f">PJ_QOS_TYPE_BEST_EFFORT</a>.</p>

</div>
</div>
<a class="anchor" id="ga9f4ee1940643ed29135ae6c57feee99e"></a><!-- doxytag: member="sip_transport_tls.h::pjsip_tls_setting_copy" ref="ga9f4ee1940643ed29135ae6c57feee99e" args="(pj_pool_t *pool, pjsip_tls_setting *dst, const pjsip_tls_setting *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_tls_setting_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy TLS setting.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The pool to duplicate strings etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>Destination structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Source structure. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga38d0ee03a9c582c627d44bfcb35fb6a8">pj_memcpy()</a>, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__POOL.htm#gadbfad2994a9bf4a86ce81f5726d4502c">pj_pool_calloc()</a>, and <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga2ef03b838e3aa3090a0a14dca67ff9ec">pj_strdup_with_null()</a>.</p>

</div>
</div>
<a class="anchor" id="ga41eb5d632b0c8c8f4a18310ef9e1b33d"></a><!-- doxytag: member="sip_transport_tls.h::pjsip_tls_transport_start" ref="ga41eb5d632b0c8c8f4a18310ef9e1b33d" args="(pjsip_endpoint *endpt, const pjsip_tls_setting *opt, const pj_sockaddr_in *local, const pjsip_host_port *a_name, unsigned async_cnt, pjsip_tpfactory **p_factory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tls_transport_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__tls__setting.htm">pjsip_tls_setting</a> *&nbsp;</td>
          <td class="paramname"> <em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__sockaddr__in.htm">pj_sockaddr_in</a> *&nbsp;</td>
          <td class="paramname"> <em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__host__port.htm">pjsip_host_port</a> *&nbsp;</td>
          <td class="paramname"> <em>a_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>async_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tpfactory.htm">pjsip_tpfactory</a> **&nbsp;</td>
          <td class="paramname"> <em>p_factory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register support for SIP TLS transport by creating TLS listener on the specified address and port. This function will create an instance of SIP TLS transport factory and register it to the transport manager.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>endpt</em>&nbsp;</td><td>The SIP endpoint. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>opt</em>&nbsp;</td><td>Optional TLS settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local</em>&nbsp;</td><td>Optional local address to bind, or specify the address to bind the server socket to. Both IP interface address and port fields are optional. If IP interface address is not specified, socket will be bound to PJ_INADDR_ANY. If port is not specified, socket will be bound to any port selected by the operating system. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a_name</em>&nbsp;</td><td>Optional published address, which is the address to be advertised as the address of this SIP transport. If this argument is NULL, then the bound address will be used as the published address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>async_cnt</em>&nbsp;</td><td>Number of simultaneous asynchronous accept() operations to be supported. It is recommended that the number here corresponds to the number of processors in the system (or the number of SIP worker threads). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_factory</em>&nbsp;</td><td>Optional pointer to receive the instance of the SIP TLS transport factory just created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS when the transport has been successfully started and registered to transport manager, or the appropriate error code. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
