<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Target URI Management (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Target URI Management<div class="ingroups"><a class="el" href="group__PJSIP__CORE.htm">Core SIP Library</a> &raquo; <a class="el" href="group__PJSIP__CORE__CORE.htm">At the Very Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Management of target URI's in case of redirectionThis module provides utility functions to manage target set for UAC. The target set is provided as <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> structure. Initially, the target set for UAC contains only one target, that is the target of the initial request. When 3xx/redirection class response is received, the UAC can use the functionality of this module to add the URI's listed in the Contact header(s) in the response to the target set, and retry sending the request to the next destination/target. The UAC may retry this sequentially until one of the target answers with succesful/2xx response, or one target returns global error/6xx response, or all targets are exhausted.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__target.htm">pjsip_target</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa99c427ca4668e49f1c3f6e25b10516c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a> { <br />
&#160;&#160;<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516cab1bd4bf2df174fa00659de0acfa6a252">PJSIP_REDIRECT_REJECT</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca78300a38964d418c4a83abb304c92f3f">PJSIP_REDIRECT_ACCEPT</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca93ffd0845871c3bfbea057ff9c5074ea">PJSIP_REDIRECT_ACCEPT_REPLACE</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca836653ae86351dbfefad76d951681ddc">PJSIP_REDIRECT_PENDING</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca9126f8b69b48238fbd1288830d45e94b">PJSIP_REDIRECT_STOP</a>
<br />
 }</td></tr>
<tr class="separator:gaa99c427ca4668e49f1c3f6e25b10516c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga94395baba22fafd43bc41130883a2386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset)</td></tr>
<tr class="separator:ga94395baba22fafd43bc41130883a2386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cd736e7f5cf903dc8896dd70e1dd22c"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga8cd736e7f5cf903dc8896dd70e1dd22c">pjsip_target_set_add_uri</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *uri, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> q1000)</td></tr>
<tr class="separator:ga8cd736e7f5cf903dc8896dd70e1dd22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d7cdd29007309e415d2763739af0f2d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga6d7cdd29007309e415d2763739af0f2d">pjsip_target_set_add_from_msg</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *msg)</td></tr>
<tr class="separator:ga6d7cdd29007309e415d2763739af0f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e1bc8c303a41e7a51c6067f7217325a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga3e1bc8c303a41e7a51c6067f7217325a">pjsip_target_set_get_next</a> (const <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset)</td></tr>
<tr class="separator:ga3e1bc8c303a41e7a51c6067f7217325a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga451dd48e0eaafba19feb2ec974f4ccc4"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga451dd48e0eaafba19feb2ec974f4ccc4">pjsip_target_set_set_current</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="el" href="structpjsip__target.htm">pjsip_target</a> *target)</td></tr>
<tr class="separator:ga451dd48e0eaafba19feb2ec974f4ccc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dd6e1e61b24553f7950310f9e880a7d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga1dd6e1e61b24553f7950310f9e880a7d">pjsip_target_assign_status</a> (<a class="el" href="structpjsip__target.htm">pjsip_target</a> *target, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> status_code, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason)</td></tr>
<tr class="separator:ga1dd6e1e61b24553f7950310f9e880a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module is currently used by the <a class="el" href="group__PJSIP__INV.htm">INVITE Session</a>. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa99c427ca4668e49f1c3f6e25b10516c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa99c427ca4668e49f1c3f6e25b10516c">&#9670;&nbsp;</a></span>pjsip_redirect_op</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These enumerations specify the action to be performed to a redirect response. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa99c427ca4668e49f1c3f6e25b10516cab1bd4bf2df174fa00659de0acfa6a252"></a>PJSIP_REDIRECT_REJECT&#160;</td><td class="fielddoc"><p>Reject the redirection to the current target. The UAC will select the next target from the target set if exists. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa99c427ca4668e49f1c3f6e25b10516ca78300a38964d418c4a83abb304c92f3f"></a>PJSIP_REDIRECT_ACCEPT&#160;</td><td class="fielddoc"><p>Accept the redirection to the current target. The INVITE request will be resent to the current target. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa99c427ca4668e49f1c3f6e25b10516ca93ffd0845871c3bfbea057ff9c5074ea"></a>PJSIP_REDIRECT_ACCEPT_REPLACE&#160;</td><td class="fielddoc"><p>Accept the redirection to the current target and replace the To header in the INVITE request with the current target. The INVITE request will be resent to the current target. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa99c427ca4668e49f1c3f6e25b10516ca836653ae86351dbfefad76d951681ddc"></a>PJSIP_REDIRECT_PENDING&#160;</td><td class="fielddoc"><p>Defer the redirection decision, for example to request permission from the end user. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa99c427ca4668e49f1c3f6e25b10516ca9126f8b69b48238fbd1288830d45e94b"></a>PJSIP_REDIRECT_STOP&#160;</td><td class="fielddoc"><p>Stop the whole redirection process altogether. This will cause the invite session to be disconnected. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga94395baba22fafd43bc41130883a2386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94395baba22fafd43bc41130883a2386">&#9670;&nbsp;</a></span>pjsip_target_set_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_target_set_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&#160;</td>
          <td class="paramname"><em>tset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize target set. This will empty the list of targets in the target set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tset</td><td>The target set. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structpjsip__target__set.htm#a705aac21bd38d2e4675f19ae46ebcda5">pjsip_target_set::current</a>, <a class="el" href="structpjsip__target__set.htm#a003bbeb4dcd22b8a176e5f7008da277c">pjsip_target_set::head</a>, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__LIST.htm#ga0f39ad164f2124e6d42d1c2e7a5926dc">pj_list_init()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#ga4dcb02a9dadb786bd8aa902a207e6195">pjsip_endpt_create_ack()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#gaaa0d0613b0db39a7d634d18288dbe452">pjsip_endpt_create_cancel()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#ga6a5dc2cd5b43a1adf869c9746593f818">pjsip_endpt_create_request()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#gafbcdac0f5e7116397eb650ed6ae59644">pjsip_endpt_create_request_from_hdr()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#gac9f1f0b66ed886e7f717a3a087e386ec">pjsip_endpt_create_response()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#ga48814a7f8b277dabc19c46efdb555a9d">pjsip_get_dest_info()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#gab0152865eea909cc26519ac6d70d8430">pjsip_get_request_dest()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#ga8d1030bd2a6b5b55c4a6a95e03393ed7">pjsip_process_route_set()</a>, <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#ga0466e76dd131e32dd471a5e808d9003e">pjsip_restore_strict_route_set()</a>, <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga1dd6e1e61b24553f7950310f9e880a7d">pjsip_target_assign_status()</a>, <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga6d7cdd29007309e415d2763739af0f2d">pjsip_target_set_add_from_msg()</a>, <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga8cd736e7f5cf903dc8896dd70e1dd22c">pjsip_target_set_add_uri()</a>, <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga3e1bc8c303a41e7a51c6067f7217325a">pjsip_target_set_get_next()</a>, <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga451dd48e0eaafba19feb2ec974f4ccc4">pjsip_target_set_set_current()</a>, <a class="el" href="structpjsip__target.htm#ac3d4412d634956f9bf6180a9af4f0899">pjsip_target::q1000</a>, <a class="el" href="structpjsip__target.htm#a8561437532522ca7e091f49a8bb8d6c9">pjsip_target::reason</a>, and <a class="el" href="structpjsip__target.htm#ab34fd49918f7fbf24af2fa40b5f5eecb">pjsip_target::uri</a>.</p>

</div>
</div>
<a id="ga8cd736e7f5cf903dc8896dd70e1dd22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cd736e7f5cf903dc8896dd70e1dd22c">&#9670;&nbsp;</a></span>pjsip_target_set_add_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_add_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&#160;</td>
          <td class="paramname"><em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&#160;</td>
          <td class="paramname"><em>q1000</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an URI to the target set, if the URI is not already in the target set. The URI comparison rule of <a class="el" href="group__PJSIP__URI__GENERIC.htm#ga99061502fe3805ace689dce34a9cf830">pjsip_uri_cmp()</a> will be used to determine the equality of this URI compared to existing URI's in the target set. The URI will be cloned using the specified memory pool before it is added to the list.</p>
<p>The first URI added to the target set will also be made current target by this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tset</td><td>The target set. </td></tr>
    <tr><td class="paramname">pool</td><td>The memory pool to be used to duplicate the URI. </td></tr>
    <tr><td class="paramname">uri</td><td>The URI to be checked and added. </td></tr>
    <tr><td class="paramname">q1000</td><td>The q-value multiplied by 1000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if the URI was added to the target set, or PJ_EEXISTS if the URI already exists in the target set, or other error codes. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init()</a>.</p>

</div>
</div>
<a id="ga6d7cdd29007309e415d2763739af0f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d7cdd29007309e415d2763739af0f2d">&#9670;&nbsp;</a></span>pjsip_target_set_add_from_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_add_from_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&#160;</td>
          <td class="paramname"><em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extract URI's in the Contact headers of the specified (response) message and add them to the target set. This function will also check if the URI's already exist in the target set before adding them to the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tset</td><td>The target set. </td></tr>
    <tr><td class="paramname">pool</td><td>The memory pool to be used to duplicate the URI's. </td></tr>
    <tr><td class="paramname">msg</td><td>SIP message from which the Contact headers will be scanned and the URI's to be extracted, checked, and added to the target set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if at least one URI was added to the target set, or PJ_EEXISTS if all URI's in the message already exists in the target set or if the message doesn't contain usable Contact headers, or other error codes. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init()</a>.</p>

</div>
</div>
<a id="ga3e1bc8c303a41e7a51c6067f7217325a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e1bc8c303a41e7a51c6067f7217325a">&#9670;&nbsp;</a></span>pjsip_target_set_get_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__target.htm">pjsip_target</a>* pjsip_target_set_get_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&#160;</td>
          <td class="paramname"><em>tset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next target to be retried. This function will scan the target set for target which hasn't been tried, and return one target with the highest q-value, if such target exists. This function will return NULL if there is one target with 2xx or 6xx code or if all targets have been tried.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tset</td><td>The target set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next target to be tried, or NULL if all targets have been tried or at least one target returns 2xx or 6xx response. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init()</a>.</p>

</div>
</div>
<a id="ga451dd48e0eaafba19feb2ec974f4ccc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga451dd48e0eaafba19feb2ec974f4ccc4">&#9670;&nbsp;</a></span>pjsip_target_set_set_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_set_current </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&#160;</td>
          <td class="paramname"><em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the specified target as the current target in the target set. The current target may be used by application to keep track on which target is currently being operated on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tset</td><td>The target set. </td></tr>
    <tr><td class="paramname">target</td><td>The target to be set as current target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init()</a>.</p>

</div>
</div>
<a id="ga1dd6e1e61b24553f7950310f9e880a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dd6e1e61b24553f7950310f9e880a7d">&#9670;&nbsp;</a></span>pjsip_target_assign_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_assign_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&#160;</td>
          <td class="paramname"><em>status_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the status code and reason phrase of the specified target.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target. </td></tr>
    <tr><td class="paramname">pool</td><td>The memory pool to be used to duplicate the reason phrase. </td></tr>
    <tr><td class="paramname">status_code</td><td>The SIP status code to be set to the target. </td></tr>
    <tr><td class="paramname">reason</td><td>The reason phrase to be set to the target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on successful operation or the appropriate error code. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
