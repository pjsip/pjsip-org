<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Secure RTP (SRTP) Media Transport (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Secure RTP (SRTP) Media Transport<div class="ingroups"><a class="el" href="group__PJMEDIA__TRANSPORT.htm">Media Transport</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Media transport adapter to add SRTP feature to existing transports.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__cb.htm">pjmedia_srtp_cb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__roc.htm">pjmedia_srtp_roc</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__info.htm">pjmedia_srtp_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__srtp__dtls__nego__param.htm">pjmedia_srtp_dtls_nego_param</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga20443caba6c27266422c53ac91943233"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga20443caba6c27266422c53ac91943233">pjmedia_srtp_crypto_option</a> { <br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga20443caba6c27266422c53ac91943233a2d553cc0286406312847d1a6a9330f43">PJMEDIA_SRTP_NO_ENCRYPTION</a> = 1, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga20443caba6c27266422c53ac91943233ad52cac8f20ee735b0bd0531e4e328545">PJMEDIA_SRTP_NO_AUTHENTICATION</a> = 2
<br />
 }</td></tr>
<tr class="separator:ga20443caba6c27266422c53ac91943233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52f4c561c77ebd7a992feefc77624ace"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga52f4c561c77ebd7a992feefc77624ace">pjmedia_srtp_use</a> { <br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga52f4c561c77ebd7a992feefc77624aceaf19b573266ffd49695cd8a4ac8384b09">PJMEDIA_SRTP_DISABLED</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga52f4c561c77ebd7a992feefc77624acea02cdb3e80c238e606becf50359c22095">PJMEDIA_SRTP_UNKNOWN</a> = PJMEDIA_SRTP_DISABLED, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga52f4c561c77ebd7a992feefc77624acea39be62bb6503d86553cb1af3bbd1d9a3">PJMEDIA_SRTP_OPTIONAL</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gga52f4c561c77ebd7a992feefc77624aceac74214bfb0a53ba6fd3d1ebcd71f9a04">PJMEDIA_SRTP_MANDATORY</a>
<br />
 }</td></tr>
<tr class="separator:ga52f4c561c77ebd7a992feefc77624ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaea09414c847c0a27ef0a13e66d3432"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gafaea09414c847c0a27ef0a13e66d3432">pjmedia_srtp_keying_method</a> { <br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ggafaea09414c847c0a27ef0a13e66d3432ace50fee2f1f8fab143881984441fbea4">PJMEDIA_SRTP_KEYING_SDES</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ggafaea09414c847c0a27ef0a13e66d3432a1479cc9067292ae6648cde0317425ae9">PJMEDIA_SRTP_KEYING_DTLS_SRTP</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ggafaea09414c847c0a27ef0a13e66d3432aa5565683d2ba60f05d854769d54c1999">PJMEDIA_SRTP_KEYINGS_COUNT</a>
<br />
 }</td></tr>
<tr class="separator:gafaea09414c847c0a27ef0a13e66d3432"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9297e2f8344bb5a424ac72d3651f1834"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga9297e2f8344bb5a424ac72d3651f1834">pjmedia_srtp_init_lib</a> (<a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *endpt)</td></tr>
<tr class="separator:ga9297e2f8344bb5a424ac72d3651f1834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f8049c3687a59a9e71563befd257459"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga0f8049c3687a59a9e71563befd257459">pjmedia_srtp_setting_default</a> (<a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *opt)</td></tr>
<tr class="separator:ga0f8049c3687a59a9e71563befd257459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf8b371d1fac5a813e14bad45d86f5eb"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gaaf8b371d1fac5a813e14bad45d86f5eb">pjmedia_srtp_enum_crypto</a> (unsigned *count, <a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a> crypto[])</td></tr>
<tr class="separator:gaaf8b371d1fac5a813e14bad45d86f5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3b52e05693c038a50868cc3c1b38440"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gaf3b52e05693c038a50868cc3c1b38440">pjmedia_srtp_enum_keying</a> (unsigned *count, <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gafaea09414c847c0a27ef0a13e66d3432">pjmedia_srtp_keying_method</a> keying[])</td></tr>
<tr class="separator:gaf3b52e05693c038a50868cc3c1b38440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07f81c23177830803f93a2e27b98a368"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga07f81c23177830803f93a2e27b98a368">pjmedia_transport_srtp_create</a> (<a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *endpt, <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, const <a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *opt, <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **p_tp)</td></tr>
<tr class="separator:ga07f81c23177830803f93a2e27b98a368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6e19acf5eb440ae8555321837a7f5a3"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gaf6e19acf5eb440ae8555321837a7f5a3">pjmedia_transport_srtp_get_setting</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp, <a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *opt)</td></tr>
<tr class="separator:gaf6e19acf5eb440ae8555321837a7f5a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade165f1bfb8fcae4dad0c00afc67e373"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gade165f1bfb8fcae4dad0c00afc67e373">pjmedia_transport_srtp_modify_setting</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp, const <a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *opt)</td></tr>
<tr class="separator:gade165f1bfb8fcae4dad0c00afc67e373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae12266c63e6dea6b2b83d761dad21450"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gae12266c63e6dea6b2b83d761dad21450">pjmedia_transport_srtp_dtls_get_fingerprint</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp, const char *hash, char *buf, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> *len)</td></tr>
<tr class="separator:gae12266c63e6dea6b2b83d761dad21450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa646bb84c0566fa57412a40c068736e8"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gaa646bb84c0566fa57412a40c068736e8">pjmedia_transport_srtp_dtls_start_nego</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp, const <a class="el" href="structpjmedia__srtp__dtls__nego__param.htm">pjmedia_srtp_dtls_nego_param</a> *param)</td></tr>
<tr class="separator:gaa646bb84c0566fa57412a40c068736e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab603d4f070665cb1a8038c021a6019e6"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gab603d4f070665cb1a8038c021a6019e6">pjmedia_transport_srtp_start</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp, const <a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a> *tx, const <a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a> *rx)</td></tr>
<tr class="separator:gab603d4f070665cb1a8038c021a6019e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e7e77639e6cfbcf74ec583a06acf492"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga6e7e77639e6cfbcf74ec583a06acf492">pjmedia_transport_srtp_stop</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp)</td></tr>
<tr class="separator:ga6e7e77639e6cfbcf74ec583a06acf492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2819af0f84a1fd52a290779e3cd427af"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga2819af0f84a1fd52a290779e3cd427af">pjmedia_transport_srtp_decrypt_pkt</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> is_rtp, void *pkt, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *pkt_len)</td></tr>
<tr class="separator:ga2819af0f84a1fd52a290779e3cd427af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d71bf2613172a3098f8076bdd62d9d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga2d71bf2613172a3098f8076bdd62d9d1">pjmedia_transport_srtp_get_member</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *srtp)</td></tr>
<tr class="separator:ga2d71bf2613172a3098f8076bdd62d9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module implements SRTP as described by RFC 3711, using RFC 4568 as key exchange method. It implements <a class="el" href="group__PJMEDIA__TRANSPORT.htm">Media Transport</a> to integrate with the rest of PJMEDIA framework.</p>
<p>As we know, media transport is separated from the stream object (which does the encoding/decoding of PCM frames, (de)packetization of RTP/RTCP packets, and de-jitter buffering). The connection between stream and media transport is established when the stream is created (we need to specify media transport during stream creation), and the interconnection can be depicted from the diagram below:</p>
<div class="image">
<img src="media-transport.PNG" alt="media-transport.PNG"/>
</div>
<p>I think the diagram above is self-explanatory.</p>
<p>SRTP functionality is implemented as some kind of "adapter", which is plugged between the stream and the actual media transport that does sending/receiving RTP/RTCP packets. When SRTP is used, the interconnection between stream and transport is like the diagram below:</p>
<div class="image">
<img src="media-srtp-transport.PNG" alt="media-srtp-transport.PNG"/>
</div>
<p>So to stream, the SRTP transport behaves as if it is a media transport (because it is a media transport), and to the media transport it behaves as if it is a stream. The SRTP object then forwards RTP packets back and forth between stream and the actual transport, encrypting/decrypting the RTP/RTCP packets as necessary.</p>
<p>The neat thing about this design is the SRTP "adapter" then can be used to encrypt any kind of media transports. We currently have UDP and ICE media transports that can benefit SRTP, and we could add SRTP to any media transports that will be added in the future. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga20443caba6c27266422c53ac91943233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20443caba6c27266422c53ac91943233">&#9670;&nbsp;</a></span>pjmedia_srtp_crypto_option</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga20443caba6c27266422c53ac91943233">pjmedia_srtp_crypto_option</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Crypto option. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga20443caba6c27266422c53ac91943233a2d553cc0286406312847d1a6a9330f43"></a>PJMEDIA_SRTP_NO_ENCRYPTION&#160;</td><td class="fielddoc"><p>When this flag is specified, encryption will be disabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga20443caba6c27266422c53ac91943233ad52cac8f20ee735b0bd0531e4e328545"></a>PJMEDIA_SRTP_NO_AUTHENTICATION&#160;</td><td class="fielddoc"><p>When this flag is specified, authentication will be disabled. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga52f4c561c77ebd7a992feefc77624ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52f4c561c77ebd7a992feefc77624ace">&#9670;&nbsp;</a></span>pjmedia_srtp_use</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga52f4c561c77ebd7a992feefc77624ace">pjmedia_srtp_use</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration specifies the behavior of the SRTP transport regarding media security offer and answer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga52f4c561c77ebd7a992feefc77624aceaf19b573266ffd49695cd8a4ac8384b09"></a>PJMEDIA_SRTP_DISABLED&#160;</td><td class="fielddoc"><p>When this flag is specified, SRTP will be disabled, and the transport will reject RTP/SAVP offer. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga52f4c561c77ebd7a992feefc77624acea02cdb3e80c238e606becf50359c22095"></a>PJMEDIA_SRTP_UNKNOWN&#160;</td><td class="fielddoc"><p>When this flag is specified, SRTP setting is unknown. This is to set the initial remote's SRTP usage. It will be set later after remote's policy in the SDP is received. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga52f4c561c77ebd7a992feefc77624acea39be62bb6503d86553cb1af3bbd1d9a3"></a>PJMEDIA_SRTP_OPTIONAL&#160;</td><td class="fielddoc"><p>When this flag is specified, SRTP will be advertised as optional and incoming SRTP offer will be accepted. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga52f4c561c77ebd7a992feefc77624aceac74214bfb0a53ba6fd3d1ebcd71f9a04"></a>PJMEDIA_SRTP_MANDATORY&#160;</td><td class="fielddoc"><p>When this flag is specified, the transport will require that RTP/SAVP media shall be used. </p>
</td></tr>
</table>

</div>
</div>
<a id="gafaea09414c847c0a27ef0a13e66d3432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaea09414c847c0a27ef0a13e66d3432">&#9670;&nbsp;</a></span>pjmedia_srtp_keying_method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gafaea09414c847c0a27ef0a13e66d3432">pjmedia_srtp_keying_method</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration specifies SRTP keying methods. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafaea09414c847c0a27ef0a13e66d3432ace50fee2f1f8fab143881984441fbea4"></a>PJMEDIA_SRTP_KEYING_SDES&#160;</td><td class="fielddoc"><p>Session Description (SDES). </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafaea09414c847c0a27ef0a13e66d3432a1479cc9067292ae6648cde0317425ae9"></a>PJMEDIA_SRTP_KEYING_DTLS_SRTP&#160;</td><td class="fielddoc"><p>DTLS-SRTP. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafaea09414c847c0a27ef0a13e66d3432aa5565683d2ba60f05d854769d54c1999"></a>PJMEDIA_SRTP_KEYINGS_COUNT&#160;</td><td class="fielddoc"><p>Number of keying method. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9297e2f8344bb5a424ac72d3651f1834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9297e2f8344bb5a424ac72d3651f1834">&#9670;&nbsp;</a></span>pjmedia_srtp_init_lib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_srtp_init_lib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *&#160;</td>
          <td class="paramname"><em>endpt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize SRTP library. This function should be called before any SRTP functions, however calling <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#ga07f81c23177830803f93a2e27b98a368">pjmedia_transport_srtp_create()</a> will also invoke this function. This function will also register SRTP library deinitialization to <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gaf70d7ec244bab9f2a33f0d60966ced40">pj_atexit()</a>, so the deinitialization of SRTP library will be performed automatically by PJLIB destructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The media endpoint instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga0f8049c3687a59a9e71563befd257459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f8049c3687a59a9e71563befd257459">&#9670;&nbsp;</a></span>pjmedia_srtp_setting_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_srtp_setting_default </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize SRTP setting with its default values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>SRTP setting to be initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaf8b371d1fac5a813e14bad45d86f5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf8b371d1fac5a813e14bad45d86f5eb">&#9670;&nbsp;</a></span>pjmedia_srtp_enum_crypto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_srtp_enum_crypto </td>
          <td>(</td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a>&#160;</td>
          <td class="paramname"><em>crypto</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerate available SRTP crypto name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>On input, specifies the maximum length of crypto array. On output, the number of available crypto initialized by this function. </td></tr>
    <tr><td class="paramname">crypto</td><td>The SRTP crypto array output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gaf3b52e05693c038a50868cc3c1b38440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3b52e05693c038a50868cc3c1b38440">&#9670;&nbsp;</a></span>pjmedia_srtp_enum_keying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_srtp_enum_keying </td>
          <td>(</td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gafaea09414c847c0a27ef0a13e66d3432">pjmedia_srtp_keying_method</a>&#160;</td>
          <td class="paramname"><em>keying</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerate available SRTP keying methods.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>On input, specifies the maximum length of keying method array. On output, the number of available keying method initialized by this function. </td></tr>
    <tr><td class="paramname">keying</td><td>The SRTP keying method array output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga07f81c23177830803f93a2e27b98a368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07f81c23177830803f93a2e27b98a368">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **&#160;</td>
          <td class="paramname"><em>p_tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an SRTP media transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The media endpoint instance. </td></tr>
    <tr><td class="paramname">tp</td><td>The actual media transport to send and receive RTP/RTCP packets. This media transport will be kept as member transport of this SRTP instance. </td></tr>
    <tr><td class="paramname">opt</td><td>Optional settings. If NULL is given, default settings will be used. </td></tr>
    <tr><td class="paramname">p_tp</td><td>Pointer to receive the transport SRTP instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gaf6e19acf5eb440ae8555321837a7f5a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6e19acf5eb440ae8555321837a7f5a3">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_get_setting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_get_setting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current SRTP media transport setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">opt</td><td>Structure to receive the SRTP setting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gade165f1bfb8fcae4dad0c00afc67e373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade165f1bfb8fcae4dad0c00afc67e373">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_modify_setting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_modify_setting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__srtp__setting.htm">pjmedia_srtp_setting</a> *&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Modify SRTP media transport setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">opt</td><td>New setting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gae12266c63e6dea6b2b83d761dad21450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae12266c63e6dea6b2b83d761dad21450">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_dtls_get_fingerprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_dtls_get_fingerprint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get fingerprint of local DTLS-SRTP certificate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">hash</td><td>Fingerprint hash algorithm, currently valid values are "SHA-256" and "SHA-1". </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer for fingerprint output. The output will be formatted as "SHA-256/1 XX:XX:XX..." and null terminated. </td></tr>
    <tr><td class="paramname">len</td><td>On input, the size of the buffer. On output, the length of the fingerprint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gaa646bb84c0566fa57412a40c068736e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa646bb84c0566fa57412a40c068736e8">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_dtls_start_nego()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_dtls_start_nego </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__srtp__dtls__nego__param.htm">pjmedia_srtp_dtls_nego_param</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manually start DTLS-SRTP negotiation with the given parameters. Application only needs to call this function when the SRTP transport is used without SDP offer/answer. When SDP offer/answer framework is used, the DTLS-SRTP negotiation will be handled by <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga80efd3ecee40e4002c955fa77ac201a6">pjmedia_transport_media_create()</a>, <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start()</a>, pjmedia_transport_media_encode_sdp(), and <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop()</a>.</p>
<p>When the negotiation completes, application will be notified via SRTP callback on_srtp_nego_complete(), if set. If the negotiation is successful, SRTP will be automatically started.</p>
<p>Note that if the SRTP member transport is an ICE transport, application should only call this function after ICE negotiation is completed successfully.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">param</td><td>DTLS-SRTP nego parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gab603d4f070665cb1a8038c021a6019e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab603d4f070665cb1a8038c021a6019e6">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__srtp__crypto.htm">pjmedia_srtp_crypto</a> *&#160;</td>
          <td class="paramname"><em>rx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manually start SRTP session with the given parameters. Application only needs to call this function when the SRTP transport is used without SDP offer/answer. When SDP offer/answer framework is used, the SRTP transport will be started/stopped by <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start()</a> and <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop()</a> respectively.</p>
<p>Please note that even if an RTP stream is only one direction, application will still need to provide both crypto suites, because it is needed by RTCP.</p>
<p>If application specifies the crypto keys, the keys for transmit and receive direction MUST be different.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">tx</td><td>Crypto suite setting for transmit direction. </td></tr>
    <tr><td class="paramname">rx</td><td>Crypto suite setting for receive direction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga6e7e77639e6cfbcf74ec583a06acf492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e7e77639e6cfbcf74ec583a06acf492">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop SRTP session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP media transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm#gab603d4f070665cb1a8038c021a6019e6">pjmedia_transport_srtp_start()</a> </dd></dl>

</div>
</div>
<a id="ga2819af0f84a1fd52a290779e3cd427af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2819af0f84a1fd52a290779e3cd427af">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_decrypt_pkt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_srtp_decrypt_pkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>is_rtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *&#160;</td>
          <td class="paramname"><em>pkt_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a utility function to decrypt SRTP packet using SRTP transport. This function is not part of SRTP transport's API, but it can be used to decrypt SRTP packets from non-network (for example, from a saved file) without having to use the transport framework. See pcaputil.c in the samples collection on how to use this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>The SRTP transport. </td></tr>
    <tr><td class="paramname">is_rtp</td><td>Set to non-zero if the packet is SRTP, otherwise set to zero if the packet is SRTCP. </td></tr>
    <tr><td class="paramname">pkt</td><td>On input, it contains SRTP or SRTCP packet. On output, it contains the decrypted RTP/RTCP packet. </td></tr>
    <tr><td class="paramname">pkt_len</td><td>On input, specify the length of the buffer. On output, it will be filled with the actual length of decrypted packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga2d71bf2613172a3098f8076bdd62d9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d71bf2613172a3098f8076bdd62d9d1">&#9670;&nbsp;</a></span>pjmedia_transport_srtp_get_member()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a>* pjmedia_transport_srtp_get_member </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&#160;</td>
          <td class="paramname"><em>srtp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query member transport of SRTP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srtp</td><td>The SRTP media transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>member media transport. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
