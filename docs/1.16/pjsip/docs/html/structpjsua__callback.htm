<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: pjsua_callback Struct Reference (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.htm"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<h1>pjsua_callback Struct Reference<br/>
<small>
[<a class="el" href="group__PJSUA__LIB__BASE.htm">PJSUA-API Basic API</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="pjsua_callback" -->
<p><code>#include &lt;pjsua.h&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a06e6135aeaa81b32fdc66fa603a0546c">on_call_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a402dc4b89c409507fa69b54494efef10">on_incoming_call</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#acec485ed428d48a6ca0d28027e5cccde">on_call_tsx_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a952b89dc85a47af3037c19ef06b776e3">on_call_media_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a88e61b65e936271603e5d63503aebcf6">on_stream_created</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/group__PJMEDIA__SESSION.htm#ga4b9d005c55d892a13a7dd49a9167b974">pjmedia_session</a> *sess, unsigned stream_idx, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__port.htm">pjmedia_port</a> **p_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a5578e07daf1a8d712cf3cd4bda6204b7">on_stream_destroyed</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/group__PJMEDIA__SESSION.htm#ga4b9d005c55d892a13a7dd49a9167b974">pjmedia_session</a> *sess, unsigned stream_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a991ce3c31ea93b52c38a74944f5508be">on_dtmf_digit</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> digit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a598000260c40a43f81e138829377bd44">on_call_transfer_request</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *dst, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> *code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ac418c176dd412181d07dd54bf246faed">on_call_transfer_status</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> st_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> final, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> *p_cont)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a96d2d3e3000bf18b5dac05db0a90f41f">on_call_replace_request</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *st_code, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a408632fe0b70160bcb5b290f76485452">on_call_replaced</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> old_call_id, <a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> new_call_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ab32c1f0089dd397c1340f500b45fa194">on_reg_started</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> renew)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a53fe2794154ad8b1f18d23ea6bbfd037">on_reg_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#aa66237ae897e757a4f5c77a4bac84828">on_reg_state2</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__reg__info.htm">pjsua_reg_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a3c18bf9c6595344d47ae1385c4e653ba">on_incoming_subscribe</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__srv__pres.htm">pjsua_srv_pres</a> *srv_pres, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> *code, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason, <a class="el" href="structpjsua__msg__data.htm">pjsua_msg_data</a> *msg_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a681a17f407fcb705b73546dadf1dd534">on_srv_subscribe_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__srv__pres.htm">pjsua_srv_pres</a> *srv_pres, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *remote_uri, <a class="el" href="group__PJSIP__EVENT__NOT.htm#ga4a6454679f18fe8337a2fc78063010bf">pjsip_evsub_state</a> state, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#abbf58efcb952c5af413d537d4c8904ec">on_buddy_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a85a8bcfa63811954b63bb2297005bde4">on_buddy_evsub_state</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id, <a class="el" href="group__PJSIP__EVENT__NOT.htm#gabef75338a5839ec42984bdf37b54a093">pjsip_evsub</a> *sub, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#afe46b2fc1622020f6525a5481d87258e">on_pager</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *mime_type, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a54ebc0a848e2e8407dee11ec562e9590">on_pager2</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *mime_type, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a6e213d281e74c9bcef99ff9258abd8ca">on_pager_status</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> status, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a32044c21c2049c1310f50cf42b54fc67">on_pager_status2</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> status, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a66001c03370c4b445129431a34645aa8">on_typing</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> is_typing)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ad6ad83a287e08dd75ce470be6923fd95">on_typing2</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> is_typing, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#aa992011976963178f5b831d93ee058b7">on_nat_detect</a> )(const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__stun__nat__detect__result.htm">pj_stun_nat_detect_result</a> *res)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ad4a905610f5f18cd8a78d3eb0f055b33">on_call_redirected</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *target, const <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#a147ab3075c90d07da2cecb076404c83d">on_mwi_info</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__mwi__info.htm">pjsua_mwi_info</a> *mwi_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJSIP__TRANSPORT.htm#gac22f3b567d21d7882720876e53bc1a9a">pjsip_tp_state_callback</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ae07e5c07136bfa0eb2922703d5d7ec5d">on_transport_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#ac9986f896f29db5be90458a0710627ae">on_ice_transport_error</a> )(<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> index, <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/group__PJNATH__ICE__STREAM__TRANSPORT.htm#ga7e21cd8a6d334eb429d766bd03266f36">pj_ice_strans_op</a> op, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status, void *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__transport.htm">pjmedia_transport</a> *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsua__callback.htm#af7425ce4248c4003a96626951eeff611">on_create_media_transport</a> )(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, unsigned media_idx, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__transport.htm">pjmedia_transport</a> *base_tp, unsigned <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#gae4737d316c3696dc34a85aa1c09dab99">flags</a>)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This structure describes application callback to receive various event notification from PJSUA-API. All of these callbacks are OPTIONAL, although definitely application would want to implement some of the important callbacks (such as <em>on_incoming_call</em>). </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a06e6135aeaa81b32fdc66fa603a0546c"></a><!-- doxytag: member="pjsua_callback::on_call_state" ref="a06e6135aeaa81b32fdc66fa603a0546c" args=")(pjsua_call_id call_id, pjsip_event *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a06e6135aeaa81b32fdc66fa603a0546c">pjsua_callback::on_call_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when invite state has changed. Application may then query the call info to get the detail call states by calling <a class="el" href="group__PJSUA__LIB__CALL.htm#ga0cbdd31982d9d77e9e1be4e4b39b1f48">pjsua_call_get_info()</a> function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>Event which causes the call state to change. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a402dc4b89c409507fa69b54494efef10"></a><!-- doxytag: member="pjsua_callback::on_incoming_call" ref="a402dc4b89c409507fa69b54494efef10" args=")(pjsua_acc_id acc_id, pjsua_call_id call_id, pjsip_rx_data *rdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a402dc4b89c409507fa69b54494efef10">pjsua_callback::on_incoming_call</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application on incoming call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account which match the incoming call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call id that has just been created for the call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming INVITE request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acec485ed428d48a6ca0d28027e5cccde"></a><!-- doxytag: member="pjsua_callback::on_call_tsx_state" ref="acec485ed428d48a6ca0d28027e5cccde" args=")(pjsua_call_id call_id, pjsip_transaction *tsx, pjsip_event *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#acec485ed428d48a6ca0d28027e5cccde">pjsua_callback::on_call_tsx_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is a general notification callback which is called whenever a transaction within the call has changed state. Application can implement this callback for example to monitor the state of outgoing requests, or to answer unhandled incoming requests (such as INFO) with a final response.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Call identification. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction which has changed state. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>Transaction event that caused the state change. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a952b89dc85a47af3037c19ef06b776e3"></a><!-- doxytag: member="pjsua_callback::on_call_media_state" ref="a952b89dc85a47af3037c19ef06b776e3" args=")(pjsua_call_id call_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a952b89dc85a47af3037c19ef06b776e3">pjsua_callback::on_call_media_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when media state in the call has changed. Normal application would need to implement this callback, e.g. to connect the call's media to sound device. When ICE is used, this callback will also be called to report ICE negotiation failure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a88e61b65e936271603e5d63503aebcf6"></a><!-- doxytag: member="pjsua_callback::on_stream_created" ref="a88e61b65e936271603e5d63503aebcf6" args=")(pjsua_call_id call_id, pjmedia_session *sess, unsigned stream_idx, pjmedia_port **p_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a88e61b65e936271603e5d63503aebcf6">pjsua_callback::on_stream_created</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/group__PJMEDIA__SESSION.htm#ga4b9d005c55d892a13a7dd49a9167b974">pjmedia_session</a> *sess, unsigned stream_idx, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__port.htm">pjmedia_port</a> **p_port)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when media session is created and before it is registered to the conference bridge. Application may return different media port if it has added media processing port to the stream. This media port then will be added to the conference bridge instead.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Call identification. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Media session for the call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream_idx</em>&nbsp;</td><td>Stream index in the media session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_port</em>&nbsp;</td><td>On input, it specifies the media port of the stream. Application may modify this pointer to point to different media port to be registered to the conference bridge. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5578e07daf1a8d712cf3cd4bda6204b7"></a><!-- doxytag: member="pjsua_callback::on_stream_destroyed" ref="a5578e07daf1a8d712cf3cd4bda6204b7" args=")(pjsua_call_id call_id, pjmedia_session *sess, unsigned stream_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a5578e07daf1a8d712cf3cd4bda6204b7">pjsua_callback::on_stream_destroyed</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/group__PJMEDIA__SESSION.htm#ga4b9d005c55d892a13a7dd49a9167b974">pjmedia_session</a> *sess, unsigned stream_idx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when media session has been unregistered from the conference bridge and about to be destroyed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Call identification. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Media session for the call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream_idx</em>&nbsp;</td><td>Stream index in the media session. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a991ce3c31ea93b52c38a74944f5508be"></a><!-- doxytag: member="pjsua_callback::on_dtmf_digit" ref="a991ce3c31ea93b52c38a74944f5508be" args=")(pjsua_call_id call_id, int digit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a991ce3c31ea93b52c38a74944f5508be">pjsua_callback::on_dtmf_digit</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> digit)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application upon incoming DTMF digits.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>digit</em>&nbsp;</td><td>DTMF ASCII digit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a598000260c40a43f81e138829377bd44"></a><!-- doxytag: member="pjsua_callback::on_call_transfer_request" ref="a598000260c40a43f81e138829377bd44" args=")(pjsua_call_id call_id, const pj_str_t *dst, pjsip_status_code *code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a598000260c40a43f81e138829377bd44">pjsua_callback::on_call_transfer_request</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *dst, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> *code)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application on call being transfered (i.e. REFER is received). Application can decide to accept/reject transfer request by setting the code (default is 202). When this callback is not defined, the default behavior is to accept the transfer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>The destination where the call will be transfered to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Status code to be returned for the call transfer request. On input, it contains status code 200. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac418c176dd412181d07dd54bf246faed"></a><!-- doxytag: member="pjsua_callback::on_call_transfer_status" ref="ac418c176dd412181d07dd54bf246faed" args=")(pjsua_call_id call_id, int st_code, const pj_str_t *st_text, pj_bool_t final, pj_bool_t *p_cont)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#ac418c176dd412181d07dd54bf246faed">pjsua_callback::on_call_transfer_status</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> st_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> final, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> *p_cont)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application of the status of previously sent call transfer request. Application can monitor the status of the call transfer request, for example to decide whether to terminate existing call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Call ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_code</em>&nbsp;</td><td>Status progress of the transfer request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_text</em>&nbsp;</td><td>Status progress text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>final</em>&nbsp;</td><td>If non-zero, no further notification will be reported. The st_code specified in this callback is the final status. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_cont</em>&nbsp;</td><td>Initially will be set to non-zero, application can set this to FALSE if it no longer wants to receie further notification (for example, after it hangs up the call). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a96d2d3e3000bf18b5dac05db0a90f41f"></a><!-- doxytag: member="pjsua_callback::on_call_replace_request" ref="a96d2d3e3000bf18b5dac05db0a90f41f" args=")(pjsua_call_id call_id, pjsip_rx_data *rdata, int *st_code, pj_str_t *st_text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a96d2d3e3000bf18b5dac05db0a90f41f">pjsua_callback::on_call_replace_request</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *st_code, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application about incoming INVITE with Replaces header. Application may reject the request by setting non-2xx code.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call ID to be replaced. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming INVITE request to replace the call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_code</em>&nbsp;</td><td>Status code to be set by application. Application should only return a final status (200-699). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_text</em>&nbsp;</td><td>Optional status text to be set by application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a408632fe0b70160bcb5b290f76485452"></a><!-- doxytag: member="pjsua_callback::on_call_replaced" ref="a408632fe0b70160bcb5b290f76485452" args=")(pjsua_call_id old_call_id, pjsua_call_id new_call_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a408632fe0b70160bcb5b290f76485452">pjsua_callback::on_call_replaced</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> old_call_id, <a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> new_call_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application that an existing call has been replaced with a new call. This happens when PJSUA-API receives incoming INVITE request with Replaces header.</p>
<p>After this callback is called, normally PJSUA-API will disconnect <em>old_call_id</em> and establish <em>new_call_id</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>old_call_id</em>&nbsp;</td><td>Existing call which to be replaced with the new call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new_call_id</em>&nbsp;</td><td>The new call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming INVITE with Replaces request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab32c1f0089dd397c1340f500b45fa194"></a><!-- doxytag: member="pjsua_callback::on_reg_started" ref="ab32c1f0089dd397c1340f500b45fa194" args=")(pjsua_acc_id acc_id, pj_bool_t renew)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#ab32c1f0089dd397c1340f500b45fa194">pjsua_callback::on_reg_started</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> renew)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when registration or unregistration has been initiated. Note that this only notifies the initial registration and unregistration. Once registration session is active, subsequent refresh will not cause this callback to be called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>renew</em>&nbsp;</td><td>Non-zero for registration and zero for unregistration. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53fe2794154ad8b1f18d23ea6bbfd037"></a><!-- doxytag: member="pjsua_callback::on_reg_state" ref="a53fe2794154ad8b1f18d23ea6bbfd037" args=")(pjsua_acc_id acc_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a53fe2794154ad8b1f18d23ea6bbfd037">pjsua_callback::on_reg_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when registration status has changed. Application may then query the account info to get the registration details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa66237ae897e757a4f5c77a4bac84828"></a><!-- doxytag: member="pjsua_callback::on_reg_state2" ref="aa66237ae897e757a4f5c77a4bac84828" args=")(pjsua_acc_id acc_id, pjsua_reg_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#aa66237ae897e757a4f5c77a4bac84828">pjsua_callback::on_reg_state2</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__reg__info.htm">pjsua_reg_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when registration status has changed. Application may inspect the registration info to get the registration status details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>The registration info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c18bf9c6595344d47ae1385c4e653ba"></a><!-- doxytag: member="pjsua_callback::on_incoming_subscribe" ref="a3c18bf9c6595344d47ae1385c4e653ba" args=")(pjsua_acc_id acc_id, pjsua_srv_pres *srv_pres, pjsua_buddy_id buddy_id, const pj_str_t *from, pjsip_rx_data *rdata, pjsip_status_code *code, pj_str_t *reason, pjsua_msg_data *msg_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a3c18bf9c6595344d47ae1385c4e653ba">pjsua_callback::on_incoming_subscribe</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__srv__pres.htm">pjsua_srv_pres</a> *srv_pres, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> *code, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason, <a class="el" href="structpjsua__msg__data.htm">pjsua_msg_data</a> *msg_data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notification when incoming SUBSCRIBE request is received. Application may use this callback to authorize the incoming subscribe request (e.g. ask user permission if the request should be granted).</p>
<p>If this callback is not implemented, all incoming presence subscription requests will be accepted.</p>
<p>If this callback is implemented, application has several choices on what to do with the incoming request:</p>
<ul>
<li>it may reject the request immediately by specifying non-200 class final response in the <em>code</em> argument.</li>
<li>it may immediately accept the request by specifying 200 as the <em>code</em> argument. This is the default value if application doesn't set any value to the <em>code</em> argument. In this case, the library will automatically send NOTIFY request upon returning from this callback.</li>
</ul>
<p>it may delay the processing of the request, for example to request user permission whether to accept or reject the request. In this case, the application MUST set the <em>code</em> argument to 202, then IMMEDIATELY calls <a class="el" href="group__PJSUA__LIB__BUDDY.htm#ga7771593cc1af675872c3030783d98f0f">pjsua_pres_notify()</a> with state PJSIP_EVSUB_STATE_PENDING and later calls <a class="el" href="group__PJSUA__LIB__BUDDY.htm#ga7771593cc1af675872c3030783d98f0f">pjsua_pres_notify()</a> again to accept or reject the subscription request.</p>
<p>Any <em>code</em> other than 200 and 202 will be treated as 200.</p>
<p>Application MUST return from this callback immediately (e.g. it must not block in this callback while waiting for user confirmation).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>srv_pres</em>&nbsp;</td><td>Server presence subscription instance. If application delays the acceptance of the request, it will need to specify this object when calling <a class="el" href="group__PJSUA__LIB__BUDDY.htm#ga7771593cc1af675872c3030783d98f0f">pjsua_pres_notify()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>Account ID most appropriate for this request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buddy_id</em>&nbsp;</td><td>ID of the buddy matching the sender of the request, if any, or PJSUA_INVALID_ID if no matching buddy is found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>The From URI of the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>The status code to respond to the request. The default value is 200. Application may set this to other final status code to accept or reject the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>The reason phrase to respond to the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg_data</em>&nbsp;</td><td>If the application wants to send additional headers in the response, it can put it in this parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a681a17f407fcb705b73546dadf1dd534"></a><!-- doxytag: member="pjsua_callback::on_srv_subscribe_state" ref="a681a17f407fcb705b73546dadf1dd534" args=")(pjsua_acc_id acc_id, pjsua_srv_pres *srv_pres, const pj_str_t *remote_uri, pjsip_evsub_state state, pjsip_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a681a17f407fcb705b73546dadf1dd534">pjsua_callback::on_srv_subscribe_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__srv__pres.htm">pjsua_srv_pres</a> *srv_pres, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *remote_uri, <a class="el" href="group__PJSIP__EVENT__NOT.htm#ga4a6454679f18fe8337a2fc78063010bf">pjsip_evsub_state</a> state, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *event)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notification when server side subscription state has changed. This callback is optional as application normally does not need to do anything to maintain server side presence subscription.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srv_pres</em>&nbsp;</td><td>Server presence subscription object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remote_uri</em>&nbsp;</td><td>Remote URI string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>New subscription state. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>PJSIP event that triggers the state change. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abbf58efcb952c5af413d537d4c8904ec"></a><!-- doxytag: member="pjsua_callback::on_buddy_state" ref="abbf58efcb952c5af413d537d4c8904ec" args=")(pjsua_buddy_id buddy_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#abbf58efcb952c5af413d537d4c8904ec">pjsua_callback::on_buddy_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when the buddy state has changed. Application may then query the buddy into to get the details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buddy_id</em>&nbsp;</td><td>The buddy id. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85a8bcfa63811954b63bb2297005bde4"></a><!-- doxytag: member="pjsua_callback::on_buddy_evsub_state" ref="a85a8bcfa63811954b63bb2297005bde4" args=")(pjsua_buddy_id buddy_id, pjsip_evsub *sub, pjsip_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a85a8bcfa63811954b63bb2297005bde4">pjsua_callback::on_buddy_evsub_state</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga852998f2b5a6f0ba5fa9da27dfd3eb84">pjsua_buddy_id</a> buddy_id, <a class="el" href="group__PJSIP__EVENT__NOT.htm#gabef75338a5839ec42984bdf37b54a093">pjsip_evsub</a> *sub, <a class="el" href="structpjsip__event.htm">pjsip_event</a> *event)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application when the state of client subscription session associated with a buddy has changed. Application may use this callback to retrieve more detailed information about the state changed event.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buddy_id</em>&nbsp;</td><td>The buddy id. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sub</em>&nbsp;</td><td>Event subscription session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>The event which triggers state change event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afe46b2fc1622020f6525a5481d87258e"></a><!-- doxytag: member="pjsua_callback::on_pager" ref="afe46b2fc1622020f6525a5481d87258e" args=")(pjsua_call_id call_id, const pj_str_t *from, const pj_str_t *to, const pj_str_t *contact, const pj_str_t *mime_type, const pj_str_t *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#afe46b2fc1622020f6525a5481d87258e">pjsua_callback::on_pager</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *mime_type, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application on incoming pager (i.e. MESSAGE request). Argument call_id will be -1 if MESSAGE request is not related to an existing call.</p>
<p>See also <em><a class="el" href="structpjsua__callback.htm#a54ebc0a848e2e8407dee11ec562e9590">on_pager2()</a></em> callback for the version with <em><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a></em> passed as one of the argument.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>URI of the sender. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>URI of the destination message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contact</em>&nbsp;</td><td>The Contact URI of the sender, if present. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mime_type</em>&nbsp;</td><td>MIME type of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>The message content. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a54ebc0a848e2e8407dee11ec562e9590"></a><!-- doxytag: member="pjsua_callback::on_pager2" ref="a54ebc0a848e2e8407dee11ec562e9590" args=")(pjsua_call_id call_id, const pj_str_t *from, const pj_str_t *to, const pj_str_t *contact, const pj_str_t *mime_type, const pj_str_t *body, pjsip_rx_data *rdata, pjsua_acc_id acc_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a54ebc0a848e2e8407dee11ec562e9590">pjsua_callback::on_pager2</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *mime_type, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is the alternative version of the <em><a class="el" href="structpjsua__callback.htm#afe46b2fc1622020f6525a5481d87258e">on_pager()</a></em> callback with <em><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a></em> argument.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>URI of the sender. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>URI of the destination message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contact</em>&nbsp;</td><td>The Contact URI of the sender, if present. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mime_type</em>&nbsp;</td><td>MIME type of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>The message content. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming MESSAGE request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>Account ID most suitable for this message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e213d281e74c9bcef99ff9258abd8ca"></a><!-- doxytag: member="pjsua_callback::on_pager_status" ref="a6e213d281e74c9bcef99ff9258abd8ca" args=")(pjsua_call_id call_id, const pj_str_t *to, const pj_str_t *body, void *user_data, pjsip_status_code status, const pj_str_t *reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a6e213d281e74c9bcef99ff9258abd8ca">pjsua_callback::on_pager_status</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> status, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application about the delivery status of outgoing pager request. See also <a class="el" href="structpjsua__callback.htm#a32044c21c2049c1310f50cf42b54fc67">on_pager_status2()</a> callback for the version with <em><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a></em> in the argument list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>Destination URI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>Message body. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>Arbitrary data that was specified when sending IM message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Delivery status. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>Delivery status reason. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32044c21c2049c1310f50cf42b54fc67"></a><!-- doxytag: member="pjsua_callback::on_pager_status2" ref="a32044c21c2049c1310f50cf42b54fc67" args=")(pjsua_call_id call_id, const pj_str_t *to, const pj_str_t *body, void *user_data, pjsip_status_code status, const pj_str_t *reason, pjsip_tx_data *tdata, pjsip_rx_data *rdata, pjsua_acc_id acc_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a32044c21c2049c1310f50cf42b54fc67">pjsua_callback::on_pager_status2</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *body, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, <a class="el" href="group__PJSIP__MSG__LINE.htm#gaf6d60351ee68ca0c87358db2e59b9376">pjsip_status_code</a> status, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application about the delivery status of outgoing pager request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>Destination URI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>Message body. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>Arbitrary data that was specified when sending IM message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Delivery status. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>Delivery status reason. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The original MESSAGE request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming MESSAGE response, or NULL if the message transaction fails because of time out or transport error. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>Account ID from this the instant message was send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a66001c03370c4b445129431a34645aa8"></a><!-- doxytag: member="pjsua_callback::on_typing" ref="a66001c03370c4b445129431a34645aa8" args=")(pjsua_call_id call_id, const pj_str_t *from, const pj_str_t *to, const pj_str_t *contact, pj_bool_t is_typing)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a66001c03370c4b445129431a34645aa8">pjsua_callback::on_typing</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> is_typing)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application about typing indication.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>URI of the sender. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>URI of the destination message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contact</em>&nbsp;</td><td>The Contact URI of the sender, if present. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_typing</em>&nbsp;</td><td>Non-zero if peer is typing, or zero if peer has stopped typing a message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6ad83a287e08dd75ce470be6923fd95"></a><!-- doxytag: member="pjsua_callback::on_typing2" ref="ad6ad83a287e08dd75ce470be6923fd95" args=")(pjsua_call_id call_id, const pj_str_t *from, const pj_str_t *to, const pj_str_t *contact, pj_bool_t is_typing, pjsip_rx_data *rdata, pjsua_acc_id acc_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#ad6ad83a287e08dd75ce470be6923fd95">pjsua_callback::on_typing2</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *from, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *to, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> is_typing, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Notify application about typing indication.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Containts the ID of the call where the IM was sent, or PJSUA_INVALID_ID if the IM was sent outside call context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from</em>&nbsp;</td><td>URI of the sender. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>to</em>&nbsp;</td><td>URI of the destination message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contact</em>&nbsp;</td><td>The Contact URI of the sender, if present. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_typing</em>&nbsp;</td><td>Non-zero if peer is typing, or zero if peer has stopped typing a message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The received request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>Account ID most suitable for this message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa992011976963178f5b831d93ee058b7"></a><!-- doxytag: member="pjsua_callback::on_nat_detect" ref="aa992011976963178f5b831d93ee058b7" args=")(const pj_stun_nat_detect_result *res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#aa992011976963178f5b831d93ee058b7">pjsua_callback::on_nat_detect</a>)(const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__stun__nat__detect__result.htm">pj_stun_nat_detect_result</a> *res)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback when the library has finished performing NAT type detection.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>res</em>&nbsp;</td><td>NAT detection result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad4a905610f5f18cd8a78d3eb0f055b33"></a><!-- doxytag: member="pjsua_callback::on_call_redirected" ref="ad4a905610f5f18cd8a78d3eb0f055b33" args=")(pjsua_call_id call_id, const pjsip_uri *target, const pjsip_event *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a>(* <a class="el" href="structpjsua__callback.htm#ad4a905610f5f18cd8a78d3eb0f055b33">pjsua_callback::on_call_redirected</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *target, const <a class="el" href="structpjsip__event.htm">pjsip_event</a> *e)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called when the call is about to resend the INVITE request to the specified target, following the previously received redirection response.</p>
<p>Application may accept the redirection to the specified target (the default behavior if this callback is implemented), reject this target only and make the session continue to try the next target in the list if such target exists, stop the whole redirection process altogether and cause the session to be disconnected, or defer the decision to ask for user confirmation.</p>
<p>This callback is optional. If this callback is not implemented, the default behavior is to NOT follow the redirection response.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>The call ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>The current target to be tried. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>The event that caused this callback to be called. This could be the receipt of 3xx response, or 4xx/5xx response received for the INVITE sent to subsequent targets, or NULL if this callback is called from within <a class="el" href="group__PJSUA__LIB__CALL.htm#gae8810b4641c9b293abe408dd324650d5">pjsua_call_process_redirect()</a> context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Action to be performed for the target. Set this parameter to one of the value below:<ul>
<li>PJSIP_REDIRECT_ACCEPT: immediately accept the redirection (default value). When set, the call will immediately resend INVITE request to the target.</li>
<li>PJSIP_REDIRECT_REJECT: immediately reject this target. The call will continue retrying with next target if present, or disconnect the call if there is no more target to try.</li>
<li>PJSIP_REDIRECT_STOP: stop the whole redirection process and immediately disconnect the call. The <a class="el" href="structpjsua__callback.htm#a06e6135aeaa81b32fdc66fa603a0546c">on_call_state()</a> callback will be called with PJSIP_INV_STATE_DISCONNECTED state immediately after this callback returns.</li>
<li>PJSIP_REDIRECT_PENDING: set to this value if no decision can be made immediately (for example to request confirmation from user). Application then MUST call <a class="el" href="group__PJSUA__LIB__CALL.htm#gae8810b4641c9b293abe408dd324650d5">pjsua_call_process_redirect()</a> to either accept or reject the redirection upon getting user decision. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a147ab3075c90d07da2cecb076404c83d"></a><!-- doxytag: member="pjsua_callback::on_mwi_info" ref="a147ab3075c90d07da2cecb076404c83d" args=")(pjsua_acc_id acc_id, pjsua_mwi_info *mwi_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#a147ab3075c90d07da2cecb076404c83d">pjsua_callback::on_mwi_info</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#ga01a78e17d7787f7e0ea5efd240f3e427">pjsua_acc_id</a> acc_id, <a class="el" href="structpjsua__mwi__info.htm">pjsua_mwi_info</a> *mwi_info)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called when a NOTIFY request for message summary / message waiting indication is received.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>acc_id</em>&nbsp;</td><td>The account ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mwi_info</em>&nbsp;</td><td>Structure containing details of the event, including the received NOTIFY request in the <em>rdata</em> field. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae07e5c07136bfa0eb2922703d5d7ec5d"></a><!-- doxytag: member="pjsua_callback::on_transport_state" ref="ae07e5c07136bfa0eb2922703d5d7ec5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJSIP__TRANSPORT.htm#gac22f3b567d21d7882720876e53bc1a9a">pjsip_tp_state_callback</a> <a class="el" href="structpjsua__callback.htm#ae07e5c07136bfa0eb2922703d5d7ec5d">pjsua_callback::on_transport_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called when transport state is changed. See also <a class="el" href="group__PJSIP__TRANSPORT.htm#gac22f3b567d21d7882720876e53bc1a9a">pjsip_tp_state_callback</a>. </p>

</div>
</div>
<a class="anchor" id="ac9986f896f29db5be90458a0710627ae"></a><!-- doxytag: member="pjsua_callback::on_ice_transport_error" ref="ac9986f896f29db5be90458a0710627ae" args=")(int index, pj_ice_strans_op op, pj_status_t status, void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structpjsua__callback.htm#ac9986f896f29db5be90458a0710627ae">pjsua_callback::on_ice_transport_error</a>)(<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> index, <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/group__PJNATH__ICE__STREAM__TRANSPORT.htm#ga7e21cd8a6d334eb429d766bd03266f36">pj_ice_strans_op</a> op, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status, void *param)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called to report error in ICE media transport. Currently it is used to report TURN Refresh error.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Transport index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>Operation which trigger the failure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Error status. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>Additional info about the event. Currently this will always be set to NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af7425ce4248c4003a96626951eeff611"></a><!-- doxytag: member="pjsua_callback::on_create_media_transport" ref="af7425ce4248c4003a96626951eeff611" args=")(pjsua_call_id call_id, unsigned media_idx, pjmedia_transport *base_tp, unsigned flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__transport.htm">pjmedia_transport</a>*(* <a class="el" href="structpjsua__callback.htm#af7425ce4248c4003a96626951eeff611">pjsua_callback::on_create_media_transport</a>)(<a class="el" href="group__PJSUA__LIB__BASE.htm#gad4eb99a78c98ddbd83aecf7e933fc684">pjsua_call_id</a> call_id, unsigned media_idx, <a class="elRef" doxygen="pjmedia.tag:../../../pjmedia/docs/html/" href="../../../pjmedia/docs/html/structpjmedia__transport.htm">pjmedia_transport</a> *base_tp, unsigned <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#gae4737d316c3696dc34a85aa1c09dab99">flags</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback can be used by application to implement custom media transport adapter for the call, or to replace the media transport with something completely new altogether.</p>
<p>This callback is called when a new call is created. The library has created a media transport for the call, and it is provided as the <em>base_tp</em> argument of this callback. Upon returning, the callback must return an instance of media transport to be used by the call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_id</em>&nbsp;</td><td>Call ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>media_idx</em>&nbsp;</td><td>The media index in the SDP for which this media transport will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>base_tp</em>&nbsp;</td><td>The media transport which otherwise will be used by the call has this callback not been implemented. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Bitmask from pjsua_create_media_transport_flag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The callback must return an instance of media transport to be used by the call. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>pjsua-lib/pjsua.h</li>
</ul>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
