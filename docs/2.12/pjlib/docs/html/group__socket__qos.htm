<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Socket Quality of Service (QoS) API: TOS, DSCP, WMM, IEEE 802.1p (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJLIB Reference</p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Socket Quality of Service (QoS) API: TOS, DSCP, WMM, IEEE 802.1p<div class="ingroups"><a class="el" href="group__PJ__OS.htm">Operating System Dependent Functionality.</a> &raquo; <a class="el" href="group__PJ__IO.htm">Input/Output</a> &raquo; <a class="el" href="group__PJ__SOCK.htm">Socket Abstraction</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__qos__params.htm">pj_qos_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4f58251c0dc2198596d12b3238672f0b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> { <br />
&#160;&#160;<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba4e0e87e6227cc37dd1d5be85b561fb9f">PJ_QOS_TYPE_BEST_EFFORT</a>, 
<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0bab99b03550e8ff2c7a980e5af7817ec4a">PJ_QOS_TYPE_BACKGROUND</a>, 
<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba527f557a8eb142dccd70d3252a4671c1">PJ_QOS_TYPE_VIDEO</a>, 
<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba52512fb8a4502a4285c15cec73c2c9c5">PJ_QOS_TYPE_VOICE</a>, 
<br />
&#160;&#160;<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba37d4728b7bc76ddffc8058c2a0d2c194">PJ_QOS_TYPE_CONTROL</a>, 
<a class="el" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba963506a69446cbb301dd19f1469234d5">PJ_QOS_TYPE_SIGNALLING</a>
<br />
 }</td></tr>
<tr class="separator:ga4f58251c0dc2198596d12b3238672f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d0db66d154907ce3f14861e32e8dd9c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga4d0db66d154907ce3f14861e32e8dd9c">pj_qos_flag</a> { <a class="el" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9ca8da78bd7d18b812abc3fdbed9ec25f84">PJ_QOS_PARAM_HAS_DSCP</a> = 1, 
<a class="el" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9ca4e189d389ae34ab2158fbb4a78cc89e7">PJ_QOS_PARAM_HAS_SO_PRIO</a> = 2, 
<a class="el" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9cacf55c12e276157198419af3804249214">PJ_QOS_PARAM_HAS_WMM</a> = 4
 }</td></tr>
<tr class="separator:ga4d0db66d154907ce3f14861e32e8dd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b193634aacb36ea4cecdfbb191a5e35"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga5b193634aacb36ea4cecdfbb191a5e35">pj_qos_wmm_prio</a> { <a class="el" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35a8217e8f5cf5cfef5e77d66c7e9a892e2">PJ_QOS_WMM_PRIO_BULK_EFFORT</a>, 
<a class="el" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35a22a10dc8d94808dfc058289a9e737a7d">PJ_QOS_WMM_PRIO_BULK</a>, 
<a class="el" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35acd47de889d3db63a5a544be5c1a36519">PJ_QOS_WMM_PRIO_VIDEO</a>, 
<a class="el" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35aebb877b20940f38d08427841370af7d6">PJ_QOS_WMM_PRIO_VOICE</a>
 }</td></tr>
<tr class="separator:ga5b193634aacb36ea4cecdfbb191a5e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga945d52a16562c6b2227eca67e92bd8d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga945d52a16562c6b2227eca67e92bd8d5">pj_sock_set_qos_type</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> type)</td></tr>
<tr class="separator:ga945d52a16562c6b2227eca67e92bd8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f82de7f16f37b28048888d1c530cb4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga9f82de7f16f37b28048888d1c530cb4b">pj_sock_get_qos_type</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> *p_type)</td></tr>
<tr class="separator:ga9f82de7f16f37b28048888d1c530cb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94d3210fb331ef38fe44c61d15af5ab8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga94d3210fb331ef38fe44c61d15af5ab8">pj_sock_apply_qos</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> qos_type, <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *qos_params, unsigned log_level, const char *log_sender, const char *sock_name)</td></tr>
<tr class="separator:ga94d3210fb331ef38fe44c61d15af5ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbfe233355bf536b85ef39203d842715"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#gadbfe233355bf536b85ef39203d842715">pj_sock_apply_qos2</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> qos_type, const <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *qos_params, unsigned log_level, const char *log_sender, const char *sock_name)</td></tr>
<tr class="separator:gadbfe233355bf536b85ef39203d842715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39806928528bea998c63dabaa8e49dae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga39806928528bea998c63dabaa8e49dae">pj_qos_get_params</a> (<a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> type, <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *p_param)</td></tr>
<tr class="separator:ga39806928528bea998c63dabaa8e49dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83afe232544803b490d6f72d6014eb8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga83afe232544803b490d6f72d6014eb8d">pj_qos_get_type</a> (const <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *param, <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> *p_type)</td></tr>
<tr class="separator:ga83afe232544803b490d6f72d6014eb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b6564954817fb3a29634225d06696b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga1b6564954817fb3a29634225d06696b3">pj_sock_set_qos_params</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *param)</td></tr>
<tr class="separator:ga1b6564954817fb3a29634225d06696b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a73470cb567158ba254d2206c7accc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__socket__qos.htm#ga9a73470cb567158ba254d2206c7accc0">pj_sock_get_qos_params</a> (<a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock, <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *p_param)</td></tr>
<tr class="separator:ga9a73470cb567158ba254d2206c7accc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="intro"></a>
QoS Technologies</h1>
<p>QoS settings are available for both Layer 2 and 3 of TCP/IP protocols:</p>
<h2><a class="anchor" id="intro_ieee8021p"></a>
Layer 2: IEEE 802.1p for Ethernet</h2>
<p>IEEE 802.1p tagging will mark frames sent by a host for prioritized delivery using a 3-bit Priority field in the virtual local area network (VLAN) header of the Ethernet frame. The VLAN header is placed inside the Ethernet header, between the Source Address field and either the Length field (for an IEEE 802.3 frame) or the EtherType field (for an Ethernet II frame).</p>
<h2><a class="anchor" id="intro_wmm"></a>
Layer 2: WMM</h2>
<p>At the Network Interface layer for IEEE 802.11 wireless, the Wi-Fi Alliance certification for Wi-Fi Multimedia (WMM) defines four access categories for prioritizing network traffic. These access categories are (in order of highest to lowest priority) voice, video, best-effort, and background. Host support for WMM prioritization requires that both wireless network adapters and their drivers support WMM. Wireless access points (APs) must have WMM enabled.</p>
<h2><a class="anchor" id="intro_dscp"></a>
Layer 3: DSCP</h2>
<p>At the Internet layer, you can use Differentiated Services/Diffserv and set the value of the Differentiated Services Code Point (DSCP) in the IP header. As defined in RFC 2474, the DSCP value is the high-order 6 bits of the IP version 4 (IPv4) TOS field and the IP version 6 (IPv6) Traffic Class field.</p>
<h2><a class="anchor" id="intro_other"></a>
Layer 3: Other</h2>
<p>Other mechanisms exist (such as RSVP, IntServ) but this will not be implemented.</p>
<h1><a class="anchor" id="availability"></a>
QoS Availability</h1>
<h2><a class="anchor" id="linux"></a>
Linux</h2>
<p>DSCP is available via IP TOS option.</p>
<p>Ethernet 802.1p tagging is done by setting setsockopt(SO_PRIORITY) option of the socket, then with the set_egress_map option of the vconfig utility to convert this to set vlan-qos field of the packet.</p>
<p>WMM is not known to be available.</p>
<h2><a class="anchor" id="windows"></a>
Windows and Windows Mobile</h2>
<p>(It's a mess!)</p>
<p>DSCP is settable with setsockopt() on Windows 2000 or older, but Windows would silently ignore this call on WinXP or later, unless administrator modifies the registry. On Windows 2000, Windows XP, and Windows Server 2003, GQoS (Generic QoS) API is the standard API, but this API may not be supported in the future. On Vista and Windows 7, the is a new QoS2 API, also known as Quality Windows Audio-Video Experience (qWAVE).</p>
<p>IEEE 802.1p tagging is available via Traffic Control (TC) API, available on Windows XP SP2, but this needs administrator access. For Vista and later, it's in qWAVE.</p>
<p>WMM is available for mobile platforms on Windows Mobile 6 platform and Windows Embedded CE 6, via setsockopt(IP_DSCP_TRAFFIC_TYPE). qWAVE supports this as well.</p>
<h2><a class="anchor" id="symbian"></a>
Symbian S60 3rd Ed</h2>
<p>Both DSCP and WMM is supported via RSocket::SetOpt() with will set both Layer 2 and Layer 3 QoS settings accordingly. Internally, PJLIB sets the DSCP field of the socket, and based on certain DSCP values mapping, Symbian will set the WMM tag accordingly.</p>
<h1><a class="anchor" id="api"></a>
PJLIB's QoS API Abstraction</h1>
<p>Based on the above, the following API is implemented.</p>
<p>Declare the following "standard" traffic types.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a></div><div class="line">{</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba4e0e87e6227cc37dd1d5be85b561fb9f">PJ_QOS_TYPE_BEST_EFFORT</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0bab99b03550e8ff2c7a980e5af7817ec4a">PJ_QOS_TYPE_BACKGROUND</a>,    </div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba527f557a8eb142dccd70d3252a4671c1">PJ_QOS_TYPE_VIDEO</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba52512fb8a4502a4285c15cec73c2c9c5">PJ_QOS_TYPE_VOICE</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba37d4728b7bc76ddffc8058c2a0d2c194">PJ_QOS_TYPE_CONTROL</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4f58251c0dc2198596d12b3238672f0ba963506a69446cbb301dd19f1469234d5">PJ_QOS_TYPE_SIGNALLING</a></div><div class="line">} <a class="code" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a>;</div></div><!-- fragment --><p>The traffic classes above will determine how the Layer 2 and 3 QoS settings will be used. The standard mapping between the classes above to the corresponding Layer 2 and 3 settings are as follows:</p>
<div class="fragment"><div class="line">=================================================================</div><div class="line">PJLIB Traffic Type     IP DSCP         WMM                 802.1p</div><div class="line">-----------------------------------------------------------------</div><div class="line">BEST_EFFORT    0x00            BE (Bulk Effort)        0</div><div class="line">BACKGROUND             0x08            BK (Bulk)               2</div><div class="line">VIDEO          0x28            VI (Video)              5</div><div class="line">VOICE          0x30            VO (Voice)              6</div><div class="line">CONTROL                0x38            VO (Voice)              7</div><div class="line">SIGNALLING             0x28            VI (Video)              5</div><div class="line">=================================================================</div></div><!-- fragment --><p>There are two sets of API provided to manipulate the QoS parameters.</p>
<h2><a class="anchor" id="portable_api"></a>
Portable API</h2>
<p>The first set of API is:</p>
<div class="fragment"><div class="line"><span class="comment">// Set QoS parameters</span></div><div class="line">PJ_DECL(<a class="code" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>) <a class="code" href="group__socket__qos.htm#ga945d52a16562c6b2227eca67e92bd8d5">pj_sock_set_qos_type</a>(<a class="code" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock,</div><div class="line">                                     pj_qos_type val);</div><div class="line"></div><div class="line"><span class="comment">// Get QoS parameters</span></div><div class="line">PJ_DECL(<a class="code" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>) <a class="code" href="group__socket__qos.htm#ga9f82de7f16f37b28048888d1c530cb4b">pj_sock_get_qos_type</a>(<a class="code" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock,</div><div class="line">                                     pj_qos_type *p_val);</div></div><!-- fragment --><p>The API will set the traffic type according to the DSCP class, for both Layer 2 and Layer 3 QoS settings, where it's available. If any of the layer QoS setting is not settable, the API will silently ignore it. If both layers are not setable, the API will return error.</p>
<p>The API above is the recommended use of QoS, since it is the most portable across all platforms.</p>
<h2><a class="anchor" id="detail_api"></a>
Fine Grained Control API</h2>
<p>The second set of API is intended for application that wants to fine tune the QoS parameters.</p>
<p>The Layer 2 and 3 QoS parameters are stored in <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> structure:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__socket__qos.htm#ga4d0db66d154907ce3f14861e32e8dd9c">pj_qos_flag</a></div><div class="line">{</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9ca8da78bd7d18b812abc3fdbed9ec25f84">PJ_QOS_PARAM_HAS_DSCP</a> = 1,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9ca4e189d389ae34ab2158fbb4a78cc89e7">PJ_QOS_PARAM_HAS_SO_PRIO</a> = 2,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga4d0db66d154907ce3f14861e32e8dd9cacf55c12e276157198419af3804249214">PJ_QOS_PARAM_HAS_WMM</a> = 4</div><div class="line">} <a class="code" href="group__socket__qos.htm#ga4d0db66d154907ce3f14861e32e8dd9c">pj_qos_flag</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__socket__qos.htm#ga5b193634aacb36ea4cecdfbb191a5e35">pj_qos_wmm_prio</a></div><div class="line">{</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35a8217e8f5cf5cfef5e77d66c7e9a892e2">PJ_QOS_WMM_PRIO_BULK_EFFORT</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35a22a10dc8d94808dfc058289a9e737a7d">PJ_QOS_WMM_PRIO_BULK</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35acd47de889d3db63a5a544be5c1a36519">PJ_QOS_WMM_PRIO_VIDEO</a>,</div><div class="line">   <a class="code" href="group__socket__qos.htm#gga5b193634aacb36ea4cecdfbb191a5e35aebb877b20940f38d08427841370af7d6">PJ_QOS_WMM_PRIO_VOICE</a></div><div class="line">} <a class="code" href="group__socket__qos.htm#ga5b193634aacb36ea4cecdfbb191a5e35">pj_qos_wmm_prio</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpj__qos__params.htm">pj_qos_params</a></div><div class="line">{</div><div class="line">   <a class="code" href="group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a>      <a class="code" href="structpj__qos__params.htm#aa2f39de577192aa5c48a13d1fbf6f2d3">flags</a>;    <span class="comment">// Determines which values to </span></div><div class="line">                        <span class="comment">// set, bitmask of pj_qos_flag</span></div><div class="line">   <a class="code" href="group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a>      <a class="code" href="structpj__qos__params.htm#afa7a796d83d188894d207ebba951e425">dscp_val</a>; <span class="comment">// The 6 bits DSCP value to set</span></div><div class="line">   <a class="code" href="group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a>      <a class="code" href="structpj__qos__params.htm#ad193fa6884468d7dc98d83e40e8778df">so_prio</a>;  <span class="comment">// SO_PRIORITY value</span></div><div class="line">   pj_qos_wmm_prio <a class="code" href="structpj__qos__params.htm#acc61069870c76b2ac0d7ea817a5d3742">wmm_prio</a>; <span class="comment">// WMM priority value</span></div><div class="line">} <a class="code" href="structpj__qos__params.htm">pj_qos_params</a>;</div></div><!-- fragment --><p>The second set of API with more fine-grained control over the parameters are:</p>
<div class="fragment"><div class="line"><span class="comment">// Retrieve QoS params for the specified traffic type</span></div><div class="line">PJ_DECL(<a class="code" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>) <a class="code" href="group__socket__qos.htm#ga39806928528bea998c63dabaa8e49dae">pj_qos_get_params</a>(pj_qos_type type, </div><div class="line">                                  <a class="code" href="structpj__qos__params.htm">pj_qos_params</a> *p);</div><div class="line"></div><div class="line"><span class="comment">// Set QoS parameters to the socket</span></div><div class="line">PJ_DECL(<a class="code" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>) <a class="code" href="group__socket__qos.htm#ga1b6564954817fb3a29634225d06696b3">pj_sock_set_qos_params</a>(<a class="code" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock,</div><div class="line">                                       <span class="keyword">const</span> <a class="code" href="structpj__qos__params.htm">pj_qos_params</a> *p);</div><div class="line"></div><div class="line"><span class="comment">// Get QoS parameters from the socket</span></div><div class="line">PJ_DECL(<a class="code" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>) <a class="code" href="group__socket__qos.htm#ga9a73470cb567158ba254d2206c7accc0">pj_sock_get_qos_params</a>(<a class="code" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> sock,</div><div class="line">                                       <a class="code" href="structpj__qos__params.htm">pj_qos_params</a> *p);</div></div><!-- fragment --><p>Important:</p>
<p>The pj_sock_set/get_qos_params() APIs are not portable, and it's probably only going to be implemented on Linux. Application should always try to use <a class="el" href="group__socket__qos.htm#ga945d52a16562c6b2227eca67e92bd8d5">pj_sock_set_qos_type()</a> instead. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga4d0db66d154907ce3f14861e32e8dd9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d0db66d154907ce3f14861e32e8dd9c">&#9670;&nbsp;</a></span>pj_qos_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__socket__qos.htm#ga4d0db66d154907ce3f14861e32e8dd9c">pj_qos_flag</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask flag to indicate which QoS layer setting is set in the <em>flags</em> field of the <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> structure. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4d0db66d154907ce3f14861e32e8dd9ca8da78bd7d18b812abc3fdbed9ec25f84"></a>PJ_QOS_PARAM_HAS_DSCP&#160;</td><td class="fielddoc"><p>DSCP field is set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4d0db66d154907ce3f14861e32e8dd9ca4e189d389ae34ab2158fbb4a78cc89e7"></a>PJ_QOS_PARAM_HAS_SO_PRIO&#160;</td><td class="fielddoc"><p>Socket SO_PRIORITY </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4d0db66d154907ce3f14861e32e8dd9cacf55c12e276157198419af3804249214"></a>PJ_QOS_PARAM_HAS_WMM&#160;</td><td class="fielddoc"><p>WMM field is set. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga4f58251c0dc2198596d12b3238672f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f58251c0dc2198596d12b3238672f0b">&#9670;&nbsp;</a></span>pj_qos_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>High level traffic classification. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0ba4e0e87e6227cc37dd1d5be85b561fb9f"></a>PJ_QOS_TYPE_BEST_EFFORT&#160;</td><td class="fielddoc"><p>Best effort traffic (default value). Any QoS function calls with specifying this value are effectively no-op </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0bab99b03550e8ff2c7a980e5af7817ec4a"></a>PJ_QOS_TYPE_BACKGROUND&#160;</td><td class="fielddoc"><p>Background traffic. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0ba527f557a8eb142dccd70d3252a4671c1"></a>PJ_QOS_TYPE_VIDEO&#160;</td><td class="fielddoc"><p>Video traffic. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0ba52512fb8a4502a4285c15cec73c2c9c5"></a>PJ_QOS_TYPE_VOICE&#160;</td><td class="fielddoc"><p>Voice traffic. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0ba37d4728b7bc76ddffc8058c2a0d2c194"></a>PJ_QOS_TYPE_CONTROL&#160;</td><td class="fielddoc"><p>Control traffic. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4f58251c0dc2198596d12b3238672f0ba963506a69446cbb301dd19f1469234d5"></a>PJ_QOS_TYPE_SIGNALLING&#160;</td><td class="fielddoc"><p>Signalling traffic. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga5b193634aacb36ea4cecdfbb191a5e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b193634aacb36ea4cecdfbb191a5e35">&#9670;&nbsp;</a></span>pj_qos_wmm_prio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__socket__qos.htm#ga5b193634aacb36ea4cecdfbb191a5e35">pj_qos_wmm_prio</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard WMM priorities. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5b193634aacb36ea4cecdfbb191a5e35a8217e8f5cf5cfef5e77d66c7e9a892e2"></a>PJ_QOS_WMM_PRIO_BULK_EFFORT&#160;</td><td class="fielddoc"><p>Bulk effort priority </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5b193634aacb36ea4cecdfbb191a5e35a22a10dc8d94808dfc058289a9e737a7d"></a>PJ_QOS_WMM_PRIO_BULK&#160;</td><td class="fielddoc"><p>Bulk priority. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5b193634aacb36ea4cecdfbb191a5e35acd47de889d3db63a5a544be5c1a36519"></a>PJ_QOS_WMM_PRIO_VIDEO&#160;</td><td class="fielddoc"><p>Video priority </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5b193634aacb36ea4cecdfbb191a5e35aebb877b20940f38d08427841370af7d6"></a>PJ_QOS_WMM_PRIO_VOICE&#160;</td><td class="fielddoc"><p>Voice priority </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga39806928528bea998c63dabaa8e49dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39806928528bea998c63dabaa8e49dae">&#9670;&nbsp;</a></span>pj_qos_get_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_qos_get_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>p_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the standard mapping of QoS params for the specified traffic type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The traffic type from which the QoS parameters are to be retrieved. </td></tr>
    <tr><td class="paramname">p_param</td><td>Pointer to receive the QoS parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga83afe232544803b490d6f72d6014eb8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83afe232544803b490d6f72d6014eb8d">&#9670;&nbsp;</a></span>pj_qos_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_qos_get_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> *&#160;</td>
          <td class="paramname"><em>p_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the traffic type that matches the specified QoS parameters. If no exact matching is found, this function will return an approximation of the closest matching traffic type for the specified QoS parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Structure containing QoS parameters to map into "standard" traffic types. </td></tr>
    <tr><td class="paramname">p_type</td><td>Pointer to receive the traffic type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga94d3210fb331ef38fe44c61d15af5ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94d3210fb331ef38fe44c61d15af5ab8">&#9670;&nbsp;</a></span>pj_sock_apply_qos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_apply_qos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a>&#160;</td>
          <td class="paramname"><em>qos_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>qos_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>log_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sock_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a convenience function to apply QoS to the socket, and print error logging if the operations failed. Both QoS traffic type and the low level QoS parameters can be applied with this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket handle. </td></tr>
    <tr><td class="paramname">qos_type</td><td>QoS traffic type. The QoS traffic type will be applied only if the value is not PJ_QOS_TYPE_BEST_EFFORT, </td></tr>
    <tr><td class="paramname">qos_params</td><td>Optional low-level QoS parameters. This will be applied only if this argument is not NULL and the flags inside the structure is non-zero. Upon return, the flags will indicate which parameters have been applied successfully. </td></tr>
    <tr><td class="paramname">log_level</td><td>This function will print to log at this level upon encountering errors. </td></tr>
    <tr><td class="paramname">log_sender</td><td>Optional sender name in the log. </td></tr>
    <tr><td class="paramname">sock_name</td><td>Optional name to help identify the socket in the log.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if at least Layer 2 or Layer 3 setting is successfully set. If both Layer 2 and Layer 3 settings can't be set, this function will return error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__socket__qos.htm#gadbfe233355bf536b85ef39203d842715">pj_sock_apply_qos2()</a> </dd></dl>

</div>
</div>
<a id="gadbfe233355bf536b85ef39203d842715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbfe233355bf536b85ef39203d842715">&#9670;&nbsp;</a></span>pj_sock_apply_qos2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_apply_qos2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a>&#160;</td>
          <td class="paramname"><em>qos_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>qos_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>log_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sock_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variant of <a class="el" href="group__socket__qos.htm#ga94d3210fb331ef38fe44c61d15af5ab8">pj_sock_apply_qos()</a> where the <em>qos_params</em> parameter is const.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__socket__qos.htm#ga94d3210fb331ef38fe44c61d15af5ab8">pj_sock_apply_qos()</a> </dd></dl>

</div>
</div>
<a id="ga9a73470cb567158ba254d2206c7accc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a73470cb567158ba254d2206c7accc0">&#9670;&nbsp;</a></span>pj_sock_get_qos_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_get_qos_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>p_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a low level API to get QoS parameters from the socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket. </td></tr>
    <tr><td class="paramname">p_param</td><td>Pointer to receive the parameters. Upon returning successfully, the <em>flags</em> field of this structure will be initialized with the appropriate bitmask to indicate which fields have been successfully retrieved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga9f82de7f16f37b28048888d1c530cb4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f82de7f16f37b28048888d1c530cb4b">&#9670;&nbsp;</a></span>pj_sock_get_qos_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_get_qos_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a> *&#160;</td>
          <td class="paramname"><em>p_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the high level and portable API to get the traffic type that has been set on the socket. On occasions where the Layer 2 or Layer 3 settings were modified by using low level API, this function may return approximation of the closest QoS type that matches the settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket. </td></tr>
    <tr><td class="paramname">p_type</td><td>Pointer to receive the traffic type of the socket.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if traffic type for the socket can be obtained or approximated.. </dd></dl>

</div>
</div>
<a id="ga1b6564954817fb3a29634225d06696b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b6564954817fb3a29634225d06696b3">&#9670;&nbsp;</a></span>pj_sock_set_qos_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_set_qos_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__qos__params.htm">pj_qos_params</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a low level API to set QoS parameters to the socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket. </td></tr>
    <tr><td class="paramname">param</td><td>Structure containing QoS parameters to be applied to the socket. Upon return, the <em>flags</em> field of this structure will be set with bitmask value indicating which QoS settings have successfully been applied to the socket.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if at least one field setting has been successfully set. If no setting can't be set, this function will return error. </dd></dl>

</div>
</div>
<a id="ga945d52a16562c6b2227eca67e92bd8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga945d52a16562c6b2227eca67e92bd8d5">&#9670;&nbsp;</a></span>pj_sock_set_qos_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_sock_set_qos_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a>&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__socket__qos.htm#ga4f58251c0dc2198596d12b3238672f0b">pj_qos_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the high level and portable API to enable QoS on the specified socket, by setting the traffic type to the specified parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket. </td></tr>
    <tr><td class="paramname">type</td><td>Traffic type to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if at least Layer 2 or Layer 3 setting is successfully set. If both Layer 2 and Layer 3 settings can't be set, this function will return error. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJLIB Open Source, high performance, small footprint, and very very portable framework<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
