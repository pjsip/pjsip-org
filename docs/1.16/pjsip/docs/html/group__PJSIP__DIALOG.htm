<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: Base Dialog (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Base Dialog<br/>
<small>
[<a class="el" href="group__PJSIP__UA.htm">Base User Agent Layer/Common Dialog Layer</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>The base dialog framework to support dialog usages.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__dlg__party.htm">pjsip_dlg_party</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga50ef2414a8f1a2e184101a7dac0c2286">pjsip_dialog_state</a> { <a class="el" href="group__PJSIP__DIALOG.htm#gga50ef2414a8f1a2e184101a7dac0c2286a53ccfa1b898d5423ded848c7c58f7389">PJSIP_DIALOG_STATE_NULL</a>, 
<a class="el" href="group__PJSIP__DIALOG.htm#gga50ef2414a8f1a2e184101a7dac0c2286ad5458c032c4b7efe947efbd9b06ebc17">PJSIP_DIALOG_STATE_ESTABLISHED</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga78a1bd1fc30a0850704bdaa5c8bad369">pjsip_dialog_cap_status</a> { <a class="el" href="group__PJSIP__DIALOG.htm#gga78a1bd1fc30a0850704bdaa5c8bad369a888f9a3d43a8c7e39bddfa44b62c4566">PJSIP_DIALOG_CAP_UNSUPPORTED</a> =  0, 
<a class="el" href="group__PJSIP__DIALOG.htm#gga78a1bd1fc30a0850704bdaa5c8bad369a8554c5a8725f529a0e205f47e6ffc428">PJSIP_DIALOG_CAP_SUPPORTED</a> =  1, 
<a class="el" href="group__PJSIP__DIALOG.htm#gga78a1bd1fc30a0850704bdaa5c8bad369a78c09decade0ae664937a699eb5350d3">PJSIP_DIALOG_CAP_UNKNOWN</a> =  2
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga551e0b4104c6d217718d1468643a8d5d">pjsip_method_creates_dialog</a> (const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga6643135a8dbee20a156c1046fda27e03">pjsip_dlg_create_uac</a> (<a class="el" href="structpjsip__module.htm">pjsip_user_agent</a> *ua, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *local_uri, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *local_contact, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *remote_uri, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *target, <a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **p_dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga334ccd676171ef9b329eb33ce25d539c">pjsip_dlg_create_uas</a> (<a class="el" href="structpjsip__module.htm">pjsip_user_agent</a> *ua, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *contact, <a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **p_dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga947389fd81535ceaa1ea01b8ad144b61">pjsip_dlg_set_transport</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, const <a class="el" href="structpjsip__tpselector.htm">pjsip_tpselector</a> *sel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gad44ad2e226daa570912db3edc93e8d4f">pjsip_dlg_fork</a> (const <a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *original_dlg, const <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **new_dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga8ff16237d354ec0f34ea80ba898e9f61">pjsip_dlg_terminate</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gadc0b3e3352f8f4281ab465f373e30534">pjsip_dlg_set_route_set</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, const <a class="el" href="structpjsip__routing__hdr.htm">pjsip_route_hdr</a> *route_set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga2d6e24a6f5a91d935d7bc047ff55344e">pjsip_dlg_inc_session</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__module.htm">pjsip_module</a> *mod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga84a9bd307edcc320fcc2646bc1df70e5">pjsip_dlg_dec_session</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__module.htm">pjsip_module</a> *mod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga87c4f4114691c0d374b8db6ddfb5ceb3">pjsip_dlg_add_usage</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__module.htm">pjsip_module</a> *module, void *mod_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga3a9f2ab3bd6124514482ad6f27cbaef9">pjsip_dlg_has_usage</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__module.htm">pjsip_module</a> *module)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gadd4009eeb3bc04d217fb7906375930d4">pjsip_dlg_set_mod_data</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> mod_id, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga1ec70435e48e62a772d85aa7695f8b82">pjsip_dlg_get_mod_data</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> mod_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga5d87304615303ffbe20a09e0a3ff59df">pjsip_dlg_inc_lock</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gac50e4f3f62ee648b1c818e4450977f32">pjsip_dlg_try_inc_lock</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga3283f8502b1df5d37914668338351a4f">pjsip_dlg_dec_lock</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga91add2c982da9a7710945f18021c46a9">pjsip_rdata_get_dlg</a> (<a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga1d334da49e02e58ded7fbd9dc6e20118">pjsip_tsx_get_dlg</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga8e057a2b3b89d071a2027eba4321751f">pjsip_dlg_create_request</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *method, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> cseq, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> **tdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gab2ec46bfa4a8fd5fdf96cda2bb477355">pjsip_dlg_send_request</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> mod_data_id, void *mod_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga4271e64898c6f3822c28fbca07c706b5">pjsip_dlg_create_response</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> st_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> **tdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gabedb4bf2d670d823919545ea1f9b19d1">pjsip_dlg_modify_response</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> st_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga1a27fb4f5745d3cdd206dfaf28696bfa">pjsip_dlg_send_response</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga3f4fbd6b5486fcc1a448be8456b0bb18">pjsip_dlg_respond</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> st_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *st_text, const <a class="el" href="structpjsip__hdr.htm">pjsip_hdr</a> *hdr_list, const <a class="el" href="structpjsip__msg__body.htm">pjsip_msg_body</a> *body)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJSIP__DIALOG.htm#ga78a1bd1fc30a0850704bdaa5c8bad369">pjsip_dialog_cap_status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga318fcc5538aeabddb8d546644a5f6b5e">pjsip_dlg_remote_has_cap</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> htype, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *hname, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *token)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structpjsip__hdr.htm">pjsip_hdr</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga11de99fc139265bb5e76ba0c8a05b5b1">pjsip_dlg_get_remote_cap_hdr</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> htype, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *hname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gab728b92084cee3ff660fa1ee7149140a">pjsip_dlg_set_remote_cap_hdr</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, const <a class="el" href="structpjsip__generic__array__hdr.htm">pjsip_generic_array_hdr</a> *cap_hdr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#gada94b9d74455f8f979fb18c08280f623">pjsip_dlg_remove_remote_cap_hdr</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> htype, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *hname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__DIALOG.htm#ga9983f3d026de6af450d4a595cb0a1e9b">pjsip_dlg_update_remote_cap</a> (<a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *dlg, const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *msg, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> strict)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The base dialog framework provides management for base dialog properties such as <b>From</b> header, <b>To</b> header, <b>CSeq</b> sequencing, <b>Call-ID</b> header, <b>Contact</b> header management, dialog <b>route-set</b> management, and common <b>authentication</b>. This basic dialog functionality will be shared by all <b>dialog usages</b> of a particular dialog.</p>
<p>More detailed information is explained in <a href="/docs.htm">PJSIP Developer's Guide</a> PDF document, and readers are encouraged to read the document to get the concept behind dialog, dialog usages, and INVITE sessions.</p>
<p>Application MUST initialize the user agent layer module by calling <a class="el" href="group__PJSUA__UA.htm#ga444b57c13a6e8ac9131bd2c2ff6356ed">pjsip_ua_init_module()</a> before using any of the dialog API, and link the application with with <b>pjsip-core</b> library. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga50ef2414a8f1a2e184101a7dac0c2286"></a><!-- doxytag: member="sip_dialog.h::pjsip_dialog_state" ref="ga50ef2414a8f1a2e184101a7dac0c2286" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__DIALOG.htm#ga50ef2414a8f1a2e184101a7dac0c2286">pjsip_dialog_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dialog state. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga50ef2414a8f1a2e184101a7dac0c2286a53ccfa1b898d5423ded848c7c58f7389"></a><!-- doxytag: member="PJSIP_DIALOG_STATE_NULL" ref="gga50ef2414a8f1a2e184101a7dac0c2286a53ccfa1b898d5423ded848c7c58f7389" args="" -->PJSIP_DIALOG_STATE_NULL</em>&nbsp;</td><td>
<p>Dialog is not established. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga50ef2414a8f1a2e184101a7dac0c2286ad5458c032c4b7efe947efbd9b06ebc17"></a><!-- doxytag: member="PJSIP_DIALOG_STATE_ESTABLISHED" ref="gga50ef2414a8f1a2e184101a7dac0c2286ad5458c032c4b7efe947efbd9b06ebc17" args="" -->PJSIP_DIALOG_STATE_ESTABLISHED</em>&nbsp;</td><td>
<p>Dialog has been established (probably early) </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ga78a1bd1fc30a0850704bdaa5c8bad369"></a><!-- doxytag: member="sip_dialog.h::pjsip_dialog_cap_status" ref="ga78a1bd1fc30a0850704bdaa5c8bad369" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__DIALOG.htm#ga78a1bd1fc30a0850704bdaa5c8bad369">pjsip_dialog_cap_status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dialog capability status. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga78a1bd1fc30a0850704bdaa5c8bad369a888f9a3d43a8c7e39bddfa44b62c4566"></a><!-- doxytag: member="PJSIP_DIALOG_CAP_UNSUPPORTED" ref="gga78a1bd1fc30a0850704bdaa5c8bad369a888f9a3d43a8c7e39bddfa44b62c4566" args="" -->PJSIP_DIALOG_CAP_UNSUPPORTED</em>&nbsp;</td><td>
<p>Capability is unsupported. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga78a1bd1fc30a0850704bdaa5c8bad369a8554c5a8725f529a0e205f47e6ffc428"></a><!-- doxytag: member="PJSIP_DIALOG_CAP_SUPPORTED" ref="gga78a1bd1fc30a0850704bdaa5c8bad369a8554c5a8725f529a0e205f47e6ffc428" args="" -->PJSIP_DIALOG_CAP_SUPPORTED</em>&nbsp;</td><td>
<p>Capability is supported </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga78a1bd1fc30a0850704bdaa5c8bad369a78c09decade0ae664937a699eb5350d3"></a><!-- doxytag: member="PJSIP_DIALOG_CAP_UNKNOWN" ref="gga78a1bd1fc30a0850704bdaa5c8bad369a78c09decade0ae664937a699eb5350d3" args="" -->PJSIP_DIALOG_CAP_UNKNOWN</em>&nbsp;</td><td>
<p>Unknown capability status. This is usually because we lack the capability info which is retrieved from capability header specified in the dialog messages. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga551e0b4104c6d217718d1468643a8d5d"></a><!-- doxytag: member="sip_dialog.h::pjsip_method_creates_dialog" ref="ga551e0b4104c6d217718d1468643a8d5d" args="(const pjsip_method *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> pjsip_method_creates_dialog </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This utility function returns PJ_TRUE if the specified method is a dialog creating request. This method property is used to determine whether Contact header should be included in outgoing request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>The SIP method.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_TRUE if the method creates a dialog. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6643135a8dbee20a156c1046fda27e03"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_create_uac" ref="ga6643135a8dbee20a156c1046fda27e03" args="(pjsip_user_agent *ua, const pj_str_t *local_uri, const pj_str_t *local_contact, const pj_str_t *remote_uri, const pj_str_t *target, pjsip_dialog **p_dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_create_uac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_user_agent</a> *&nbsp;</td>
          <td class="paramname"> <em>ua</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>local_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>local_contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>remote_uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **&nbsp;</td>
          <td class="paramname"> <em>p_dlg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new dialog and return the instance in p_dlg parameter. After creating the dialog, application can add modules as dialog usages by calling <a class="el" href="group__PJSIP__DIALOG.htm#ga87c4f4114691c0d374b8db6ddfb5ceb3">pjsip_dlg_add_usage()</a>.</p>
<p>If the request has To tag parameter, dialog's local tag will be initialized from this value. Otherwise a globally unique id generator will be invoked to create dialog's local tag.</p>
<p>This function also initializes the dialog's route set based on the Record-Route headers in the request, if present.</p>
<p>Note that initially, the session count in the dialog will be initialized to zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ua</em>&nbsp;</td><td>The user agent module instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local_uri</em>&nbsp;</td><td>Dialog local URI (i.e. From header). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>local_contact</em>&nbsp;</td><td>Optional dialog local Contact to be put as Contact header value, hence the format must follow RFC 3261 Section 20.10: When the header field value contains a display name, the URI including all URI parameters is enclosed in "&lt;" and "&gt;". If no "&lt;" and "&gt;" are present, all parameters after the URI are header parameters, not URI parameters. The display name can be tokens, or a quoted string, if a larger character set is desired. If this argument is NULL, the Contact will be taken from the local URI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remote_uri</em>&nbsp;</td><td>Dialog remote URI (i.e. To header). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>Optional initial remote target. If this argument is NULL, the initial target will be set to remote URI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_dlg</em>&nbsp;</td><td>Pointer to receive the dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga334ccd676171ef9b329eb33ce25d539c"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_create_uas" ref="ga334ccd676171ef9b329eb33ce25d539c" args="(pjsip_user_agent *ua, pjsip_rx_data *rdata, const pj_str_t *contact, pjsip_dialog **p_dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_create_uas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_user_agent</a> *&nbsp;</td>
          <td class="paramname"> <em>ua</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **&nbsp;</td>
          <td class="paramname"> <em>p_dlg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize UAS dialog from the information found in the incoming request that creates a dialog (such as INVITE, REFER, or SUBSCRIBE), and set the local Contact to contact. If contact is not specified, the local contact is initialized from the URI in the To header in the request.</p>
<p>This function will also create UAS transaction for the incoming request, and associate the transaction to the rdata. Application can query the transaction used to handle this request by calling <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga0986013fc64382f90f7d21ecc1efb614">pjsip_rdata_get_tsx()</a> after this function returns.</p>
<p>Note that initially, the session count in the dialog will be initialized to zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ua</em>&nbsp;</td><td>The user agent module instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming request that creates the dialog, such as INVITE, SUBSCRIBE, or REFER. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contact</em>&nbsp;</td><td>Optional dialog local Contact to be put as Contact header value, hence the format must follow RFC 3261 Section 20.10: When the header field value contains a display name, the URI including all URI parameters is enclosed in "&lt;" and "&gt;". If no "&lt;" and "&gt;" are present, all parameters after the URI are header parameters, not URI parameters. The display name can be tokens, or a quoted string, if a larger character set is desired. If this argument is NULL, the local contact will be initialized from the value of To header in the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_dlg</em>&nbsp;</td><td>Pointer to receive the dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga947389fd81535ceaa1ea01b8ad144b61"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_set_transport" ref="ga947389fd81535ceaa1ea01b8ad144b61" args="(pjsip_dialog *dlg, const pjsip_tpselector *sel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_set_transport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__tpselector.htm">pjsip_tpselector</a> *&nbsp;</td>
          <td class="paramname"> <em>sel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lock/bind dialog to a specific transport/listener. This is optional, as normally transport will be selected automatically based on the destination of messages upon resolver completion. When the dialog is explicitly bound to the specific transport/listener, all transactions originated by this dialog will use the specified transport/listener when sending outgoing requests.</p>
<p>Note that this doesn't affect the Contact header generated by this dialog. Application must manually update the Contact header if necessary, to adjust the address according to the transport being selected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>Transport selector containing the specification of transport or listener to be used by this dialog to send requests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gad44ad2e226daa570912db3edc93e8d4f"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_fork" ref="gad44ad2e226daa570912db3edc93e8d4f" args="(const pjsip_dialog *original_dlg, const pjsip_rx_data *rdata, pjsip_dialog **new_dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_fork </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>original_dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> **&nbsp;</td>
          <td class="paramname"> <em>new_dlg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new (forked) dialog on receipt on forked response in rdata. The new dialog will be created from original_dlg, except that it will have new remote tag as copied from the To header in the response. Upon return, the new_dlg will have been registered to the user agent. Applications just need to add modules as dialog's usages.</p>
<p>Note that initially, the session count in the dialog will be initialized to zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>original_dlg</em>&nbsp;</td><td>The original UAC dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming forked response message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new_dlg</em>&nbsp;</td><td>Pointer to receive the new dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8ff16237d354ec0f34ea80ba898e9f61"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_terminate" ref="ga8ff16237d354ec0f34ea80ba898e9f61" args="(pjsip_dialog *dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_terminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forcefully terminate the dialog. Application can only call this function when there is no session associated to the dialog. If there are sessions that use this dialog, this function will refuse to terminate the dialog. For this case, application MUST call the appropriate termination function for each dialog session (e.g. <a class="el" href="group__PJSIP__INV.htm#gadd08039422a44bfcad8a9fc09f5d10f7">pjsip_inv_terminate()</a> to terminate INVITE session).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if dialog has been terminated. </dd></dl>

</div>
</div>
<a class="anchor" id="gadc0b3e3352f8f4281ab465f373e30534"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_set_route_set" ref="gadc0b3e3352f8f4281ab465f373e30534" args="(pjsip_dialog *dlg, const pjsip_route_hdr *route_set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_set_route_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__routing__hdr.htm">pjsip_route_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>route_set</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set dialog's initial route set to route_set list. This can only be called for UAC dialog, before any request is sent. After dialog has been established, the route set can not be changed.</p>
<p>For UAS dialog,the route set will be initialized in <a class="el" href="group__PJSIP__DIALOG.htm#ga334ccd676171ef9b329eb33ce25d539c">pjsip_dlg_create_uas()</a> from the Record-Route headers in the incoming request.</p>
<p>The route_set argument is standard list of Route headers (i.e. with sentinel).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The UAC dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>route_set</em>&nbsp;</td><td>List of Route header.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2d6e24a6f5a91d935d7bc047ff55344e"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_inc_session" ref="ga2d6e24a6f5a91d935d7bc047ff55344e" args="(pjsip_dialog *dlg, pjsip_module *mod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_inc_session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>mod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increment the number of sessions in the dialog. Note that initially (after created) the dialog has the session counter set to zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod</em>&nbsp;</td><td>The module that increments the session counter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga84a9bd307edcc320fcc2646bc1df70e5"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_dec_session" ref="ga84a9bd307edcc320fcc2646bc1df70e5" args="(pjsip_dialog *dlg, pjsip_module *mod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_dec_session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>mod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrement the number of sessions in the dialog. Once the session counter reach zero and there is no pending transaction, the dialog will be destroyed. Note that this function may destroy the dialog immediately if there is no pending transaction when this function is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod</em>&nbsp;</td><td>The module that decrements the session counter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga87c4f4114691c0d374b8db6ddfb5ceb3"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_add_usage" ref="ga87c4f4114691c0d374b8db6ddfb5ceb3" args="(pjsip_dialog *dlg, pjsip_module *module, void *mod_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_add_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>mod_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a module as dialog usage, and optionally set the module specific data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>The module to be registered as dialog usage. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_data</em>&nbsp;</td><td>Optional arbitrary data to be attached to dialog's mod_data array at the module's index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3a9f2ab3bd6124514482ad6f27cbaef9"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_has_usage" ref="ga3a9f2ab3bd6124514482ad6f27cbaef9" args="(pjsip_dialog *dlg, pjsip_module *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> pjsip_dlg_has_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>module</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the specified module has been registered as usage to the dialog.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>The module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_TRUE if the specified module is currently registered as a usage to the dialog. </dd></dl>

</div>
</div>
<a class="anchor" id="gadd4009eeb3bc04d217fb7906375930d4"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_set_mod_data" ref="gadd4009eeb3bc04d217fb7906375930d4" args="(pjsip_dialog *dlg, int mod_id, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_set_mod_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>mod_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attach module specific data to the dialog. Application can also set the value directly by accessing dlg-&gt;mod_data[module_id].</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_id</em>&nbsp;</td><td>The ID of the module from which the data is to be set to the dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Arbitrary data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1ec70435e48e62a772d85aa7695f8b82"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_get_mod_data" ref="ga1ec70435e48e62a772d85aa7695f8b82" args="(pjsip_dialog *dlg, int mod_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pjsip_dlg_get_mod_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>mod_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get module specific data previously attached to the dialog. Application can also get value directly by accessing dlg-&gt;mod_data[module_id].</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_id</em>&nbsp;</td><td>The ID of the module from which the data is to be retrieved from the dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The data that was previously set, or NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5d87304615303ffbe20a09e0a3ff59df"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_inc_lock" ref="ga5d87304615303ffbe20a09e0a3ff59df" args="(pjsip_dialog *dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_dlg_inc_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lock dialog and increment session counter termporarily, to prevent it from being destroyed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac50e4f3f62ee648b1c818e4450977f32"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_try_inc_lock" ref="gac50e4f3f62ee648b1c818e4450977f32" args="(pjsip_dialog *dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_try_inc_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Try to acquire dialog's lock, but return immediately if lock can not be acquired.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if lock has been acquired. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3283f8502b1df5d37914668338351a4f"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_dec_lock" ref="ga3283f8502b1df5d37914668338351a4f" args="(pjsip_dialog *dlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_dlg_dec_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unlock dialog and decrement temporary session counter. After this function is called, dialog may be destroyed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga91add2c982da9a7710945f18021c46a9"></a><!-- doxytag: member="sip_dialog.h::pjsip_rdata_get_dlg" ref="ga91add2c982da9a7710945f18021c46a9" args="(pjsip_rx_data *rdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a>* pjsip_rdata_get_dlg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the dialog instance in the incoming rdata. If an incoming message matches an existing dialog, the user agent must have put the matching dialog instance in the rdata, or otherwise this function will return NULL if the message didn't match any existing dialog.</p>
<p>This function can only be called after endpoint distributes the message to the transaction layer or UA layer. In other words, application can only call this function in the context of module that runs in priority number higher than PJSIP_MOD_PRIORITY_UA_PROXY_LAYER.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>Incoming message buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The dialog instance that "owns" the message. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1d334da49e02e58ded7fbd9dc6e20118"></a><!-- doxytag: member="sip_dialog.h::pjsip_tsx_get_dlg" ref="ga1d334da49e02e58ded7fbd9dc6e20118" args="(pjsip_transaction *tsx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a>* pjsip_tsx_get_dlg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the associated dialog for the specified transaction, if any.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The dialog instance which has been registered to the transaction as transaction user, or NULL if the transaction is outside any dialogs. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e057a2b3b89d071a2027eba4321751f"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_create_request" ref="ga8e057a2b3b89d071a2027eba4321751f" args="(pjsip_dialog *dlg, const pjsip_method *method, int cseq, pjsip_tx_data **tdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_create_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>cseq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> **&nbsp;</td>
          <td class="paramname"> <em>tdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a basic/generic request with the specified method and optionally specify the cseq. Use value -1 for cseq to have the dialog automatically put next cseq number for the request. Otherwise for some requests, e.q. CANCEL and ACK, application must put the CSeq in the original INVITE request as the parameter.</p>
<p>This function will also put Contact header where appropriate.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>The method of the request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cseq</em>&nbsp;</td><td>Optional CSeq, which only needs to be specified when creating ACK and CANCEL. For other requests, specify -1 to use dialog's internal counter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>Pointer to receive the request's transmit data buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="gab2ec46bfa4a8fd5fdf96cda2bb477355"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_send_request" ref="gab2ec46bfa4a8fd5fdf96cda2bb477355" args="(pjsip_dialog *dlg, pjsip_tx_data *tdata, int mod_data_id, void *mod_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_send_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>mod_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>mod_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send request message to remote peer. If the request is not an ACK request, the dialog will send the request statefully, by creating an UAC transaction and send the request with the transaction.</p>
<p>Also when the request is not ACK or CANCEL, the dialog will increment its local cseq number and update the cseq in the request according to dialog's cseq.</p>
<p>If p_tsx is not null, this argument will be set with the transaction instance that was used to send the request.</p>
<p>This function will decrement the transmit data's reference counter regardless the status of the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The request message to be sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_data_id</em>&nbsp;</td><td>Optional module data index to put an optional data into the transaction. If no module data is to be attached, this value should be -1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_data</em>&nbsp;</td><td>Optional module data to be attached to the transaction at mod_data_id index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4271e64898c6f3822c28fbca07c706b5"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_create_response" ref="ga4271e64898c6f3822c28fbca07c706b5" args="(pjsip_dialog *dlg, pjsip_rx_data *rdata, int st_code, const pj_str_t *st_text, pjsip_tx_data **tdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_create_response </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>st_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>st_text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> **&nbsp;</td>
          <td class="paramname"> <em>tdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a response message for the incoming request in rdata with status code st_code and optional status text st_text. This function is different than endpoint's API <a class="el" href="group__PJSIP__ENDPT__STATELESS.htm#gac9f1f0b66ed886e7f717a3a087e386ec">pjsip_endpt_create_response()</a> in that the dialog function adds Contact header and Record-Routes headers in the response where appropriate.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming request message for which the response will be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_code</em>&nbsp;</td><td>Status code. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_text</em>&nbsp;</td><td>Optional string for custom status reason text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>Pointer to receive the response message transmit data buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="gabedb4bf2d670d823919545ea1f9b19d1"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_modify_response" ref="gabedb4bf2d670d823919545ea1f9b19d1" args="(pjsip_dialog *dlg, pjsip_tx_data *tdata, int st_code, const pj_str_t *st_text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_modify_response </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>st_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>st_text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Modify previously sent response with other status code. Contact header will be added when appropriate.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The transmit data buffer containing response message to be modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_code</em>&nbsp;</td><td>New status code to be set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_text</em>&nbsp;</td><td>Optional string for custom status reason text.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1a27fb4f5745d3cdd206dfaf28696bfa"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_send_response" ref="ga1a27fb4f5745d3cdd206dfaf28696bfa" args="(pjsip_dialog *dlg, pjsip_transaction *tsx, pjsip_tx_data *tdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_send_response </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send response message statefully. The transaction instance MUST be the transaction that was reported on on_rx_request() callback.</p>
<p>This function decrements the transmit data's reference counter regardless the status of the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The UAS transaction associated with the incoming request. If the request is within a dialog, or a dialog has been created for the request that creates the dialog, application can get the transaction instance for the request by calling <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga0986013fc64382f90f7d21ecc1efb614">pjsip_rdata_get_tsx()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>Response message to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3f4fbd6b5486fcc1a448be8456b0bb18"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_respond" ref="ga3f4fbd6b5486fcc1a448be8456b0bb18" args="(pjsip_dialog *dlg, pjsip_rx_data *rdata, int st_code, const pj_str_t *st_text, const pjsip_hdr *hdr_list, const pjsip_msg_body *body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_respond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>st_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>st_text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__hdr.htm">pjsip_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__msg__body.htm">pjsip_msg_body</a> *&nbsp;</td>
          <td class="paramname"> <em>body</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This composite function sends response message statefully to an incoming request message inside dialog.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The endpoint instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming request message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_code</em>&nbsp;</td><td>Status code of the response. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st_text</em>&nbsp;</td><td>Optional status text of the response. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdr_list</em>&nbsp;</td><td>Optional header list to be added to the response. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>body</em>&nbsp;</td><td>Optional message body to be added to the response.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if response message has successfully been sent. </dd></dl>

</div>
</div>
<a class="anchor" id="ga318fcc5538aeabddb8d546644a5f6b5e"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_remote_has_cap" ref="ga318fcc5538aeabddb8d546644a5f6b5e" args="(pjsip_dialog *dlg, int htype, const pj_str_t *hname, const pj_str_t *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJSIP__DIALOG.htm#ga78a1bd1fc30a0850704bdaa5c8bad369">pjsip_dialog_cap_status</a> pjsip_dlg_remote_has_cap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>htype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if remote peer have the specified capability as published in the dialog messages from remote peer.</p>
<p>Notes:</p>
<ul>
<li>The capability <em>token</em> lookup will apply exact match, but not case-sensitive, for example: <code>"text/html"</code> will not match <code>"text / html"</code> (notice the spaces).</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>htype</em>&nbsp;</td><td>The header type to be checked, which value may be:</p>
<ul>
<li>PJSIP_H_ACCEPT</li>
<li>PJSIP_H_ALLOW</li>
<li>PJSIP_H_SUPPORTED </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hname</em>&nbsp;</td><td>If htype specifies PJSIP_H_OTHER, then the header name must be supplied in this argument. Otherwise the value must be set to NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The capability token to check. For example, if <em>htype</em> is PJSIP_H_ALLOW, then <em>token</em> specifies the method names; if <em>htype</em> is PJSIP_H_SUPPORTED, then <em>token</em> specifies the extension names such as "100rel".</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJSIP_DIALOG_CAP_SUPPORTED if the specified capability is explicitly supported, see  for more info. </dd></dl>

</div>
</div>
<a class="anchor" id="ga11de99fc139265bb5e76ba0c8a05b5b1"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_get_remote_cap_hdr" ref="ga11de99fc139265bb5e76ba0c8a05b5b1" args="(pjsip_dialog *dlg, int htype, const pj_str_t *hname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structpjsip__hdr.htm">pjsip_hdr</a>* pjsip_dlg_get_remote_cap_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>htype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the specified capability header from the remote capability headers stored in the dialog.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>htype</em>&nbsp;</td><td>The header type to be retrieved, which value may be:</p>
<ul>
<li>PJSIP_H_ACCEPT</li>
<li>PJSIP_H_ALLOW</li>
<li>PJSIP_H_SUPPORTED </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hname</em>&nbsp;</td><td>If htype specifies PJSIP_H_OTHER, then the header name must be supplied in this argument. Otherwise the value must be set to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The appropriate header, or NULL if the header is not available. </dd></dl>

</div>
</div>
<a class="anchor" id="gab728b92084cee3ff660fa1ee7149140a"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_set_remote_cap_hdr" ref="gab728b92084cee3ff660fa1ee7149140a" args="(pjsip_dialog *dlg, const pjsip_generic_array_hdr *cap_hdr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_set_remote_cap_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__generic__array__hdr.htm">pjsip_generic_array_hdr</a> *&nbsp;</td>
          <td class="paramname"> <em>cap_hdr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set remote capability from a SIP header containing array of capability tags/values.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cap_hdr</em>&nbsp;</td><td>The SIP header.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS when successful, otherwise the appropriate error code will be returned. </dd></dl>

</div>
</div>
<a class="anchor" id="gada94b9d74455f8f979fb18c08280f623"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_remove_remote_cap_hdr" ref="gada94b9d74455f8f979fb18c08280f623" args="(pjsip_dialog *dlg, int htype, const pj_str_t *hname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_remove_remote_cap_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>htype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove a remote capability header.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>htype</em>&nbsp;</td><td>The header type to be removed, which value may be:</p>
<ul>
<li>PJSIP_H_ACCEPT</li>
<li>PJSIP_H_ALLOW</li>
<li>PJSIP_H_SUPPORTED </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hname</em>&nbsp;</td><td>If htype specifies PJSIP_H_OTHER, then the header name must be supplied in this argument. Otherwise the value must be set to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS when successful, otherwise the appropriate error code will be returned. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9983f3d026de6af450d4a595cb0a1e9b"></a><!-- doxytag: member="sip_dialog.h::pjsip_dlg_update_remote_cap" ref="ga9983f3d026de6af450d4a595cb0a1e9b" args="(pjsip_dialog *dlg, const pjsip_msg *msg, pj_bool_t strict)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_dlg_update_remote_cap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&nbsp;</td>
          <td class="paramname"> <em>dlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td>
          <td class="paramname"> <em>strict</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update remote capabilities from a received message. The header types to be updated from the message will only be <em>PJSIP_H_ACCEPT</em>, <em>PJSIP_H_ALLOW</em>, and <em>PJSIP_H_SUPPORTED</em>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlg</em>&nbsp;</td><td>The dialog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The received message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>strict</em>&nbsp;</td><td>If this is set to PJ_TRUE, any header types missing from the message will cause removal of existing header types in the capability list. Otherwise, the capability list will not be modified when any header type is missing.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS when successful, otherwise the appropriate error code will be returned. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
