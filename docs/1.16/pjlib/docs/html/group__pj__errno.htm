<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJLIB Reference: Error Subsystem (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJLIB Reference</p>


<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Error Subsystem</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errnum.htm">PJLIB's Own Error Codes</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga314a8edfdcec54a086a401e97b5b0bd0">PJ_ERR_MSG_SIZE</a>&nbsp;&nbsp;&nbsp;80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga3663b3835c7fd8a7bac1ce0a67e3ddcc">PJ_PERROR_TITLE_BUF_SIZE</a>&nbsp;&nbsp;&nbsp;120</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR</a>(level, arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gacc85d9323301650f961ae38e689fefcd">PJ_RETURN_OS_ERROR</a>(os_code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gaf21ec2038ae010661eb50c56696278c9">PJ_STATUS_FROM_OS</a>(e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga0ee132edc83254a01c60d7ece4499032">PJ_STATUS_TO_OS</a>(e)</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structpj__str__t.htm">pj_str_t</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga7b8a6f02d2fb36b345e4b2915ca9e3d4">pj_error_callback</a> )(<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> e, char *msg, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> max)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gab55e3d49c25f27e8353a8dd385f97942">pj_get_os_error</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga902af234ceebf60443561fb2dd26649e">pj_set_os_error</a> (<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gaf32783cbca43d14cfc7e29694ba9057c">pj_get_netos_error</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga963ec970ae960db3c2f8e545a33dd98a">pj_set_netos_error</a> (<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpj__str__t.htm">pj_str_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga7d2616aded0d61924fb31f4fd6ee45c0">pj_strerror</a> (<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> statcode, char *buf, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> bufsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#ga6ed5bf6d40eb96eb9141b46efbd61279">pj_perror</a> (int log_level, const char *sender, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status, const char *title_fmt,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pj__errno.htm#gad8f99b82d704194469c3b5345f01cc9e">pj_register_strerror</a> (<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> start_code, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> err_space, <a class="el" href="group__pj__errno.htm#ga7b8a6f02d2fb36b345e4b2915ca9e3d4">pj_error_callback</a> f)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The PJLIB Error Subsystem is a framework to unify all error codes produced by all components into a single error space, and provide uniform set of APIs to access them. With this framework, any error codes are encoded as pj_status_t value. The framework is extensible, application may register new error spaces to be recognized by the framework.</p>
<h2><a class="anchor" id="pj_errno_retval"></a>
Return Values</h2>
<p>All functions that returns <em>pj_status_t</em> returns <em>PJ_SUCCESS</em> if the operation was completed successfully, or non-zero value to indicate error. If the error came from operating system, then the native error code is translated/folded into PJLIB's error namespace by using <a class="el" href="group__pj__errno.htm#gaf21ec2038ae010661eb50c56696278c9">PJ_STATUS_FROM_OS()</a> macro. The function will do this automatically before returning the error to caller.</p>
<h2><a class="anchor" id="err_services"></a>
Retrieving and Displaying Error Messages</h2>
<p>The framework provides the following APIs to retrieve and/or display error messages:</p>
<ul>
<li><a class="el" href="group__pj__errno.htm#ga7d2616aded0d61924fb31f4fd6ee45c0">pj_strerror()</a>: this is the base API to retrieve error string description for the specified pj_status_t error code.</li>
</ul>
<ul>
<li><a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> macro: use this macro similar to PJ_LOG to format an error message and display them to the log</li>
</ul>
<ul>
<li><a class="el" href="group__pj__errno.htm#ga6ed5bf6d40eb96eb9141b46efbd61279">pj_perror()</a>: this function is similar to <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> but unlike <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a>, this function will always be included in the link process. Due to this reason, prefer to use <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> if the application is concerned about the executable size.</li>
</ul>
<p>Application MUST NOT pass native error codes (such as error code from functions like GetLastError() or errno) to PJLIB functions expecting <em>pj_status_t</em>.</p>
<h2><a class="anchor" id="err_extending"></a>
Extending the Error Space</h2>
<p>Application may register new error space to be recognized by the framework by using <a class="el" href="group__pj__errno.htm#gad8f99b82d704194469c3b5345f01cc9e">pj_register_strerror()</a>. Use the range started from PJ_ERRNO_START_USER to avoid conflict with existing error spaces. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga314a8edfdcec54a086a401e97b5b0bd0"></a><!-- doxytag: member="errno.h::PJ_ERR_MSG_SIZE" ref="ga314a8edfdcec54a086a401e97b5b0bd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_ERR_MSG_SIZE&nbsp;&nbsp;&nbsp;80</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Guidelines on error message length. </p>

</div>
</div>
<a class="anchor" id="gacb73514c3158bdeda93488e8624e7b42"></a><!-- doxytag: member="errno.h::PJ_PERROR" ref="gacb73514c3158bdeda93488e8624e7b42" args="(level, arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_PERROR</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">arg</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A utility macro to print error message pertaining to the specified error code to the log. This macro will construct the error message title according to the 'title_fmt' argument, and add the error string pertaining to the error code after the title string. A colon (':') will be added automatically between the title and the error string.</p>
<p>This function is similar to <a class="el" href="group__pj__errno.htm#ga6ed5bf6d40eb96eb9141b46efbd61279">pj_perror()</a> function, but has the advantage that the function call can be omitted from the link process if the log level argument is below PJ_LOG_MAX_LEVEL threshold.</p>
<p>Note that the title string constructed from the title_fmt will be built on a string buffer which size is PJ_PERROR_TITLE_BUF_SIZE, which normally is allocated from the stack. By default this buffer size is small (around 120 characters). Application MUST ensure that the constructed title string will not exceed this limit, since not all platforms support truncating the string.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__pj__errno.htm#ga6ed5bf6d40eb96eb9141b46efbd61279">pj_perror()</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>The logging verbosity level, valid values are 0-6. Lower number indicates higher importance, with level zero indicates fatal error. Only numeral argument is permitted (e.g. not variable). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>Enclosed 'printf' like arguments, with the following arguments:</p>
<ul>
<li>the sender (NULL terminated string),</li>
<li>the error code (pj_status_t)</li>
<li>the format string (title_fmt), and</li>
<li>optional variable number of arguments suitable for the format string.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Sample: </p>
<div class="fragment"><pre class="fragment">
   PJ_PERROR(2, (__FILE__, PJ_EBUSY, "Error making %s", "coffee"));
   </pre></div> 
</div>
</div>
<a class="anchor" id="ga3663b3835c7fd8a7bac1ce0a67e3ddcc"></a><!-- doxytag: member="errno.h::PJ_PERROR_TITLE_BUF_SIZE" ref="ga3663b3835c7fd8a7bac1ce0a67e3ddcc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_PERROR_TITLE_BUF_SIZE&nbsp;&nbsp;&nbsp;120</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Buffer for title string of <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a>. </p>

</div>
</div>
<a class="anchor" id="gacc85d9323301650f961ae38e689fefcd"></a><!-- doxytag: member="errno.h::PJ_RETURN_OS_ERROR" ref="gacc85d9323301650f961ae38e689fefcd" args="(os_code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_RETURN_OS_ERROR</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">os_code</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return platform os error code folded into pj_status_t code. This is the macro that is used throughout the library for all PJLIB's functions that returns error from operating system. Application may override this macro to reduce size (e.g. by defining it to always return <a class="el" href="group__pj__errnum.htm#ga009c72c2695c3f2726540bcbe8eead5f">PJ_EUNKNOWN</a>).</p>
<p>Note: This macro MUST return non-zero value regardless whether zero is passed as the argument. The reason is to protect logic error when the operating system doesn't report error codes properly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>os_code</em>&nbsp;</td><td>Platform OS error code. This value may be evaluated more than once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The platform os error code folded into pj_status_t. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf21ec2038ae010661eb50c56696278c9"></a><!-- doxytag: member="errno.h::PJ_STATUS_FROM_OS" ref="gaf21ec2038ae010661eb50c56696278c9" args="(e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_STATUS_FROM_OS</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">e</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fold a platform specific error into an pj_status_t code.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>The platform os error code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pj_status_t </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Macro implementation; the syserr argument may be evaluated multiple times. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0ee132edc83254a01c60d7ece4499032"></a><!-- doxytag: member="errno.h::PJ_STATUS_TO_OS" ref="ga0ee132edc83254a01c60d7ece4499032" args="(e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJ_STATUS_TO_OS</td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname">e</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fold an pj_status_t code back to the native platform defined error.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>The pj_status_t folded platform os error code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pj_os_err_type </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>macro implementation; the statcode argument may be evaluated multiple times. If the statcode was not created by pj_get_os_error or PJ_STATUS_FROM_OS, the results are undefined. </dd></dl>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga7b8a6f02d2fb36b345e4b2915ca9e3d4"></a><!-- doxytag: member="errno.h::pj_error_callback" ref="ga7b8a6f02d2fb36b345e4b2915ca9e3d4" args=")(pj_status_t e, char *msg, pj_size_t max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structpj__str__t.htm">pj_str_t</a>(* <a class="el" href="group__pj__errno.htm#ga7b8a6f02d2fb36b345e4b2915ca9e3d4">pj_error_callback</a>)(<a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> e, char *msg, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> max)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Type of callback to be specified in <a class="el" href="group__pj__errno.htm#gad8f99b82d704194469c3b5345f01cc9e">pj_register_strerror()</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>The error code to lookup. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>Buffer to store the error message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>Length of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The error string. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaf32783cbca43d14cfc7e29694ba9057c"></a><!-- doxytag: member="errno.h::pj_get_netos_error" ref="gaf32783cbca43d14cfc7e29694ba9057c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_get_netos_error </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the last error from socket operations. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Last socket error, folded into pj_status_t. </dd></dl>

</div>
</div>
<a class="anchor" id="gab55e3d49c25f27e8353a8dd385f97942"></a><!-- doxytag: member="errno.h::pj_get_os_error" ref="gab55e3d49c25f27e8353a8dd385f97942" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_get_os_error </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the last platform error/status, folded into pj_status_t. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>OS dependent error code, folded into pj_status_t. </dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>This function gets errno, or calls GetLastError() function and convert the code into pj_status_t with PJ_STATUS_FROM_OS. Do not call this for socket functions! </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__pj__errno.htm#gaf32783cbca43d14cfc7e29694ba9057c">pj_get_netos_error()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga6ed5bf6d40eb96eb9141b46efbd61279"></a><!-- doxytag: member="errno.h::pj_perror" ref="ga6ed5bf6d40eb96eb9141b46efbd61279" args="(int log_level, const char *sender, pj_status_t status, const char *title_fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pj_perror </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>log_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>title_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A utility function to print error message pertaining to the specified error code to the log. This function will construct the error message title according to the 'title_fmt' argument, and add the error string pertaining to the error code after the title string. A colon (':') will be added automatically between the title and the error string.</p>
<p>Unlike the <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> macro, this function takes the <em>log_level</em> argument as a normal argument, unlike in <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> where a numeral value must be given. However this function will always be linked to the executable, unlike <a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> which can be omitted when the level is below the PJ_LOG_MAX_LEVEL.</p>
<p>Note that the title string constructed from the title_fmt will be built on a string buffer which size is PJ_PERROR_TITLE_BUF_SIZE, which normally is allocated from the stack. By default this buffer size is small (around 120 characters). Application MUST ensure that the constructed title string will not exceed this limit, since not all platforms support truncating the string.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__pj__errno.htm#gacb73514c3158bdeda93488e8624e7b42">PJ_PERROR()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gad8f99b82d704194469c3b5345f01cc9e"></a><!-- doxytag: member="errno.h::pj_register_strerror" ref="gad8f99b82d704194469c3b5345f01cc9e" args="(pj_status_t start_code, pj_status_t err_space, pj_error_callback f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_register_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>start_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>err_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pj__errno.htm#ga7b8a6f02d2fb36b345e4b2915ca9e3d4">pj_error_callback</a>&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register strerror message handler for the specified error space. Application can register its own handler to supply the error message for the specified error code range. This handler will be called by <a class="el" href="group__pj__errno.htm#ga7d2616aded0d61924fb31f4fd6ee45c0">pj_strerror()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start_code</em>&nbsp;</td><td>The starting error code where the handler should be called to retrieve the error message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err_space</em>&nbsp;</td><td>The size of error space. The error code range then will fall in start_code to start_code+err_space-1 range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The handler to be called when <a class="el" href="group__pj__errno.htm#ga7d2616aded0d61924fb31f4fd6ee45c0">pj_strerror()</a> is supplied with error code that falls into this range.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS or the specified error code. The registration may fail when the error space has been occupied by other handler, or when there are too many handlers registered to PJLIB. </dd></dl>

</div>
</div>
<a class="anchor" id="ga963ec970ae960db3c2f8e545a33dd98a"></a><!-- doxytag: member="errno.h::pj_set_netos_error" ref="ga963ec970ae960db3c2f8e545a33dd98a" args="(pj_status_t code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pj_set_netos_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>code</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set error code. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>pj_status_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga902af234ceebf60443561fb2dd26649e"></a><!-- doxytag: member="errno.h::pj_set_os_error" ref="ga902af234ceebf60443561fb2dd26649e" args="(pj_status_t code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pj_set_os_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>code</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set last error. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>pj_status_t </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7d2616aded0d61924fb31f4fd6ee45c0"></a><!-- doxytag: member="errno.h::pj_strerror" ref="ga7d2616aded0d61924fb31f4fd6ee45c0" args="(pj_status_t statcode, char *buf, pj_size_t bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpj__str__t.htm">pj_str_t</a> pj_strerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td>
          <td class="paramname"> <em>statcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the error message for the specified error code. The message string will be NULL terminated.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>statcode</em>&nbsp;</td><td>The error code. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer to hold the error message string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufsize</em>&nbsp;</td><td>Size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The error message as NULL terminated string, wrapped with <a class="el" href="structpj__str__t.htm">pj_str_t</a>. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJLIB Open Source, high performance, small footprint, and very very portable framework<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>


<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
