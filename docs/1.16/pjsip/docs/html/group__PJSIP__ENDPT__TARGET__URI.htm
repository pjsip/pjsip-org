<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: Target URI Management (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Target URI Management<br/>
<small>
[<a class="el" href="group__PJSIP__CORE__CORE.htm">At the Very Core</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Management of target URI's in case of redirectionThis module provides utility functions to manage target set for UAC. The target set is provided as <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> structure. Initially, the target set for UAC contains only one target, that is the target of the initial request. When 3xx/redirection class response is received, the UAC can use the functionality of this module to add the URI's listed in the Contact header(s) in the response to the target set, and retry sending the request to the next destination/target. The UAC may retry this sequentially until one of the target answers with succesful/2xx response, or one target returns global error/6xx response, or all targets are exhausted.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__target.htm">pjsip_target</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a> { <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516cab1bd4bf2df174fa00659de0acfa6a252">PJSIP_REDIRECT_REJECT</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca78300a38964d418c4a83abb304c92f3f">PJSIP_REDIRECT_ACCEPT</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca836653ae86351dbfefad76d951681ddc">PJSIP_REDIRECT_PENDING</a>, 
<a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ggaa99c427ca4668e49f1c3f6e25b10516ca9126f8b69b48238fbd1288830d45e94b">PJSIP_REDIRECT_STOP</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga94395baba22fafd43bc41130883a2386">pjsip_target_set_init</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga8cd736e7f5cf903dc8896dd70e1dd22c">pjsip_target_set_add_uri</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *uri, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> q1000)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga6d7cdd29007309e415d2763739af0f2d">pjsip_target_set_add_from_msg</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga3e1bc8c303a41e7a51c6067f7217325a">pjsip_target_set_get_next</a> (const <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga451dd48e0eaafba19feb2ec974f4ccc4">pjsip_target_set_set_current</a> (<a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *tset, <a class="el" href="structpjsip__target.htm">pjsip_target</a> *target)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#ga1dd6e1e61b24553f7950310f9e880a7d">pjsip_target_assign_status</a> (<a class="el" href="structpjsip__target.htm">pjsip_target</a> *target, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> status_code, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *reason)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This module is currently used by the <a class="el" href="group__PJSIP__INV.htm">INVITE Session</a>. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaa99c427ca4668e49f1c3f6e25b10516c"></a><!-- doxytag: member="sip_util.h::pjsip_redirect_op" ref="gaa99c427ca4668e49f1c3f6e25b10516c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__ENDPT__TARGET__URI.htm#gaa99c427ca4668e49f1c3f6e25b10516c">pjsip_redirect_op</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>These enumerations specify the action to be performed to a redirect response. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaa99c427ca4668e49f1c3f6e25b10516cab1bd4bf2df174fa00659de0acfa6a252"></a><!-- doxytag: member="PJSIP_REDIRECT_REJECT" ref="ggaa99c427ca4668e49f1c3f6e25b10516cab1bd4bf2df174fa00659de0acfa6a252" args="" -->PJSIP_REDIRECT_REJECT</em>&nbsp;</td><td>
<p>Reject the redirection to the current target. The UAC will select the next target from the target set if exists. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa99c427ca4668e49f1c3f6e25b10516ca78300a38964d418c4a83abb304c92f3f"></a><!-- doxytag: member="PJSIP_REDIRECT_ACCEPT" ref="ggaa99c427ca4668e49f1c3f6e25b10516ca78300a38964d418c4a83abb304c92f3f" args="" -->PJSIP_REDIRECT_ACCEPT</em>&nbsp;</td><td>
<p>Accept the redirection to the current target. The INVITE request will be resent to the current target. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa99c427ca4668e49f1c3f6e25b10516ca836653ae86351dbfefad76d951681ddc"></a><!-- doxytag: member="PJSIP_REDIRECT_PENDING" ref="ggaa99c427ca4668e49f1c3f6e25b10516ca836653ae86351dbfefad76d951681ddc" args="" -->PJSIP_REDIRECT_PENDING</em>&nbsp;</td><td>
<p>Defer the redirection decision, for example to request permission from the end user. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa99c427ca4668e49f1c3f6e25b10516ca9126f8b69b48238fbd1288830d45e94b"></a><!-- doxytag: member="PJSIP_REDIRECT_STOP" ref="ggaa99c427ca4668e49f1c3f6e25b10516ca9126f8b69b48238fbd1288830d45e94b" args="" -->PJSIP_REDIRECT_STOP</em>&nbsp;</td><td>
<p>Stop the whole redirection process altogether. This will cause the invite session to be disconnected. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga94395baba22fafd43bc41130883a2386"></a><!-- doxytag: member="sip_util.h::pjsip_target_set_init" ref="ga94395baba22fafd43bc41130883a2386" args="(pjsip_target_set *tset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_target_set_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize target set. This will empty the list of targets in the target set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tset</em>&nbsp;</td><td>The target set. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>, and <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__LIST.htm#ga0f39ad164f2124e6d42d1c2e7a5926dc">pj_list_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8cd736e7f5cf903dc8896dd70e1dd22c"></a><!-- doxytag: member="sip_util.h::pjsip_target_set_add_uri" ref="ga8cd736e7f5cf903dc8896dd70e1dd22c" args="(pjsip_target_set *tset, pj_pool_t *pool, const pjsip_uri *uri, int q1000)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_add_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__uri.htm">pjsip_uri</a> *&nbsp;</td>
          <td class="paramname"> <em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>q1000</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an URI to the target set, if the URI is not already in the target set. The URI comparison rule of <a class="el" href="group__PJSIP__URI__GENERIC.htm#ga99061502fe3805ace689dce34a9cf830">pjsip_uri_cmp()</a> will be used to determine the equality of this URI compared to existing URI's in the target set. The URI will be cloned using the specified memory pool before it is added to the list.</p>
<p>The first URI added to the target set will also be made current target by this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tset</em>&nbsp;</td><td>The target set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The memory pool to be used to duplicate the URI. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uri</em>&nbsp;</td><td>The URI to be checked and added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>q1000</em>&nbsp;</td><td>The q-value multiplied by 1000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if the URI was added to the target set, or PJ_EEXISTS if the URI already exists in the target set, or other error codes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6d7cdd29007309e415d2763739af0f2d"></a><!-- doxytag: member="sip_util.h::pjsip_target_set_add_from_msg" ref="ga6d7cdd29007309e415d2763739af0f2d" args="(pjsip_target_set *tset, pj_pool_t *pool, const pjsip_msg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_add_from_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__msg.htm">pjsip_msg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extract URI's in the Contact headers of the specified (response) message and add them to the target set. This function will also check if the URI's already exist in the target set before adding them to the list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tset</em>&nbsp;</td><td>The target set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The memory pool to be used to duplicate the URI's. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>SIP message from which the Contact headers will be scanned and the URI's to be extracted, checked, and added to the target set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if at least one URI was added to the target set, or PJ_EEXISTS if all URI's in the message already exists in the target set or if the message doesn't contain usable Contact headers, or other error codes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3e1bc8c303a41e7a51c6067f7217325a"></a><!-- doxytag: member="sip_util.h::pjsip_target_set_get_next" ref="ga3e1bc8c303a41e7a51c6067f7217325a" args="(const pjsip_target_set *tset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__target.htm">pjsip_target</a>* pjsip_target_set_get_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the next target to be retried. This function will scan the target set for target which hasn't been tried, and return one target with the highest q-value, if such target exists. This function will return NULL if there is one target with 2xx or 6xx code or if all targets have been tried.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tset</em>&nbsp;</td><td>The target set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The next target to be tried, or NULL if all targets have been tried or at least one target returns 2xx or 6xx response. </dd></dl>

</div>
</div>
<a class="anchor" id="ga451dd48e0eaafba19feb2ec974f4ccc4"></a><!-- doxytag: member="sip_util.h::pjsip_target_set_set_current" ref="ga451dd48e0eaafba19feb2ec974f4ccc4" args="(pjsip_target_set *tset, pjsip_target *target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_set_set_current </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target__set.htm">pjsip_target_set</a> *&nbsp;</td>
          <td class="paramname"> <em>tset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the specified target as the current target in the target set. The current target may be used by application to keep track on which target is currently being operated on.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tset</em>&nbsp;</td><td>The target set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>The target to be set as current target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1dd6e1e61b24553f7950310f9e880a7d"></a><!-- doxytag: member="sip_util.h::pjsip_target_assign_status" ref="ga1dd6e1e61b24553f7950310f9e880a7d" args="(pjsip_target *target, pj_pool_t *pool, int status_code, const pj_str_t *reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_target_assign_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__target.htm">pjsip_target</a> *&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>status_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>reason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the status code and reason phrase of the specified target.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>The target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The memory pool to be used to duplicate the reason phrase. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>The SIP status code to be set to the target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>The reason phrase to be set to the target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on successful operation or the appropriate error code. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
