<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJMEDIA Reference: RTCP Extended Report (XR) - RFC 3611 (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->

	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>RTCP Extended Report (XR) - RFC 3611<br/>
<small>
[<a class="el" href="group__PJMEDIA__SESSION.htm">Media Sessions</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>RTCP XR extension to RTCP session.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__header.htm">pjmedia_rtcp_xr_rb_header</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__rr__time.htm">pjmedia_rtcp_xr_rb_rr_time</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__dlrr__item.htm">pjmedia_rtcp_xr_rb_dlrr_item</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__dlrr.htm">pjmedia_rtcp_xr_rb_dlrr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__stats.htm">pjmedia_rtcp_xr_rb_stats</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__rb__voip__mtc.htm">pjmedia_rtcp_xr_rb_voip_mtc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__pkt.htm">pjmedia_rtcp_xr_pkt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__stream__stat.htm">pjmedia_rtcp_xr_stream_stat</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__stat.htm">pjmedia_rtcp_xr_stat</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga09c390aca0c57ee96adcd011947c7ffa">PJMEDIA_RTCP_XR_BUF_SIZE</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gac28937533947a2b96c197005f14c3c30">pjmedia_rtcp_xr_type</a> { <br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_LOSS_RLE</b> =  (1 &lt;&lt; 0), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_DUP_RLE</b> =  (1 &lt;&lt; 1), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_RCPT_TIMES</b> =  (1 &lt;&lt; 2), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_RR_TIME</b> =  (1 &lt;&lt; 3), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_DLRR</b> =  (1 &lt;&lt; 4), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_STATS</b> =  (1 &lt;&lt; 5), 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_VOIP_METRICS</b> =  (1 &lt;&lt; 6)
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga36ab2d2e1caf48a3a420c10ae864e217">pjmedia_rtcp_xr_info</a> { <br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_SIGNAL_LVL</b> =  1, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_NOISE_LVL</b> =  2, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_RERL</b> =  3, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_R_FACTOR</b> =  4, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_MOS_LQ</b> =  5, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_MOS_CQ</b> =  6, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_CONF_PLC</b> =  7, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_CONF_JBA</b> =  8, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_CONF_JBR</b> =  9, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_JB_NOM</b> =  10, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_JB_MAX</b> =  11, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_INFO_JB_ABS_MAX</b> =  12
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga4fa8e7e553fee2a3608a4c1fb67f3e4e">pjmedia_rtcp_xr_plc_type</a> { <br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_PLC_UNK</b> =  0, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_PLC_DIS</b> =  1, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_PLC_ENH</b> =  2, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_PLC_STD</b> =  3
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga0fc1b32f1b8af26cdb291421979fd60e">pjmedia_rtcp_xr_jb_type</a> { <br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_JB_UNKNOWN</b> =  0, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_JB_FIXED</b> =  2, 
<br/>
&nbsp;&nbsp;<b>PJMEDIA_RTCP_XR_JB_ADAPTIVE</b> =  3
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gade629046ba9a0297051b199bce749e45">pjmedia_rtcp_build_rtcp_xr</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, unsigned rpt_types, void **rtcp_pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gacfd0db4ea950c2bb0484b31563609ab3">pjmedia_rtcp_xr_update_info</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, unsigned <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gac65eeb4771a6fc34225302fee5bcb7e2">pj_int32_t</a> val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gaa1147e0f9e698ab25fa8f7e4dcbb52c4">pjmedia_rtcp_xr_init</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, struct <a class="el" href="structpjmedia__rtcp__session.htm">pjmedia_rtcp_session</a> *r_session, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a> gmin, unsigned frames_per_packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gaf0c7b2778fa946a98c403e532c3b2fd1">pjmedia_rtcp_xr_fini</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga7032ea5228312a256a4fbda9a087b655">pjmedia_rtcp_xr_rx_rtcp_xr</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, const void *rtcp_pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#ga0e20c7dbea4659caea4bfc08133dc573">pjmedia_rtcp_xr_rx_rtp</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, unsigned seq, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> lost, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> dup, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> discarded, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> jitter, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> toh, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> toh_ipv4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__RTCP__XR.htm#gacc7f7cc23d4c01c0027cb40a59059647">pjmedia_rtcp_xr_tx_rtp</a> (<a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *session, unsigned ptsize)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>PJMEDIA implements subsets of RTCP XR specification (RFC 3611) to monitor the quality of the real-time media (audio/video) transmission. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga09c390aca0c57ee96adcd011947c7ffa"></a><!-- doxytag: member="rtcp_xr.h::PJMEDIA_RTCP_XR_BUF_SIZE" ref="ga09c390aca0c57ee96adcd011947c7ffa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PJMEDIA_RTCP_XR_BUF_SIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">sizeof</span>(<a class="code" href="structpjmedia__rtcp__xr__rb__rr__time.htm">pjmedia_rtcp_xr_rb_rr_time</a>) + \
    <span class="keyword">sizeof</span>(<a class="code" href="structpjmedia__rtcp__xr__rb__dlrr.htm">pjmedia_rtcp_xr_rb_dlrr</a>) + \
    <span class="keyword">sizeof</span>(<a class="code" href="structpjmedia__rtcp__xr__rb__stats.htm">pjmedia_rtcp_xr_rb_stats</a>) + \
    <span class="keyword">sizeof</span>(<a class="code" href="structpjmedia__rtcp__xr__rb__voip__mtc.htm">pjmedia_rtcp_xr_rb_voip_mtc</a>)
</pre></div><p>Constant of RTCP-XR content size. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gac28937533947a2b96c197005f14c3c30"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_type" ref="gac28937533947a2b96c197005f14c3c30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMED__RTCP__XR.htm#gac28937533947a2b96c197005f14c3c30">pjmedia_rtcp_xr_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enumeration of report types of RTCP XR. Useful for user to enable varying combinations of RTCP XR report blocks. </p>

</div>
</div>
<a class="anchor" id="ga36ab2d2e1caf48a3a420c10ae864e217"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_info" ref="ga36ab2d2e1caf48a3a420c10ae864e217" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMED__RTCP__XR.htm#ga36ab2d2e1caf48a3a420c10ae864e217">pjmedia_rtcp_xr_info</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enumeration of info need to be updated manually to RTCP XR. Most info could be updated automatically each time RTP received. </p>

</div>
</div>
<a class="anchor" id="ga4fa8e7e553fee2a3608a4c1fb67f3e4e"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_plc_type" ref="ga4fa8e7e553fee2a3608a4c1fb67f3e4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMED__RTCP__XR.htm#ga4fa8e7e553fee2a3608a4c1fb67f3e4e">pjmedia_rtcp_xr_plc_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enumeration of PLC types definitions for RTCP XR report. </p>

</div>
</div>
<a class="anchor" id="ga0fc1b32f1b8af26cdb291421979fd60e"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_jb_type" ref="ga0fc1b32f1b8af26cdb291421979fd60e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMED__RTCP__XR.htm#ga0fc1b32f1b8af26cdb291421979fd60e">pjmedia_rtcp_xr_jb_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enumeration of jitter buffer types definitions for RTCP XR report. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gade629046ba9a0297051b199bce749e45"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_build_rtcp_xr" ref="gade629046ba9a0297051b199bce749e45" args="(pjmedia_rtcp_xr_session *session, unsigned rpt_types, void **rtcp_pkt, int *len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_build_rtcp_xr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>rpt_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>rtcp_pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build an RTCP XR packet which contains one or more RTCP XR report blocks. There are seven report types as defined in RFC 3611.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>The RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rpt_types</em>&nbsp;</td><td>Report types to be included in the packet, report types are defined in pjmedia_rtcp_xr_type, set this to zero will make this function build all reports appropriately. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rtcp_pkt</em>&nbsp;</td><td>Upon return, it will contain pointer to the RTCP XR packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Upon return, it will indicate the size of the generated RTCP XR packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacfd0db4ea950c2bb0484b31563609ab3"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_update_info" ref="gacfd0db4ea950c2bb0484b31563609ab3" args="(pjmedia_rtcp_xr_session *session, unsigned info, pj_int32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_rtcp_xr_update_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gac65eeb4771a6fc34225302fee5bcb7e2">pj_int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Call this function to manually update some info needed by RTCP XR to generate report which could not be populated directly when receiving RTP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>The RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Info type to be updated, </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__PJMED__RTCP__XR.htm#ga36ab2d2e1caf48a3a420c10ae864e217">pjmedia_rtcp_xr_info</a>. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa1147e0f9e698ab25fa8f7e4dcbb52c4"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_init" ref="gaa1147e0f9e698ab25fa8f7e4dcbb52c4" args="(pjmedia_rtcp_xr_session *session, struct pjmedia_rtcp_session *r_session, pj_uint8_t gmin, unsigned frames_per_packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_xr_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structpjmedia__rtcp__session.htm">pjmedia_rtcp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>r_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>gmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>frames_per_packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called internally by RTCP session when RTCP XR is enabled to initialize the RTCP XR session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r_session</em>&nbsp;</td><td>RTCP session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gmin</em>&nbsp;</td><td>Gmin value (defined in RFC 3611), set to 0 for default (16). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frames_per_packet</em>&nbsp;</td><td>Number of frames per packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf0c7b2778fa946a98c403e532c3b2fd1"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_fini" ref="gaf0c7b2778fa946a98c403e532c3b2fd1" args="(pjmedia_rtcp_xr_session *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_xr_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called internally by RTCP session to destroy the RTCP XR session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>RTCP XR session. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7032ea5228312a256a4fbda9a087b655"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_rx_rtcp_xr" ref="ga7032ea5228312a256a4fbda9a087b655" args="(pjmedia_rtcp_xr_session *session, const void *rtcp_pkt, pj_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_xr_rx_rtcp_xr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>rtcp_pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called internally by RTCP session when it receives incoming RTCP XR packets.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rtcp_pkt</em>&nbsp;</td><td>The received RTCP XR packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the incoming packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0e20c7dbea4659caea4bfc08133dc573"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_rx_rtp" ref="ga0e20c7dbea4659caea4bfc08133dc573" args="(pjmedia_rtcp_xr_session *session, unsigned seq, int lost, int dup, int discarded, int jitter, int toh, pj_bool_t toh_ipv4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_xr_rx_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>lost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>discarded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>jitter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>toh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td>
          <td class="paramname"> <em>toh_ipv4</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called internally by RTCP session whenever an RTP packet is received or lost to let the RTCP XR session update its statistics. Data passed to this function is a result of analyzation by RTCP and the jitter buffer. Whenever some info is available, the value should be zero or more (no negative info), otherwise if info is not available the info should be -1 so no update will be done for this info in the RTCP XR session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>Sequence number of RTP packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lost</em>&nbsp;</td><td>Info if this packet is lost. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dup</em>&nbsp;</td><td>Info if this packet is a duplication. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>discarded</em>&nbsp;</td><td>Info if this packet is discarded (not because of duplication). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jitter</em>&nbsp;</td><td>Info jitter of this packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toh</em>&nbsp;</td><td>Info Time To Live or Hops Limit of this packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toh_ipv4</em>&nbsp;</td><td>Set PJ_TRUE if packet is transported over IPv4. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacc7f7cc23d4c01c0027cb40a59059647"></a><!-- doxytag: member="rtcp_xr.h::pjmedia_rtcp_xr_tx_rtp" ref="gacc7f7cc23d4c01c0027cb40a59059647" args="(pjmedia_rtcp_xr_session *session, unsigned ptsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_rtcp_xr_tx_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__rtcp__xr__session.htm">pjmedia_rtcp_xr_session</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>ptsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called internally by RTCP session whenever an RTP packet is sent to let the RTCP XR session do its internal calculations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>RTCP XR session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptsize</em>&nbsp;</td><td>Size of RTP payload being sent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
