<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>STUN Client Transaction (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<TABLE border=0 width="90%"><TR><TD>
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; <A HREF="/pjnath/docs/html/index.htm">PJNATH Reference</A></p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">STUN Client Transaction<div class="ingroups"><a class="el" href="group__PJNATH.htm">NAT Traversal Helper Library</a> &raquo; <a class="el" href="group__PJNATH__STUN.htm">STUN: Session Traversal Utilities for NAT</a> &raquo; <a class="el" href="group__PJNATH__STUN__BASE.htm">Base STUN objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>STUN client transaction.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__stun__tsx__cb.htm">pj_stun_tsx_cb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga5b210a65ffd57be6a72d68338ff577b0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a></td></tr>
<tr class="separator:ga5b210a65ffd57be6a72d68338ff577b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b7ad1a131c4dc2399e0acb74e59c54d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga7b7ad1a131c4dc2399e0acb74e59c54d">pj_stun_client_tsx_create</a> (<a class="el" href="structpj__stun__config.htm">pj_stun_config</a> *cfg, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gadf42a33e518aa8df09d5a11429e8a41a">pj_grp_lock_t</a> *grp_lock, const <a class="el" href="structpj__stun__tsx__cb.htm">pj_stun_tsx_cb</a> *cb, <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> **p_tsx)</td></tr>
<tr class="separator:ga7b7ad1a131c4dc2399e0acb74e59c54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadc61402087bdf9815f272c308fa3408"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gaadc61402087bdf9815f272c308fa3408">pj_stun_client_tsx_schedule_destroy</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__time__val.htm">pj_time_val</a> *delay)</td></tr>
<tr class="separator:gaadc61402087bdf9815f272c308fa3408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadde00df7771c171aa8a6779f94c5309a"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gadde00df7771c171aa8a6779f94c5309a">pj_stun_client_tsx_destroy</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx)</td></tr>
<tr class="separator:gadde00df7771c171aa8a6779f94c5309a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77b0b2ca67af8d8b685b649457b7f007"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga77b0b2ca67af8d8b685b649457b7f007">pj_stun_client_tsx_stop</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx)</td></tr>
<tr class="separator:ga77b0b2ca67af8d8b685b649457b7f007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad814d012166f7a701b4f85f683f55f04"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gad814d012166f7a701b4f85f683f55f04">pj_stun_client_tsx_is_complete</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx)</td></tr>
<tr class="separator:gad814d012166f7a701b4f85f683f55f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a7340cfb73ff55bc887465480c37169"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga2a7340cfb73ff55bc887465480c37169">pj_stun_client_tsx_set_data</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx, void *data)</td></tr>
<tr class="separator:ga2a7340cfb73ff55bc887465480c37169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa20f287c587a3fecf6df4fb1024c96d3"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gaa20f287c587a3fecf6df4fb1024c96d3">pj_stun_client_tsx_get_data</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx)</td></tr>
<tr class="separator:gaa20f287c587a3fecf6df4fb1024c96d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaace930d9c1b8042da72de53ef14d864a"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gaace930d9c1b8042da72de53ef14d864a">pj_stun_client_tsx_send_msg</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> retransmit, void *pkt, unsigned pkt_len)</td></tr>
<tr class="separator:gaace930d9c1b8042da72de53ef14d864a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa37c2aa251034f553fe7b0cf530c1f51"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gaa37c2aa251034f553fe7b0cf530c1f51">pj_stun_client_tsx_retransmit</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> mod_count)</td></tr>
<tr class="separator:gaa37c2aa251034f553fe7b0cf530c1f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70cd4f20ace5669f75ddfcc016063bf1"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga70cd4f20ace5669f75ddfcc016063bf1">pj_stun_client_tsx_on_rx_msg</a> (<a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *tsx, const <a class="el" href="structpj__stun__msg.htm">pj_stun_msg</a> *msg, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, unsigned src_addr_len)</td></tr>
<tr class="separator:ga70cd4f20ace5669f75ddfcc016063bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm">STUN Client Transaction</a> is used to manage outgoing STUN request, for example to retransmit the request and to notify application about the completion of the request.</p>
<p>The <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm">STUN Client Transaction</a> does not use any networking operations, but instead application must supply the transaction with a callback to be used by the transaction to send outgoing requests. This way the STUN transaction is made more generic and can work with different types of networking codes in application. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga5b210a65ffd57be6a72d68338ff577b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b210a65ffd57be6a72d68338ff577b0">&#9670;&nbsp;</a></span>pj_stun_client_tsx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque declaration of STUN client transaction. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7b7ad1a131c4dc2399e0acb74e59c54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b7ad1a131c4dc2399e0acb74e59c54d">&#9670;&nbsp;</a></span>pj_stun_client_tsx_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__stun__config.htm">pj_stun_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gadf42a33e518aa8df09d5a11429e8a41a">pj_grp_lock_t</a> *&#160;</td>
          <td class="paramname"><em>grp_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__stun__tsx__cb.htm">pj_stun_tsx_cb</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> **&#160;</td>
          <td class="paramname"><em>p_tsx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an instance of STUN client transaction. The STUN client transaction is used to transmit outgoing STUN request and to ensure the reliability of the request by periodically retransmitting the request, if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The STUN endpoint, which will be used to retrieve various settings for the transaction. </td></tr>
    <tr><td class="paramname">pool</td><td>Pool to be used to allocate memory from. </td></tr>
    <tr><td class="paramname">grp_lock</td><td>Group lock to synchronize. </td></tr>
    <tr><td class="paramname">cb</td><td>Callback structure, to be used by the transaction to send message and to notify the application about the completion of the transaction. </td></tr>
    <tr><td class="paramname">p_tsx</td><td>Pointer to receive the transaction instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gadde00df7771c171aa8a6779f94c5309a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadde00df7771c171aa8a6779f94c5309a">&#9670;&nbsp;</a></span>pj_stun_client_tsx_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the STUN transaction immediately after the transaction is complete. Application normally calls this function in the on_complete() callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gaa20f287c587a3fecf6df4fb1024c96d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa20f287c587a3fecf6df4fb1024c96d3">&#9670;&nbsp;</a></span>pj_stun_client_tsx_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pj_stun_client_tsx_get_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the user data that was previously associated with the STUN transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN client transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The user data. </dd></dl>

</div>
</div>
<a id="gad814d012166f7a701b4f85f683f55f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad814d012166f7a701b4f85f683f55f04">&#9670;&nbsp;</a></span>pj_stun_client_tsx_is_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> pj_stun_client_tsx_is_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if transaction has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if transaction has completed. </dd></dl>

</div>
</div>
<a id="ga70cd4f20ace5669f75ddfcc016063bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70cd4f20ace5669f75ddfcc016063bf1">&#9670;&nbsp;</a></span>pj_stun_client_tsx_on_rx_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_on_rx_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__stun__msg.htm">pj_stun_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_addr_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notify the STUN transaction about the arrival of STUN response. If the STUN response contains a final error (300 and greater), the transaction will be terminated and callback will be called. If the STUN response contains response code 100-299, retransmission will cease, but application must still call this function again with a final response later to allow the transaction to complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN client transaction instance. </td></tr>
    <tr><td class="paramname">msg</td><td>The incoming STUN message. </td></tr>
    <tr><td class="paramname">src_addr</td><td>The source address of the packet. </td></tr>
    <tr><td class="paramname">src_addr_len</td><td>The length of the source address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gaa37c2aa251034f553fe7b0cf530c1f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa37c2aa251034f553fe7b0cf530c1f51">&#9670;&nbsp;</a></span>pj_stun_client_tsx_retransmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_retransmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>mod_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request to retransmit the request. Normally application should not need to call this function since retransmission would be handled internally, but this functionality is needed by ICE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN client transaction instance. </td></tr>
    <tr><td class="paramname">mod_count</td><td>Boolean flag to indicate whether transmission count needs to be incremented.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or PJNATH_ESTUNDESTROYED when the user has destroyed the transaction in <em>on_send_msg()</em> callback, or any other error code as returned by <em>on_send_msg()</em> callback. </dd></dl>

</div>
</div>
<a id="gaadc61402087bdf9815f272c308fa3408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadc61402087bdf9815f272c308fa3408">&#9670;&nbsp;</a></span>pj_stun_client_tsx_schedule_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_schedule_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__time__val.htm">pj_time_val</a> *&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule timer to destroy the transaction after the transaction is complete. Application normally calls this function in the on_complete() callback. When this timer elapsed, the on_destroy() callback will be called.</p>
<p>This is convenient to let the STUN transaction absorbs any response for the previous request retransmissions. If application doesn't want this, it can destroy the transaction immediately by calling <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gadde00df7771c171aa8a6779f94c5309a">pj_stun_client_tsx_destroy()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN transaction. </td></tr>
    <tr><td class="paramname">delay</td><td>The delay interval before on_destroy() callback is called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gaace930d9c1b8042da72de53ef14d864a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaace930d9c1b8042da72de53ef14d864a">&#9670;&nbsp;</a></span>pj_stun_client_tsx_send_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_send_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>retransmit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pkt_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the STUN client transaction by sending STUN request using this transaction. If reliable transport such as TCP or TLS is used, the retransmit flag should be set to PJ_FALSE because reliablity will be assured by the transport layer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN client transaction. </td></tr>
    <tr><td class="paramname">retransmit</td><td>Should this message be retransmitted by the STUN transaction. </td></tr>
    <tr><td class="paramname">pkt</td><td>The STUN packet to send. </td></tr>
    <tr><td class="paramname">pkt_len</td><td>Length of STUN packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or PJNATH_ESTUNDESTROYED when the user has destroyed the transaction in <em>on_send_msg()</em> callback, or any other error code as returned by <em>on_send_msg()</em> callback. </dd></dl>

</div>
</div>
<a id="ga2a7340cfb73ff55bc887465480c37169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a7340cfb73ff55bc887465480c37169">&#9670;&nbsp;</a></span>pj_stun_client_tsx_set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_set_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Associate an arbitrary data with the STUN transaction. This data can be then retrieved later from the transaction, by using <a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#gaa20f287c587a3fecf6df4fb1024c96d3">pj_stun_client_tsx_get_data()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN client transaction. </td></tr>
    <tr><td class="paramname">data</td><td>Application data to be associated with the STUN transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga77b0b2ca67af8d8b685b649457b7f007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77b0b2ca67af8d8b685b649457b7f007">&#9670;&nbsp;</a></span>pj_stun_client_tsx_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_stun_client_tsx_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__STUN__TRANSACTION.htm#ga5b210a65ffd57be6a72d68338ff577b0">pj_stun_client_tsx</a> *&#160;</td>
          <td class="paramname"><em>tsx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop the client transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsx</td><td>The STUN transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success or PJ_EINVAL if the parameter is NULL. </dd></dl>

</div>
</div>
</div><!-- contents -->
	</TD></TD></TABLE>
<p>&nbsp;</p>
<hr><center>
PJNATH - Open Source NAT traversal helper library supporting STUN, TURN, and ICE<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
