<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJMEDIA Reference: Media Ports Framework (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->

	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Media Ports Framework</h1>  </div>
</div>
<div class="contents">

<p>Extensible framework for media terminations.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__port__info.htm">pjmedia_port_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a></td></tr>
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__BIDIRECTIONAL__PORT.htm">Bidirectional Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>A bidirectional port combines two unidirectional ports into one bidirectional port. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT__CLOCK.htm">Clock/Timing</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Various types of classes that provide timing. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__CONF.htm">Conference Bridge</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Audio conference bridge implementation. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__Echo__Cancel.htm">Accoustic Echo Cancellation API</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Echo Cancellation API. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__ECHO__PORT.htm">Echo Cancellation Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Echo Cancellation. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__MEM__PLAYER.htm">Memory/Buffer-based Playback Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Media playback from a fixed size memory buffer. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__MEM__CAPTURE.htm">Memory/Buffer-based Capture Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Media capture to fixed size memory buffer. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__NULL__PORT.htm">Null Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>The simplest type of media port which does nothing. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__RESAMPLE__PORT.htm">Resample Port</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Audio sample rate conversion. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__STRM.htm">Streams</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Communicating with remote peer via the network. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__MF__DTMF__TONE__GENERATOR.htm">Multi-frequency tone generator</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Multi-frequency tone generator. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__WAV__PLAYLIST.htm">WAV File Play List</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Audio playback of multiple WAV files. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__FILE__PLAY.htm">WAV File Player</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Audio playback from WAV file. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__FILE__REC.htm">File Writer (Recorder)</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Audio capture/recording to WAV file. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__SPLITCOMB.htm">Media channel splitter/combiner</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Split and combine multiple mono-channel media ports into a single multiple-channels media port. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT.htm#gab80df6b0ea2ac9f1e3a204dee7c8daa9">pjmedia_port_op</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__PORT.htm#ggab80df6b0ea2ac9f1e3a204dee7c8daa9a48f0d692cd5e5dec41560df26eb06915">PJMEDIA_PORT_NO_CHANGE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__PORT.htm#ggab80df6b0ea2ac9f1e3a204dee7c8daa9a62ef1fdbd034217fbba31a09936be890">PJMEDIA_PORT_DISABLE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__PORT.htm#ggab80df6b0ea2ac9f1e3a204dee7c8daa9ae530f5dcae710fa1ff855efaa346c2ce">PJMEDIA_PORT_MUTE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__PORT.htm#ggab80df6b0ea2ac9f1e3a204dee7c8daa9a35b98a55cf45461d08293d3a3ddf2ebe">PJMEDIA_PORT_ENABLE</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT.htm#gab3259d2924c7a2243733391f6f8f0a9a">pjmedia_port_info_init</a> (<a class="el" href="structpjmedia__port__info.htm">pjmedia_port_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *name, unsigned signature, unsigned clock_rate, unsigned channel_count, unsigned bits_per_sample, unsigned samples_per_frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT.htm#gabb664bcbd6c07ac3b0b4793a68c9a757">pjmedia_port_get_frame</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port, <a class="el" href="structpjmedia__frame.htm">pjmedia_frame</a> *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT.htm#ga8f5f75da0c30cac7770805472bbfa9d7">pjmedia_port_put_frame</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port, const <a class="el" href="structpjmedia__frame.htm">pjmedia_frame</a> *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__PORT.htm#ga2d9ea1ac22e90437ef5d6471ef912d4b">pjmedia_port_destroy</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="media_port_intro"></a>
Media Port Concepts</h2>
<h3><a class="anchor" id="The"></a>
Media Port</h3>
<p>A media port (represented with <a class="el" href="structpjmedia__port.htm">pjmedia_port</a> "class") provides a generic and extensible framework for implementing media elements. Media element itself could be a media source, sink, or processing element. A media port interface basically has the following properties:</p>
<ul>
<li>media port information (<a class="el" href="structpjmedia__port__info.htm">pjmedia_port_info</a>) to describe the media port properties (sampling rate, number of channels, etc.),</li>
<li>optional pointer to function to acquire frames from the port (the <code>get_frame() </code> interface), which will be called by <a class="el" href="group__PJMEDIA__PORT.htm#gabb664bcbd6c07ac3b0b4793a68c9a757">pjmedia_port_get_frame()</a> public API, and</li>
<li>optional pointer to function to store frames to the port (the <code>put_frame()</code> interface) which will be called by <a class="el" href="group__PJMEDIA__PORT.htm#ga8f5f75da0c30cac7770805472bbfa9d7">pjmedia_port_put_frame()</a> public API.</li>
</ul>
<p>The <code>get_frame()</code> and <code>put_frame()</code> interface of course would only need to be implemented if the media port emits and/or takes media frames respectively.</p>
<p>Media ports are passive "objects". By default, there is no worker thread to run the media flow. Applications (or other PJMEDIA components, as explained in <a class="el" href="group__PJMEDIA__PORT__CLOCK.htm">Clock/Timing</a>) must actively call <a class="el" href="group__PJMEDIA__PORT.htm#gabb664bcbd6c07ac3b0b4793a68c9a757">pjmedia_port_get_frame()</a> or <a class="el" href="group__PJMEDIA__PORT.htm#ga8f5f75da0c30cac7770805472bbfa9d7">pjmedia_port_put_frame()</a> from/to the media port in order to retrieve/store media frames.</p>
<p>Some media ports (such as <a class="el" href="group__PJMEDIA__CONF.htm">Conference Bridge</a> and <a class="el" href="group__PJMEDIA__RESAMPLE__PORT.htm">Resample Port</a>) may be interconnected with (or encapsulate) other port, to perform the combined task of the ports, while some others represent the ultimate source/sink termination for the media. Interconnection means the upstream media port will call <code>get_frame()</code> and <code>put_frame()</code> to its downstream media port. For this to happen, the media ports need to have the same format, where format is defined as combination of sample format, clock rate, channel count, bits per sample, and samples per frame for audio media.</p>
<h3><a class="anchor" id="port_clock_ex1"></a>
Example: Manual Resampling</h3>
<p>For example, suppose application wants to convert the sampling rate of one WAV file to another. In this case, application would create and arrange media ports connection as follows:</p>
<div align="center">
<img src="sample-manual-resampling.jpg" alt="sample-manual-resampling.jpg"/>
</div>
<p>Application would setup the media ports using the following pseudo- code:</p>
<div class="fragment"><pre class="fragment">      <a class="code" href="structpjmedia__port.htm">pjmedia_port</a> *player, *resample, *writer;
      <a class="codeRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status;
  
      <span class="comment">// Create the file player port.</span>
      status = <a class="code" href="group__PJMEDIA__FILE__PLAY.htm#ga987129692be57281a40c836e8749313f">pjmedia_wav_player_port_create</a>(pool, 
                                              <span class="stringliteral">&quot;Input.WAV&quot;</span>,          <span class="comment">// file name</span>
                                              20,                   <span class="comment">// ptime.</span>
                                              <a class="code" href="group__PJMEDIA__FILE__PLAY.htm#gga090e1b63247b254576a9b20a53bb4568aec9c00b3a775a1b34f1c41ff12bae159">PJMEDIA_FILE_NO_LOOP</a>, <span class="comment">// flags</span>
                                              0,                    <span class="comment">// buffer size</span>
                                              NULL,                 <span class="comment">// user data.</span>
                                              &amp;player );
      <a class="codeRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__assert.htm#gac98bea768b573f53432076a387864fb3">PJ_ASSERT_RETURN</a>(status==PJ_SUCCESS, PJ_SUCCESS);
  
      <span class="comment">// Create the resample port with specifying the target sampling rate, </span>
      <span class="comment">// and with the file port as the source. This will effectively</span>
      <span class="comment">// connect the resample port with the player port.</span>
      status = <a class="code" href="group__PJMEDIA__RESAMPLE__PORT.htm#gaef0afc14ee2fac1996df8228ba56e1bd">pjmedia_resample_port_create</a>( pool, player, 8000, 
                                             0, &amp;resample);
      <a class="codeRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__assert.htm#gac98bea768b573f53432076a387864fb3">PJ_ASSERT_RETURN</a>(status==PJ_SUCCESS, PJ_SUCCESS);
  
      <span class="comment">// Create the file writer, specifying the resample port&#39;s configuration</span>
      <span class="comment">// as the WAV parameters.</span>
      status <a class="code" href="group__PJMEDIA__FILE__REC.htm#ga899268674e9657e8033738bca29621a2">pjmedia_wav_writer_port_create</a>(pool, 
                                            <span class="stringliteral">&quot;Output.WAV&quot;</span>,  <span class="comment">// file name.</span>
                                            resample-&gt;<a class="code" href="structpjmedia__port.htm#a1003b9085848f0a1ad3a3af9a760cbdb">info</a>.<a class="code" href="structpjmedia__port__info.htm#a67150be4ab8cf4855fe8ca75156d9f61">clock_rate</a>,
                                            resample-&gt;<a class="code" href="structpjmedia__port.htm#a1003b9085848f0a1ad3a3af9a760cbdb">info</a>.<a class="code" href="structpjmedia__port__info.htm#a8e49e273b80f0a914e34358c8b0356b0">channel_count</a>,
                                            resample-&gt;<a class="code" href="structpjmedia__port.htm#a1003b9085848f0a1ad3a3af9a760cbdb">info</a>.<a class="code" href="structpjmedia__port__info.htm#afd0e1dca00660c509808a09ba3135e5c">samples_per_frame</a>,
                                            resample-&gt;<a class="code" href="structpjmedia__port.htm#a1003b9085848f0a1ad3a3af9a760cbdb">info</a>.<a class="code" href="structpjmedia__port__info.htm#a604c79a6c2a4afd930abd1323e8e8d31">bits_per_sample</a>,
                                            0,          <span class="comment">// flags</span>
                                            0,          <span class="comment">// buffer size</span>
                                            NULL,       <span class="comment">// user data.</span>
                                            &amp;writer);
</pre></div><p>After the ports have been set up, application can perform the conversion process by running this loop:</p>
<div class="fragment"><pre class="fragment">        <a class="codeRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a> samplebuf[MAX_FRAME];
        
        <span class="keywordflow">while</span> (1) {
            <a class="code" href="structpjmedia__frame.htm">pjmedia_frame</a> frame;
            <a class="codeRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status;
  
            frame.<a class="code" href="structpjmedia__frame.htm#adaef949faa0309df6383c2955d4405af">buf</a> = samplebuf;
            frame.<a class="code" href="structpjmedia__frame.htm#aef71e5daee31e30f0222aaca74819792">size</a> = <span class="keyword">sizeof</span>(samplebuf);
  
            <span class="comment">// Get the frame from resample port.</span>
            status = <a class="code" href="group__PJMEDIA__PORT.htm#gabb664bcbd6c07ac3b0b4793a68c9a757">pjmedia_port_get_frame</a>(resample, &amp;frame);
            <span class="keywordflow">if</span> (status != PJ_SUCCESS || frame.<a class="code" href="structpjmedia__frame.htm#a7b4e62af4cbe9e40aa9ef276b43f61dc">type</a> == <a class="code" href="group__PJMEDIA__TYPES.htm#gga59dceaa77e4a0d37f8a89f1f2af04cf2a35d77c0c2146f834e53e34fa64178e89">PJMEDIA_FRAME_TYPE_NONE</a>) {
                <span class="comment">// End-of-file, end the conversion.</span>
                <span class="keywordflow">break</span>;
            }
  
            <span class="comment">// Put the frame to write port.</span>
            status = <a class="code" href="group__PJMEDIA__PORT.htm#ga8f5f75da0c30cac7770805472bbfa9d7">pjmedia_port_put_frame</a>(writer, &amp;frame);
            <span class="keywordflow">if</span> (status != PJ_SUCCESS) {
                <span class="comment">// Error in writing the file.</span>
                <span class="keywordflow">break</span>;
            }
        }
</pre></div><p>For the sake of completeness, after the resampling process is done, application would need to destroy the ports:</p>
<div class="fragment"><pre class="fragment">        <span class="comment">// Note: by default, destroying resample port will destroy the</span>
        <span class="comment">//       the downstream port too.</span>
        <a class="code" href="group__PJMEDIA__PORT.htm#ga2d9ea1ac22e90437ef5d6471ef912d4b">pjmedia_port_destroy</a>(resample);
        <a class="code" href="group__PJMEDIA__PORT.htm#ga2d9ea1ac22e90437ef5d6471ef912d4b">pjmedia_port_destroy</a>(writer);
</pre></div><p>The above steps are okay for our simple purpose of changing file's sampling rate. But for other purposes, the process of reading and writing frames need to be done in timely manner (for example, sending RTP packets to remote stream). And more over, as the application's scope goes bigger, the same pattern of manually reading/writing frames comes up more and more often, thus perhaps it would be better if PJMEDIA provides mechanism to automate this process.</p>
<p>And indeed PJMEDIA does provide such mechanism, which is described in <a class="el" href="group__PJMEDIA__PORT__CLOCK.htm">Clock/Timing</a> section.</p>
<h3><a class="anchor" id="media_port_autom"></a>
Automating Media Flow</h3>
<p>PJMEDIA provides few mechanisms to make media flows automatically among media ports. This concept is described in <a class="el" href="group__PJMEDIA__PORT__CLOCK.htm">Clock/Timing</a> section. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gab80df6b0ea2ac9f1e3a204dee7c8daa9"></a><!-- doxytag: member="port.h::pjmedia_port_op" ref="gab80df6b0ea2ac9f1e3a204dee7c8daa9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__PORT.htm#gab80df6b0ea2ac9f1e3a204dee7c8daa9">pjmedia_port_op</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Port operation setting. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a48f0d692cd5e5dec41560df26eb06915"></a><!-- doxytag: member="PJMEDIA_PORT_NO_CHANGE" ref="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a48f0d692cd5e5dec41560df26eb06915" args="" -->PJMEDIA_PORT_NO_CHANGE</em>&nbsp;</td><td>
<p>No change to the port TX or RX settings. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a62ef1fdbd034217fbba31a09936be890"></a><!-- doxytag: member="PJMEDIA_PORT_DISABLE" ref="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a62ef1fdbd034217fbba31a09936be890" args="" -->PJMEDIA_PORT_DISABLE</em>&nbsp;</td><td>
<p>TX or RX is disabled from the port. It means get_frame() or put_frame() WILL NOT be called for this port. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab80df6b0ea2ac9f1e3a204dee7c8daa9ae530f5dcae710fa1ff855efaa346c2ce"></a><!-- doxytag: member="PJMEDIA_PORT_MUTE" ref="ggab80df6b0ea2ac9f1e3a204dee7c8daa9ae530f5dcae710fa1ff855efaa346c2ce" args="" -->PJMEDIA_PORT_MUTE</em>&nbsp;</td><td>
<p>TX or RX is muted, which means that get_frame() or put_frame() will still be called, but the audio frame is discarded. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a35b98a55cf45461d08293d3a3ddf2ebe"></a><!-- doxytag: member="PJMEDIA_PORT_ENABLE" ref="ggab80df6b0ea2ac9f1e3a204dee7c8daa9a35b98a55cf45461d08293d3a3ddf2ebe" args="" -->PJMEDIA_PORT_ENABLE</em>&nbsp;</td><td>
<p>Enable TX and RX to/from this port. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab3259d2924c7a2243733391f6f8f0a9a"></a><!-- doxytag: member="port.h::pjmedia_port_info_init" ref="gab3259d2924c7a2243733391f6f8f0a9a" args="(pjmedia_port_info *info, const pj_str_t *name, unsigned signature, unsigned clock_rate, unsigned channel_count, unsigned bits_per_sample, unsigned samples_per_frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_port_info_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port__info.htm">pjmedia_port_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>clock_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>channel_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>bits_per_sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>samples_per_frame</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is an auxiliary function to initialize port info for ports which deal with PCM audio.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>The port info to be initialized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Port name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>signature</em>&nbsp;</td><td>Port signature. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clock_rate</em>&nbsp;</td><td>Port's clock rate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel_count</em>&nbsp;</td><td>Number of channels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bits_per_sample</em>&nbsp;</td><td>Bits per sample. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>samples_per_frame</em>&nbsp;</td><td>Number of samples per frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb664bcbd6c07ac3b0b4793a68c9a757"></a><!-- doxytag: member="port.h::pjmedia_port_get_frame" ref="gabb664bcbd6c07ac3b0b4793a68c9a757" args="(pjmedia_port *port, pjmedia_frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_port_get_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__frame.htm">pjmedia_frame</a> *&nbsp;</td>
          <td class="paramname"> <em>frame</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a frame from the port (and subsequent downstream ports).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The media port. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>Frame to store samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8f5f75da0c30cac7770805472bbfa9d7"></a><!-- doxytag: member="port.h::pjmedia_port_put_frame" ref="ga8f5f75da0c30cac7770805472bbfa9d7" args="(pjmedia_port *port, const pjmedia_frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_port_put_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__frame.htm">pjmedia_frame</a> *&nbsp;</td>
          <td class="paramname"> <em>frame</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put a frame to the port (and subsequent downstream ports).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The media port. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>Frame to the put to the port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2d9ea1ac22e90437ef5d6471ef912d4b"></a><!-- doxytag: member="port.h::pjmedia_port_destroy" ref="ga2d9ea1ac22e90437ef5d6471ef912d4b" args="(pjmedia_port *port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_port_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&nbsp;</td>
          <td class="paramname"> <em>port</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroy port (and subsequent downstream ports)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The media port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
