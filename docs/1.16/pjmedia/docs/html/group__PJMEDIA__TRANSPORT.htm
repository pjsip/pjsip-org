<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJMEDIA Reference: Media Transport (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->

	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Media Transport</h1>  </div>
</div>
<div class="contents">

<p>Transports.The media transport (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a>) is the object to send and receive media packets over the network. The media transport interface allows the library to be extended to support different types of transports to send and receive packets.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__transport__specific__info.htm">pjmedia_transport_specific_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a></td></tr>
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__ADAPTER__SAMPLE.htm">Sample Transport Adapter</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Example on how to create transport adapter. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm">ICE Media Transport</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Interactive Connectivity Establishment (ICE) transport. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__LOOP.htm">Loopback Media Transport</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Loopback transport for testing. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm">Secure RTP (SRTP) Media Transport</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Media transport adapter to add SRTP feature to existing transports. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__UDP.htm">UDP Media Transport</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Implementation of media transport with UDP sockets. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef typedefPJ_BEGIN_DECL <br class="typebreak"/>
struct <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga7ae7ee084cc2bd04409ea1c2726ebf66">pjmedia_transport</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga6c5cd2067701addc315c62b3c19f6d88">pjmedia_tranport_media_option</a> { <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gga6c5cd2067701addc315c62b3c19f6d88ad7167494132abac5ca8a94d6c4d35eb0">PJMEDIA_TPMED_NO_TRANSPORT_CHECKING</a> =  1
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gab718206fdd0c1afa059fabb6f78ebed0">pjmedia_transport_type</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__TRANSPORT.htm#ggab718206fdd0c1afa059fabb6f78ebed0a0e0211f7fb56656b56ce71f710f0fc69">PJMEDIA_TRANSPORT_TYPE_UDP</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__TRANSPORT.htm#ggab718206fdd0c1afa059fabb6f78ebed0acf8b7cbb3a294ff688a803d26683380f">PJMEDIA_TRANSPORT_TYPE_ICE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__TRANSPORT.htm#ggab718206fdd0c1afa059fabb6f78ebed0a269d8bcef7b08718af5c77a00bb2fd59">PJMEDIA_TRANSPORT_TYPE_SRTP</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJMEDIA__TRANSPORT.htm#ggab718206fdd0c1afa059fabb6f78ebed0a1bbd75d51f49d8b7c52dcefdd23447ad">PJMEDIA_TRANSPORT_TYPE_USER</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gab293d1afad42d1f49745f3fcd235fa17">pjmedia_transport_info_init</a> (<a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga213beab16cd5d94437c2890b9f3fe75b">pjmedia_transport_get_info</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga5f5a0595cce6116c0369d4d32c0e3f8f">pjmedia_transport_info_get_spc_info</a> (<a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__SYS__INFO.htm#ga5fdc2ee11d7ed4e87245acd50a87a838">info</a>, <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gab718206fdd0c1afa059fabb6f78ebed0">pjmedia_transport_type</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *rem_addr, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *rem_rtcp, unsigned addr_len, void(*rtp_cb)(void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a>), void(*rtcp_cb)(void *usr_data, void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a>))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gad0b1f17d5920dd05b3832886b68d9c24">pjmedia_transport_detach</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga79db5c82268501ec3bf7c1897c0b3626">pjmedia_transport_send_rtp</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, const void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga5fe97ac16287563420950a8b87d247b4">pjmedia_transport_send_rtcp</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, const void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gad6203fbcee81df1321ca7b19e7ad3fa6">pjmedia_transport_send_rtcp2</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *addr, unsigned addr_len, const void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga80efd3ecee40e4002c955fa77ac201a6">pjmedia_transport_media_create</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *sdp_pool, unsigned options, const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *rem_sdp, unsigned media_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *sdp_pool, <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *sdp, const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *rem_sdp, unsigned media_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *tmp_pool, const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *sdp_local, const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *sdp_remote, unsigned media_index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga0114fa7e20cb17c645701b2dbda96452">pjmedia_transport_close</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga30e410ca02a4e815346b5e5fa505e7b5">pjmedia_transport_simulate_lost</a> (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *tp, <a class="el" href="group__PJMEDIA__TYPES.htm#gaf19d0dce3e3c99a3b9514726c28baa30">pjmedia_dir</a> dir, unsigned pct_lost)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The media transport is declared as <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> "class", which declares "interfaces" to use the class in <a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a> structure. For the user of the media transport (normally the user of media transport is media stream, see <a class="el" href="group__PJMED__STRM.htm">Streams</a>), these transport "methods" are wrapped with API such as <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a>, so it should not need to call the function pointer inside <a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a> directly.</p>
<p>The connection between <a class="el" href="group__PJMED__STRM.htm">Streams</a> and media transport is shown in the diagram below:</p>
<div align="center">
<img src="media-transport.PNG" alt="media-transport.PNG"/>
</div>
<h2><a class="anchor" id="PJMEDIA_TRANSPORT_H_USING"></a>
Basic Media Transport Usage</h2>
<p>The media transport's life-cycle normally follows the following stages.</p>
<h3><a class="anchor" id="PJMEDIA_TRANSPORT_H_CREATE"></a>
Creating the Media Transport</h3>
<p>Application creates the media transport when it needs to establish media session to remote peer. The media transport is created using specific function to create that particular transport; for example, for UDP media transport, it is created with <a class="el" href="group__PJMEDIA__TRANSPORT__UDP.htm#ga49aab76356420412d96ee1c2d519301b">pjmedia_transport_udp_create()</a> or <a class="el" href="group__PJMEDIA__TRANSPORT__UDP.htm#ga8baf23a6ec9268aed82a53ed6b1e366f">pjmedia_transport_udp_create2()</a> functions. Different media transports will provide different API to create those transports.</p>
<p>Alternatively, application may create pool of media transports when it is first started up. Using this approach probably is better, since application has to specify the RTP port when sending the initial session establishment request (e.g. SIP INVITE request), thus if application only creates the media transport later when media is to be established (normally when 200/OK is received, or when 18x is received for early media), there is a possibility that the particular RTP port might have been occupied by other programs. Also it is more efficient since sockets don't need to be closed and re-opened between calls.</p>
<h3><a class="anchor" id="PJMEDIA_TRANSPORT_H_ATTACH"></a>
Attaching and Using the Media Transport.</h3>
<p>Application specifies the media transport instance when creating the media session (<a class="el" href="group__PJMEDIA__SESSION.htm#ga6bb6bcc4721ca9f357b5e3bb750378c6">pjmedia_session_create()</a>). Alternatively, it may create the media stream directly with <a class="el" href="group__PJMED__STRM.htm#ga67575c8e7b15e325b98ebaa89639b550">pjmedia_stream_create()</a> and specify the transport instance in the argument. (Note: media session is a high-level abstraction for media communications between two endpoints, and it may contain more than one media streams, for example, an audio stream and a video stream).</p>
<p>When stream is created, it will "attach" itself to the media transport by calling <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a>, which is a thin wrapper which calls "attach()" method of the media transport's "virtual function pointer" (<a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a>). Among other things, the stream specifies two callback functions to the transport: one callback function will be called by transport when it receives RTP packet, and another callback for incoming RTCP packet. The <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a> function also establish the destination of the outgoing RTP and RTCP packets.</p>
<p>When the stream needs to send outgoing RTP/RTCP packets, it will call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga79db5c82268501ec3bf7c1897c0b3626">pjmedia_transport_send_rtp()</a> and <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga5fe97ac16287563420950a8b87d247b4">pjmedia_transport_send_rtcp()</a> of the media transport API, which is a thin wrapper to call send_rtp() and send_rtcp() methods in the media transport's "virtual function 
    pointer" (<a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a>).</p>
<p>When the stream is destroyed, it will "detach" itself from the media transport by calling <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gad0b1f17d5920dd05b3832886b68d9c24">pjmedia_transport_detach()</a>, which is a thin wrapper which calls "detach()" method of the media transport's "virtual function pointer" (<a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a>). After the transport is detached from its user (the stream), it will no longer report incoming RTP/RTCP packets to the stream, and it will refuse to send outgoing packets since the destination has been cleared.</p>
<h3><a class="anchor" id="PJMEDIA_TRANSPORT_H_REUSE"></a>
Reusing the Media Transport.</h3>
<p>After transport has been detached, application may re-attach the transport to another stream if it wants to. Detaching and re-attaching media transport may be preferable than closing and re-opening the transport, since it is more efficient (sockets don't need to be closed and re-opened). However it is up to the application to choose which method is most suitable for its uses.</p>
<h3><a class="anchor" id="PJMEDIA_TRANSPORT_H_DESTROY"></a>
Destroying the Media Transport.</h3>
<p>Finally if application no longer needs the media transport, it will call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga0114fa7e20cb17c645701b2dbda96452">pjmedia_transport_close()</a> function, which is thin wrapper which calls "destroy()" method of the media transport's "virtual function 
    pointer" (<a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a>). This function releases all resources used by the transport, such as sockets and memory.</p>
<h2><a class="anchor" id="offer_answer"></a>
Interaction with SDP Offer/Answer</h2>
<p>For basic UDP transport, the <a class="el" href="group__PJMEDIA__TRANSPORT.htm#PJMEDIA_TRANSPORT_H_USING">Basic Media Transport Usage</a> above is sufficient to use the media transport. However, more complex media transports such as <a class="el" href="group__PJMEDIA__TRANSPORT__SRTP.htm">Secure RTP (SRTP) Media Transport</a> and <a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm">ICE Media Transport</a> requires closer interactions with SDP offer and answer negotiation.</p>
<p>The media transports can interact with the SDP offer/answer via these APIs:</p>
<ul>
<li><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga80efd3ecee40e4002c955fa77ac201a6">pjmedia_transport_media_create()</a>, to initialize the media transport for new media session,</li>
<li><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a>, to encode SDP offer or answer,</li>
<li><a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start()</a>, to activate the settings that have been negotiated by SDP offer answer, and</li>
<li><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop()</a>, to deinitialize the media transport and reset the transport to its idle state.</li>
</ul>
<p>The usage of these API in the context of SDP offer answer will be described below.</p>
<h3><a class="anchor" id="media_create"></a>
Initializing Transport for New Session</h3>
<p>Application must call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga80efd3ecee40e4002c955fa77ac201a6">pjmedia_transport_media_create()</a> before using the transport for a new session.</p>
<h3><a class="anchor" id="creat_oa"></a>
Creating SDP Offer and Answer</h3>
<p>The <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a> is used to put additional information from the transport to the local SDP, before the SDP is sent and negotiated with remote SDP.</p>
<p>When creating an offer, call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a> with local SDP (and NULL as <em>rem_sdp</em>). The media transport will add the relevant attributes in the local SDP. Application then gives the local SDP to the invite session to be sent to remote agent.</p>
<p>When creating an answer, also call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a>, but this time specify both local and remote SDP to the function. The media transport will once again modify the local SDP and add relevant attributes to the local SDP, if the appropriate attributes related to the transport functionality are present in remote offer. The remote SDP does not contain the relevant attributes, then the specific transport functionality will not be activated for the session.</p>
<p>The <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a> should also be called when application sends subsequent SDP offer or answer. The media transport will encode the appropriate attributes based on the state of the session.</p>
<h3><a class="anchor" id="media_start"></a>
Offer/Answer Completion</h3>
<p>Once both local and remote SDP have been negotiated by the <a class="el" href="group__PJMEDIA__SDP__NEG.htm">SDP Negotiation State Machine (Offer/Answer Model, RFC 3264)</a> (normally this is part of PJSIP invite session), application should give both local and remote SDP to <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start()</a> so that the settings are activated for the session. This function should be called for both initial and subsequent SDP negotiation.</p>
<h3><a class="anchor" id="media_stop"></a>
Stopping Transport</h3>
<p>Once session is stop application must call <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop()</a> to deactivate the transport feature. Application may reuse the transport for subsequent media session by repeating the <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga80efd3ecee40e4002c955fa77ac201a6">pjmedia_transport_media_create()</a>, <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gae9c2d4242cb711d849f801c567c225b4">pjmedia_transport_encode_sdp()</a>, <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga74ab1c1b9b09d75865a231519bb58aa7">pjmedia_transport_media_start()</a>, and <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gaed068de25cc5cbda27c1b7058597d3b5">pjmedia_transport_media_stop()</a> above.</p>
<h2><a class="anchor" id="PJMEDIA_TRANSPORT_H_IMPL"></a>
Implementing Media Transport</h2>
<p>To implement a new type of media transport, one needs to "subclass" the media transport "class" (<a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a>) by providing the "methods" in the media transport "interface" (<a class="el" href="structpjmedia__transport__op.htm">pjmedia_transport_op</a>), and provides a function to create this new type of transport (similar to <a class="el" href="group__PJMEDIA__TRANSPORT__UDP.htm#ga49aab76356420412d96ee1c2d519301b">pjmedia_transport_udp_create()</a> function).</p>
<p>The media transport is expected to run indepently, that is there should be no polling like function to poll the transport for incoming RTP/RTCP packets. This normally can be done by registering the media sockets to the media endpoint's IOQueue, which allows the transport to be notified when incoming packet has arrived.</p>
<p>Alternatively, media transport may utilize thread(s) internally to wait for incoming packets. The thread then will call the appropriate RTP or RTCP callback provided by its user (stream) whenever packet is received. If the transport's user is a stream, then the callbacks provided by the stream will be thread-safe, so the transport may call these callbacks without having to serialize the access with some mutex protection. But the media transport may still have to protect its internal data with mutex protection, since it may be called by application's thread (for example, to send RTP/RTCP packets). </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga7ae7ee084cc2bd04409ea1c2726ebf66"></a><!-- doxytag: member="transport.h::pjmedia_transport" ref="ga7ae7ee084cc2bd04409ea1c2726ebf66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef typedefPJ_BEGIN_DECL struct <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forward declaration for media transport. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga6c5cd2067701addc315c62b3c19f6d88"></a><!-- doxytag: member="transport.h::pjmedia_tranport_media_option" ref="ga6c5cd2067701addc315c62b3c19f6d88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga6c5cd2067701addc315c62b3c19f6d88">pjmedia_tranport_media_option</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This enumeration specifies the general behaviour of media processing </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga6c5cd2067701addc315c62b3c19f6d88ad7167494132abac5ca8a94d6c4d35eb0"></a><!-- doxytag: member="PJMEDIA_TPMED_NO_TRANSPORT_CHECKING" ref="gga6c5cd2067701addc315c62b3c19f6d88ad7167494132abac5ca8a94d6c4d35eb0" args="" -->PJMEDIA_TPMED_NO_TRANSPORT_CHECKING</em>&nbsp;</td><td>
<p>When this flag is specified, the transport will not perform media transport validation, this is useful when transport is stacked with other transport, for example when transport UDP is stacked under transport SRTP, media transport validation only need to be done by transport SRTP. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gab718206fdd0c1afa059fabb6f78ebed0"></a><!-- doxytag: member="transport.h::pjmedia_transport_type" ref="gab718206fdd0c1afa059fabb6f78ebed0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT.htm#gab718206fdd0c1afa059fabb6f78ebed0">pjmedia_transport_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Media transport type. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab718206fdd0c1afa059fabb6f78ebed0a0e0211f7fb56656b56ce71f710f0fc69"></a><!-- doxytag: member="PJMEDIA_TRANSPORT_TYPE_UDP" ref="ggab718206fdd0c1afa059fabb6f78ebed0a0e0211f7fb56656b56ce71f710f0fc69" args="" -->PJMEDIA_TRANSPORT_TYPE_UDP</em>&nbsp;</td><td>
<p>Media transport using standard UDP </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab718206fdd0c1afa059fabb6f78ebed0acf8b7cbb3a294ff688a803d26683380f"></a><!-- doxytag: member="PJMEDIA_TRANSPORT_TYPE_ICE" ref="ggab718206fdd0c1afa059fabb6f78ebed0acf8b7cbb3a294ff688a803d26683380f" args="" -->PJMEDIA_TRANSPORT_TYPE_ICE</em>&nbsp;</td><td>
<p>Media transport using ICE </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab718206fdd0c1afa059fabb6f78ebed0a269d8bcef7b08718af5c77a00bb2fd59"></a><!-- doxytag: member="PJMEDIA_TRANSPORT_TYPE_SRTP" ref="ggab718206fdd0c1afa059fabb6f78ebed0a269d8bcef7b08718af5c77a00bb2fd59" args="" -->PJMEDIA_TRANSPORT_TYPE_SRTP</em>&nbsp;</td><td>
<p>Media transport SRTP, this transport is actually security adapter to be stacked with other transport to enable encryption on the underlying transport. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab718206fdd0c1afa059fabb6f78ebed0a1bbd75d51f49d8b7c52dcefdd23447ad"></a><!-- doxytag: member="PJMEDIA_TRANSPORT_TYPE_USER" ref="ggab718206fdd0c1afa059fabb6f78ebed0a1bbd75d51f49d8b7c52dcefdd23447ad" args="" -->PJMEDIA_TRANSPORT_TYPE_USER</em>&nbsp;</td><td>
<p>Start of user defined transport. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab293d1afad42d1f49745f3fcd235fa17"></a><!-- doxytag: member="transport.h::pjmedia_transport_info_init" ref="gab293d1afad42d1f49745f3fcd235fa17" args="(pjmedia_transport_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_transport_info_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize transport info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Transport info to be initialized. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#gafa92001573289c87313c660146369fa3">pj_bzero()</a>, and <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga213beab16cd5d94437c2890b9f3fe75b"></a><!-- doxytag: member="transport.h::pjmedia_transport_get_info" ref="ga213beab16cd5d94437c2890b9f3fe75b" args="(pjmedia_transport *tp, pjmedia_transport_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get media transport info from the specified transport and all underlying transports if any. The transport also contains information about socket info which describes the local address of the transport, and would be needed for example to fill in the "c=" and "m=" line of local SDP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Media transport info to be initialized.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f5a0595cce6116c0369d4d32c0e3f8f"></a><!-- doxytag: member="transport.h::pjmedia_transport_info_get_spc_info" ref="ga5f5a0595cce6116c0369d4d32c0e3f8f" args="(pjmedia_transport_info *info, pjmedia_transport_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pjmedia_transport_info_get_spc_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport__info.htm">pjmedia_transport_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TRANSPORT.htm#gab718206fdd0c1afa059fabb6f78ebed0">pjmedia_transport_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility API to get transport type specific info from the specified media transport info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Media transport info. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Media transport type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to media transport specific info, or NULL if specific info for the transport type is not found. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga33a9285c010f2527e647f0b5871f881e"></a><!-- doxytag: member="transport.h::pjmedia_transport_attach" ref="ga33a9285c010f2527e647f0b5871f881e" args="(pjmedia_transport *tp, void *user_data, const pj_sockaddr_t *rem_addr, const pj_sockaddr_t *rem_rtcp, unsigned addr_len, void(*rtp_cb)(void *user_data, void *pkt, pj_ssize_t), void(*rtcp_cb)(void *usr_data, void *pkt, pj_ssize_t))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rem_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rem_rtcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>addr_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__IOQUEUE.htm#gab06c131ab29b37c027f2400bd5be6045">user_data</a>, void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a>)&nbsp;</td>
          <td class="paramname"> <em>rtp_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *usr_data, void *pkt, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a>)&nbsp;</td>
          <td class="paramname"> <em>rtcp_cb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attach callbacks to be called on receipt of incoming RTP/RTCP packets. This is just a simple wrapper which calls <code>attach()</code> member of the transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>Arbitrary user data to be set when the callbacks are called. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rem_addr</em>&nbsp;</td><td>Remote RTP address to send RTP packet to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rem_rtcp</em>&nbsp;</td><td>Optional remote RTCP address. If the argument is NULL or if the address is zero, the RTCP address will be calculated from the RTP address (which is RTP port plus one). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr_len</em>&nbsp;</td><td>Length of the remote address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rtp_cb</em>&nbsp;</td><td>Callback to be called when RTP packet is received on the transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rtcp_cb</em>&nbsp;</td><td>Callback to be called when RTCP packet is received on the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="gad0b1f17d5920dd05b3832886b68d9c24"></a><!-- doxytag: member="transport.h::pjmedia_transport_detach" ref="gad0b1f17d5920dd05b3832886b68d9c24" args="(pjmedia_transport *tp, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjmedia_transport_detach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Detach callbacks from the transport. This is just a simple wrapper which calls <code>detach()</code> member of the transport. After the transport is detached, it will ignore incoming RTP/RTCP packets, and will refuse to send outgoing RTP/RTCP packets. Application may re-attach the media transport to another transport user (e.g. stream) after the transport has been detached.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>User data which must match the previously set value on attachment. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga79db5c82268501ec3bf7c1897c0b3626"></a><!-- doxytag: member="transport.h::pjmedia_transport_send_rtp" ref="ga79db5c82268501ec3bf7c1897c0b3626" args="(pjmedia_transport *tp, const void *pkt, pj_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_send_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send RTP packet with the specified media transport. This is just a simple wrapper which calls <code>send_rtp()</code> member of the transport. The RTP packet will be delivered to the destination address specified in <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a> function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The packet to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga5fe97ac16287563420950a8b87d247b4"></a><!-- doxytag: member="transport.h::pjmedia_transport_send_rtcp" ref="ga5fe97ac16287563420950a8b87d247b4" args="(pjmedia_transport *tp, const void *pkt, pj_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_send_rtcp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send RTCP packet with the specified media transport. This is just a simple wrapper which calls <code>send_rtcp()</code> member of the transport. The RTCP packet will be delivered to the destination address specified in <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a> function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The packet to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="gad6203fbcee81df1321ca7b19e7ad3fa6"></a><!-- doxytag: member="transport.h::pjmedia_transport_send_rtcp2" ref="gad6203fbcee81df1321ca7b19e7ad3fa6" args="(pjmedia_transport *tp, const pj_sockaddr_t *addr, unsigned addr_len, const void *pkt, pj_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_send_rtcp2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>addr_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send RTCP packet with the specified media transport. This is just a simple wrapper which calls <code>send_rtcp2()</code> member of the transport. The RTCP packet will be delivered to the destination address specified in param addr, if addr is NULL, RTCP packet will be delivered to destination address specified in <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga33a9285c010f2527e647f0b5871f881e">pjmedia_transport_attach()</a> function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>The destination address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr_len</em>&nbsp;</td><td>Length of destination address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pkt</em>&nbsp;</td><td>The packet to send. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga80efd3ecee40e4002c955fa77ac201a6"></a><!-- doxytag: member="transport.h::pjmedia_transport_media_create" ref="ga80efd3ecee40e4002c955fa77ac201a6" args="(pjmedia_transport *tp, pj_pool_t *sdp_pool, unsigned options, const pjmedia_sdp_session *rem_sdp, unsigned media_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_media_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>sdp_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>rem_sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>media_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prepare the media transport for a new media session, Application must call this function before starting a new media session using this transport.</p>
<p>This is just a simple wrapper which calls <code>media_create()</code> member of the transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdp_pool</em>&nbsp;</td><td>Pool object to allocate memory related to SDP messaging components. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>Option flags, from <a class="el" href="group__PJMEDIA__TRANSPORT.htm#ga6c5cd2067701addc315c62b3c19f6d88">pjmedia_tranport_media_option</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rem_sdp</em>&nbsp;</td><td>Remote SDP if local SDP is an answer, otherwise specify NULL if SDP is an offer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>media_index</em>&nbsp;</td><td>Media index in SDP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="gae9c2d4242cb711d849f801c567c225b4"></a><!-- doxytag: member="transport.h::pjmedia_transport_encode_sdp" ref="gae9c2d4242cb711d849f801c567c225b4" args="(pjmedia_transport *tp, pj_pool_t *sdp_pool, pjmedia_sdp_session *sdp, const pjmedia_sdp_session *rem_sdp, unsigned media_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_encode_sdp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>sdp_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>rem_sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>media_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put transport specific information into the SDP. This function can be called to put transport specific information in the initial or subsequent SDP offer or answer.</p>
<p>This is just a simple wrapper which calls <code>encode_sdp()</code> member of the transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdp_pool</em>&nbsp;</td><td>Pool object to allocate memory related to SDP messaging components. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdp</em>&nbsp;</td><td>The local SDP to be filled in information from the media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rem_sdp</em>&nbsp;</td><td>Remote SDP if local SDP is an answer, otherwise specify NULL if SDP is an offer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>media_index</em>&nbsp;</td><td>Media index in SDP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga74ab1c1b9b09d75865a231519bb58aa7"></a><!-- doxytag: member="transport.h::pjmedia_transport_media_start" ref="ga74ab1c1b9b09d75865a231519bb58aa7" args="(pjmedia_transport *tp, pj_pool_t *tmp_pool, const pjmedia_sdp_session *sdp_local, const pjmedia_sdp_session *sdp_remote, unsigned media_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_media_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmp_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sdp_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__sdp__session.htm">pjmedia_sdp_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sdp_remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>media_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start the transport session with the settings in both local and remote SDP. The actual work that is done by this function depends on the underlying transport type. For SRTP, this will activate the encryption and decryption based on the keys found the SDPs. For ICE, this will start ICE negotiation according to the information found in the SDPs.</p>
<p>This is just a simple wrapper which calls <code>media_start()</code> member of the transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmp_pool</em>&nbsp;</td><td>The memory pool for allocating temporary objects. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdp_local</em>&nbsp;</td><td>Local SDP. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdp_remote</em>&nbsp;</td><td>Remote SDP. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>media_index</em>&nbsp;</td><td>Media index in the SDP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="gaed068de25cc5cbda27c1b7058597d3b5"></a><!-- doxytag: member="transport.h::pjmedia_transport_media_stop" ref="gaed068de25cc5cbda27c1b7058597d3b5" args="(pjmedia_transport *tp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_media_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This API should be called when the session is stopped, to allow the media transport to release its resources used for the session.</p>
<p>This is just a simple wrapper which calls <code>media_stop()</code> member of the transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga0114fa7e20cb17c645701b2dbda96452"></a><!-- doxytag: member="transport.h::pjmedia_transport_close" ref="ga0114fa7e20cb17c645701b2dbda96452" args="(pjmedia_transport *tp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close media transport. This is just a simple wrapper which calls <code>destroy()</code> member of the transport. This function will free all resources created by this transport (such as sockets, memory, etc.).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
<a class="anchor" id="ga30e410ca02a4e815346b5e5fa505e7b5"></a><!-- doxytag: member="transport.h::pjmedia_transport_simulate_lost" ref="ga30e410ca02a4e815346b5e5fa505e7b5" args="(pjmedia_transport *tp, pjmedia_dir dir, unsigned pct_lost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_transport_simulate_lost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> *&nbsp;</td>
          <td class="paramname"> <em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#gaf19d0dce3e3c99a3b9514726c28baa30">pjmedia_dir</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>pct_lost</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Simulate packet lost in the specified direction (for testing purposes). When enabled, the transport will randomly drop packets to the specified direction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tp</em>&nbsp;</td><td>The media transport. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>Media direction to which packets will be randomly dropped. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pct_lost</em>&nbsp;</td><td>Percent lost (0-100). Set to zero to disable packet lost simulation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

<p>References <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__pj__config.htm#gac928151ecd64bc26385f2725100b559c">PJ_INLINE</a>.</p>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
