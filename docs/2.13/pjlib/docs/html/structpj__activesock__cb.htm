<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pj_activesock_cb Struct Reference (2.13)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJLIB Reference</p>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">pj_activesock_cb Struct Reference<div class="ingroups"><a class="el" href="group__PJ__OS.htm">Operating System Dependent Functionality.</a> &raquo; <a class="el" href="group__PJ__IO.htm">Input/Output</a> &raquo; <a class="el" href="group__PJ__ACTIVESOCK.htm">Active socket I/O</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="activesock_8h_source.htm">activesock.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ac86990aec62e05bca033c054e5fdbfcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#ac86990aec62e05bca033c054e5fdbfcb">on_data_read</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, void *data, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> *remainder)</td></tr>
<tr class="separator:ac86990aec62e05bca033c054e5fdbfcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bcad41a32ede9ccbf0569e0228d38c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#a56bcad41a32ede9ccbf0569e0228d38c">on_data_recvfrom</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, void *data, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int addr_len, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td></tr>
<tr class="separator:a56bcad41a32ede9ccbf0569e0228d38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8279b18e7fd5612d619296cae79dae51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#a8279b18e7fd5612d619296cae79dae51">on_data_sent</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="structpj__ioqueue__op__key__t.htm">pj_ioqueue_op_key_t</a> *<a class="el" href="structsend__key.htm">send_key</a>, <a class="el" href="group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a> sent)</td></tr>
<tr class="separator:a8279b18e7fd5612d619296cae79dae51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc424dd0cea92ded8099017cbd99adf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#afbc424dd0cea92ded8099017cbd99adf">on_accept_complete</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> newsock, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int src_addr_len)</td></tr>
<tr class="separator:afbc424dd0cea92ded8099017cbd99adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab5e9cb0f0f240c4de729d314d56840"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#a7ab5e9cb0f0f240c4de729d314d56840">on_accept_complete2</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> newsock, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int src_addr_len, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td></tr>
<tr class="separator:a7ab5e9cb0f0f240c4de729d314d56840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34fd84c1e02a5c8c4dfc7292b08d1e83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__activesock__cb.htm#a34fd84c1e02a5c8c4dfc7292b08d1e83">on_connect_complete</a> )(<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td></tr>
<tr class="separator:a34fd84c1e02a5c8c4dfc7292b08d1e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This structure contains the callbacks to be called by the active socket. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="afbc424dd0cea92ded8099017cbd99adf" name="afbc424dd0cea92ded8099017cbd99adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc424dd0cea92ded8099017cbd99adf">&#9670;&nbsp;</a></span>on_accept_complete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_accept_complete) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> newsock, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int src_addr_len)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when new connection arrives as the result of <a class="el" href="group__PJ__ACTIVESOCK.htm#gaea8588339a3981d944a8cf14847f1140">pj_activesock_start_accept()</a>. If the status of accept operation is needed use on_accept_complete2 instead of this callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname">newsock</td><td>The new incoming socket. </td></tr>
    <tr><td class="paramname">src_addr</td><td>The source address of the connection. </td></tr>
    <tr><td class="paramname">addr_len</td><td>Length of the source address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_TRUE if further accept() is desired, and PJ_FALSE when application no longer wants to accept incoming connection. Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<a id="a7ab5e9cb0f0f240c4de729d314d56840" name="a7ab5e9cb0f0f240c4de729d314d56840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab5e9cb0f0f240c4de729d314d56840">&#9670;&nbsp;</a></span>on_accept_complete2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_accept_complete2) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#ga5ccc87de27d1236bc31ae3673d153984">pj_sock_t</a> newsock, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int src_addr_len, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when new connection arrives as the result of <a class="el" href="group__PJ__ACTIVESOCK.htm#gaea8588339a3981d944a8cf14847f1140">pj_activesock_start_accept()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname">newsock</td><td>The new incoming socket. </td></tr>
    <tr><td class="paramname">src_addr</td><td>The source address of the connection. </td></tr>
    <tr><td class="paramname">addr_len</td><td>Length of the source address. </td></tr>
    <tr><td class="paramname">status</td><td>The status of the accept operation. This may contain non-PJ_SUCCESS for example when the TCP listener is in bad state for example on iOS platform after the application waking up from background.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_TRUE if further accept() is desired, and PJ_FALSE when application no longer wants to accept incoming connection. Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<a id="a34fd84c1e02a5c8c4dfc7292b08d1e83" name="a34fd84c1e02a5c8c4dfc7292b08d1e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34fd84c1e02a5c8c4dfc7292b08d1e83">&#9670;&nbsp;</a></span>on_connect_complete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_connect_complete) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when pending connect operation has been completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname">status</td><td>The connection result. If connection has been successfully established, the status will contain PJ_SUCCESS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<a id="ac86990aec62e05bca033c054e5fdbfcb" name="ac86990aec62e05bca033c054e5fdbfcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86990aec62e05bca033c054e5fdbfcb">&#9670;&nbsp;</a></span>on_data_read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_data_read) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, void *data, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> *remainder)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when a data arrives as the result of <a class="el" href="group__PJ__ACTIVESOCK.htm#gaff5faf21c01d9a606aa014a2f2791183">pj_activesock_start_read()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname">data</td><td>The buffer containing the new data, if any. If the status argument is non-PJ_SUCCESS, this argument may be NULL. </td></tr>
    <tr><td class="paramname">size</td><td>The length of data in the buffer. </td></tr>
    <tr><td class="paramname">status</td><td>The status of the read operation. This may contain non-PJ_SUCCESS for example when the TCP connection has been closed. In this case, the buffer may contain left over data from previous callback which the application may want to process. </td></tr>
    <tr><td class="paramname">remainder</td><td>If application wishes to leave some data in the buffer (common for TCP applications), it should move the remainder data to the front part of the buffer and set the remainder length here. The value of this parameter will be ignored for datagram sockets.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_TRUE if further read is desired, and PJ_FALSE when application no longer wants to receive data. Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<a id="a56bcad41a32ede9ccbf0569e0228d38c" name="a56bcad41a32ede9ccbf0569e0228d38c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56bcad41a32ede9ccbf0569e0228d38c">&#9670;&nbsp;</a></span>on_data_recvfrom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_data_recvfrom) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, void *data, <a class="el" href="group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> size, const <a class="el" href="group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, int addr_len, <a class="el" href="group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> status)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when a packet arrives as the result of <a class="el" href="group__PJ__ACTIVESOCK.htm#ga48dbb84c14a6a0f53adcda91d6d8ae1e">pj_activesock_start_recvfrom()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname">data</td><td>The buffer containing the packet, if any. If the status argument is non-PJ_SUCCESS, this argument will be set to NULL. </td></tr>
    <tr><td class="paramname">size</td><td>The length of packet in the buffer. If the status argument is non-PJ_SUCCESS, this argument will be set to zero. </td></tr>
    <tr><td class="paramname">src_addr</td><td>Source address of the packet. </td></tr>
    <tr><td class="paramname">addr_len</td><td>Length of the source address. </td></tr>
    <tr><td class="paramname">status</td><td>This contains</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_TRUE if further read is desired, and PJ_FALSE when application no longer wants to receive data. Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<a id="a8279b18e7fd5612d619296cae79dae51" name="a8279b18e7fd5612d619296cae79dae51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8279b18e7fd5612d619296cae79dae51">&#9670;&nbsp;</a></span>on_data_sent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>(* pj_activesock_cb::on_data_sent) (<a class="el" href="group__PJ__ACTIVESOCK.htm#ga2374729a4261eb7a1e780110bcef2e37">pj_activesock_t</a> *asock, <a class="el" href="structpj__ioqueue__op__key__t.htm">pj_ioqueue_op_key_t</a> *<a class="el" href="structsend__key.htm">send_key</a>, <a class="el" href="group__PJ__BASIC.htm#ga173588cd6381f3ad354c23c26929093a">pj_ssize_t</a> sent)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This callback is called when data has been sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asock</td><td>The active socket. </td></tr>
    <tr><td class="paramname"><a class="el" href="structsend__key.htm">send_key</a></td><td>Key associated with the send operation. </td></tr>
    <tr><td class="paramname">sent</td><td>If value is positive non-zero it indicates the number of data sent. When the value is negative, it contains the error code which can be retrieved by negating the value (i.e. status=-sent).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Application may destroy the active socket in the callback and return PJ_FALSE here. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="activesock_8h_source.htm">activesock.h</a></li>
</ul>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJLIB Open Source, high performance, small footprint, and very very portable framework<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
