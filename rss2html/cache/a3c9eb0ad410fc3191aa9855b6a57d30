O:9:"MagpieRSS":21:{s:6:"parser";i:0;s:12:"current_item";a:0:{}s:5:"items";a:528:{i:0;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/93";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/93";s:5:"title";s:133:"#93: Python application blocks in sys.stdin.readline() because C module running on different thread is calling a blocking OS function";s:11:"description";s:277:"<p>
On Linux (or at least my Linux), pjsua_app.py application will block forever on <tt>sys.stdin.readline()</tt>, and somehow this is related to the other thread calling <tt>py_pjsua.handle_events()</tt> (if this is commented, the keyboard input will function properly).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/93#changelog";s:7:"summary";s:277:"<p>
On Linux (or at least my Linux), pjsua_app.py application will block forever on <tt>sys.stdin.readline()</tt>, and somehow this is related to the other thread calling <tt>py_pjsua.handle_events()</tt> (if this is commented, the keyboard input will function properly).
</p>
";}i:1;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/232";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/232";s:5:"title";s:67:"#232: Parse failure on big endian machines (thanks Vladimir Hozjan)";s:11:"description";s:285:"<p>
All parsing fails on big endian machines, caused by <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/206" title="Allow single quotes for attributes in XML (thanks Tory Patnoe) (closed)">#206</a>.
</p>
<p>
Thanks Hozjan Vladimir &lt;hozjan at iskratel si&gt;.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/232#changelog";s:7:"summary";s:285:"<p>
All parsing fails on big endian machines, caused by <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/206" title="Allow single quotes for attributes in XML (thanks Tory Patnoe) (closed)">#206</a>.
</p>
<p>
Thanks Hozjan Vladimir &lt;hozjan at iskratel si&gt;.
</p>
";}i:2;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/233";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/233";s:5:"title";s:67:"#233: Parse failure on big endian machines (thanks Vladimir Hozjan)";s:11:"description";s:179:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/232" title="Parse failure on big endian machines (thanks Vladimir Hozjan) (closed)">#232</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/233#changelog";s:7:"summary";s:179:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/232" title="Parse failure on big endian machines (thanks Vladimir Hozjan) (closed)">#232</a>
</p>
";}i:3;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/451";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/451";s:5:"title";s:46:"#451: Updated PortAudio to the latest revision";s:11:"description";s:468:"<p>
This fixes several problems, among other things:
</p>
<ol><li>Minor bug in PortAudio (about <tt>vsprintf</tt> vs <tt>_vsprintf</tt>) cause building to fail on WinCE. See <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001333.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001333.html</span></a>
</li><li>Default sound backend on Linux is now ALSA instead of OSS
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/451#changelog";s:7:"summary";s:468:"<p>
This fixes several problems, among other things:
</p>
<ol><li>Minor bug in PortAudio (about <tt>vsprintf</tt> vs <tt>_vsprintf</tt>) cause building to fail on WinCE. See <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001333.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001333.html</span></a>
</li><li>Default sound backend on Linux is now ALSA instead of OSS
</li></ol>";}i:4;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/438";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/438";s:5:"title";s:63:"#438: Workaround for frame bursts and drifts from audio devices";s:11:"description";s:2388:"<p>
<strong>Problem 1: Audio burst:</strong>
</p>
<p>
Most audio devices will call record and playback callbacks in burst, rather than in perfect interleave (for example, burst of record callbacks, followed by burst of playback callbacks, and so on). Because of this, audio buffering needs to be implemented in few pjmedia components (conference bridge, splitcomb, echo canceller, etc.), and the maximum buffering is controlled by <tt>PJMEDIA_SOUND_BUFFER_COUNT</tt> macro.
</p>
<p>
This is not ideal, because:
</p>
<ol><li>it adds audio latency of up to <tt>PJMEDIA_SOUND_BUFFER_COUNT</tt> frames, while theoretically the delay should be limited to the maximum burst level of the device.
</li><li>it will add even more end to end latency when the sound device is connected directly to the stream (rather than via conference bridge), because of how the jitter buffer is implemented.
</li><li>pjmedia components need to handle the burst, while this problem should have been localized and fixed in sound device.
</li></ol><p>
<strong>Problem 2: Audio drifts:</strong>
</p>
<p>
Somehow related to this problem, it's common for sound devices on PC to have clock drifts (see some of our test results in <a class="wiki" href="http://trac.pjsip.org/repos/wiki/Audio_Device/Tests">Audio Device Test</a> page). Because of this drifts, the buffering mechanism above will ultimately underflow or overflow, and this will cause a clicks noise to be generated.
</p>
<p>
<strong>The Solution:</strong>
</p>
<p>
This ticket solves the problem in several ways:
</p>
<ul><li>introduce <tt>delaybuf.[hc]</tt> as a generic buffering mechanism. The delaybuf automatically learns the optimal buffering to be applied to audio flow, and shrinks or expands the audio in the buffer as necessary (for example, upon overflow or underflow situation) without degrading the audio quality by much or producing the clicks noise. This is done by using WSOLA algorithm, implemented in ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/497" title="Waveform Similarity Based Overlap-Add (WSOLA) implementation (closed)">#497</a>
</li><li>use <tt>delaybuf</tt> in <tt>soundport</tt>, so that now recording and playback callbacks are called in perfect interleave.
</li><li>also install <tt>delaybuf</tt> in <tt>splitcomb</tt> and conference bridge since they need the same buffering mechanism.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/438#changelog";s:7:"summary";s:2388:"<p>
<strong>Problem 1: Audio burst:</strong>
</p>
<p>
Most audio devices will call record and playback callbacks in burst, rather than in perfect interleave (for example, burst of record callbacks, followed by burst of playback callbacks, and so on). Because of this, audio buffering needs to be implemented in few pjmedia components (conference bridge, splitcomb, echo canceller, etc.), and the maximum buffering is controlled by <tt>PJMEDIA_SOUND_BUFFER_COUNT</tt> macro.
</p>
<p>
This is not ideal, because:
</p>
<ol><li>it adds audio latency of up to <tt>PJMEDIA_SOUND_BUFFER_COUNT</tt> frames, while theoretically the delay should be limited to the maximum burst level of the device.
</li><li>it will add even more end to end latency when the sound device is connected directly to the stream (rather than via conference bridge), because of how the jitter buffer is implemented.
</li><li>pjmedia components need to handle the burst, while this problem should have been localized and fixed in sound device.
</li></ol><p>
<strong>Problem 2: Audio drifts:</strong>
</p>
<p>
Somehow related to this problem, it's common for sound devices on PC to have clock drifts (see some of our test results in <a class="wiki" href="http://trac.pjsip.org/repos/wiki/Audio_Device/Tests">Audio Device Test</a> page). Because of this drifts, the buffering mechanism above will ultimately underflow or overflow, and this will cause a clicks noise to be generated.
</p>
<p>
<strong>The Solution:</strong>
</p>
<p>
This ticket solves the problem in several ways:
</p>
<ul><li>introduce <tt>delaybuf.[hc]</tt> as a generic buffering mechanism. The delaybuf automatically learns the optimal buffering to be applied to audio flow, and shrinks or expands the audio in the buffer as necessary (for example, upon overflow or underflow situation) without degrading the audio quality by much or producing the clicks noise. This is done by using WSOLA algorithm, implemented in ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/497" title="Waveform Similarity Based Overlap-Add (WSOLA) implementation (closed)">#497</a>
</li><li>use <tt>delaybuf</tt> in <tt>soundport</tt>, so that now recording and playback callbacks are called in perfect interleave.
</li><li>also install <tt>delaybuf</tt> in <tt>splitcomb</tt> and conference bridge since they need the same buffering mechanism.
</li></ul>";}i:5;a:5:{s:4:"link";s:36:"http://trac.pjsip.org/repos/ticket/1";s:4:"guid";s:36:"http://trac.pjsip.org/repos/ticket/1";s:5:"title";s:25:"#1: Fix echo cancellation";s:8:"category";s:7:"Tickets";s:8:"comments";s:46:"http://trac.pjsip.org/repos/ticket/1#changelog";}i:6;a:7:{s:4:"link";s:36:"http://trac.pjsip.org/repos/ticket/2";s:4:"guid";s:36:"http://trac.pjsip.org/repos/ticket/2";s:5:"title";s:39:"#2: Symbian sound device implementation";s:11:"description";s:85:"<p>
Implement sound device implementation for Symbian/S60 3rd edition platform.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:46:"http://trac.pjsip.org/repos/ticket/2#changelog";s:7:"summary";s:85:"<p>
Implement sound device implementation for Symbian/S60 3rd edition platform.
</p>
";}i:7;a:7:{s:4:"link";s:36:"http://trac.pjsip.org/repos/ticket/3";s:4:"guid";s:36:"http://trac.pjsip.org/repos/ticket/3";s:5:"title";s:15:"#3: TLS support";s:11:"description";s:41:"<p>
Implement TLS support for PJSIP
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:46:"http://trac.pjsip.org/repos/ticket/3#changelog";s:7:"summary";s:41:"<p>
Implement TLS support for PJSIP
</p>
";}i:8;a:7:{s:4:"link";s:36:"http://trac.pjsip.org/repos/ticket/7";s:4:"guid";s:36:"http://trac.pjsip.org/repos/ticket/7";s:5:"title";s:111:"#7: Move PJSIP compile time configurations/settings (such as T1, T2 timers) to run-time (thanks Philippe Leuba)";s:11:"description";s:195:"<p>
Some PJSIP config (e.g. PJSIP_MAX_TSX_COUNT) may better be implemented as a run-time configs instead of compile time, to enable multiple applications to be built on a single PJSIP tree.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:46:"http://trac.pjsip.org/repos/ticket/7#changelog";s:7:"summary";s:195:"<p>
Some PJSIP config (e.g. PJSIP_MAX_TSX_COUNT) may better be implemented as a run-time configs instead of compile time, to enable multiple applications to be built on a single PJSIP tree.
</p>
";}i:9;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/21";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/21";s:5:"title";s:43:"#21: Add PJ_HAS_NO_SNPRINTF to other os_*.h";s:11:"description";s:111:"<p>
The Symbian port adds PJ_HAS_NO_SNPRINTF capability to PJLIB. All other ports need to implement this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/21#changelog";s:7:"summary";s:111:"<p>
The Symbian port adds PJ_HAS_NO_SNPRINTF capability to PJLIB. All other ports need to implement this.
</p>
";}i:10;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/24";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/24";s:5:"title";s:26:"#24: Complete Symbian Port";s:11:"description";s:53:"<p>
Complete the Symbian port, up to PJSUA-LIB.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/24#changelog";s:7:"summary";s:53:"<p>
Complete the Symbian port, up to PJSUA-LIB.
</p>
";}i:11;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/25";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/25";s:5:"title";s:85:"#25: Authentication loops forever when server keeps rejecting request with stale=true";s:11:"description";s:248:"<p>
When a server keeps rejecting authorization with stale=true, PJSIP will keep retrying authrozation request, forever.
</p>
<p>
The solution perhaps is to limit the number of retries that the authentication client does before stop retrying.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/25#changelog";s:7:"summary";s:248:"<p>
When a server keeps rejecting authorization with stale=true, PJSIP will keep retrying authrozation request, forever.
</p>
<p>
The solution perhaps is to limit the number of retries that the authentication client does before stop retrying.
</p>
";}i:12;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/26";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/26";s:5:"title";s:50:"#26: Integrate table based G.711 encoding/decoding";s:11:"description";s:56:"<p>
Integrate tables based G.711 encoding/decoding
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/26#changelog";s:7:"summary";s:56:"<p>
Integrate tables based G.711 encoding/decoding
</p>
";}i:13;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/40";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/40";s:5:"title";s:51:"#40: Support for asymmetric encoding/decoding ptime";s:11:"description";s:223:"<p>
When remote has mode=20 and local has mode=30, local encounters error:
</p>
<pre class="wiki"> 08:27:23.648   strm00F496F4 Codec encode() error: Invalid PCM frame length 
(PJMEDIA_CODEC_EPCMFRMINLEN) [err:220085]
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/40#changelog";s:7:"summary";s:223:"<p>
When remote has mode=20 and local has mode=30, local encounters error:
</p>
<pre class="wiki"> 08:27:23.648   strm00F496F4 Codec encode() error: Invalid PCM frame length 
(PJMEDIA_CODEC_EPCMFRMINLEN) [err:220085]
</pre>";}i:14;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/42";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/42";s:5:"title";s:52:"#42: TCP/TLS transport bug when connection is closed";s:11:"description";s:807:"<p>
When TCP connection is closed by remote, it will be marked as being shutdown so that it will not be used by subsequent requests. This is the correct behavior.
</p>
<p>
When application needs to send another message to the destination, the transport manager will see that there is a transport object for the destination, but this transport object is being shutdown, so the transport manager will create a new transport for the same destination. This is also the correct behavior.
</p>
<p>
But unfortunately the new transport created will have the same key as the transport being shutdown, so it will overwrite the entry in the hash table. Then the first transport is finally destroyed, it will set the hash table key to NULL, and this causes the second transport's entry to be inadvertly nullified.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/42#changelog";s:7:"summary";s:807:"<p>
When TCP connection is closed by remote, it will be marked as being shutdown so that it will not be used by subsequent requests. This is the correct behavior.
</p>
<p>
When application needs to send another message to the destination, the transport manager will see that there is a transport object for the destination, but this transport object is being shutdown, so the transport manager will create a new transport for the same destination. This is also the correct behavior.
</p>
<p>
But unfortunately the new transport created will have the same key as the transport being shutdown, so it will overwrite the entry in the hash table. Then the first transport is finally destroyed, it will set the hash table key to NULL, and this causes the second transport's entry to be inadvertly nullified.
</p>
";}i:15;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/61";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/61";s:5:"title";s:21:"#61: Support for SRTP";s:11:"description";s:122:"<p>
Please see the documentation in <a class="wiki" href="http://trac.pjsip.org/repos/wiki/SRTP">SRTP wiki page</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/61#changelog";s:7:"summary";s:122:"<p>
Please see the documentation in <a class="wiki" href="http://trac.pjsip.org/repos/wiki/SRTP">SRTP wiki page</a>.
</p>
";}i:16;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/81";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/81";s:5:"title";s:85:"#81: Crash in client registration when NIC is plugged-off during registration refresh";s:11:"description";s:56:"<p>
Thanks Richard Allister for reporting the bug.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/81#changelog";s:7:"summary";s:56:"<p>
Thanks Richard Allister for reporting the bug.
</p>
";}i:17;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/97";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/97";s:5:"title";s:52:"#97: Bug with URI copying in strict routing handling";s:11:"description";s:333:"<p>
Ryder Rishel &lt;ryderblue-NO at SPAM-gmail.com&gt; points out bug with URI copying when handling strict-route request. It manifests itself in a double "&lt;&lt;" characters in the Route header of outgoing requests sent by pjsip:
</p>
<pre class="wiki">Route: &lt;&lt;sip:pjsip-perf@192.168.2.47:5060;transport=udp&gt;&gt;
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/97#changelog";s:7:"summary";s:333:"<p>
Ryder Rishel &lt;ryderblue-NO at SPAM-gmail.com&gt; points out bug with URI copying when handling strict-route request. It manifests itself in a double "&lt;&lt;" characters in the Route header of outgoing requests sent by pjsip:
</p>
<pre class="wiki">Route: &lt;&lt;sip:pjsip-perf@192.168.2.47:5060;transport=udp&gt;&gt;
</pre>";}i:18;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/104";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/104";s:5:"title";s:61:"#104: pjsip_ctype_hdr_clone() doesn't duplicate media subtype";s:11:"description";s:121:"<p>
The <tt>pjsip_ctype_hdr_clone()</tt> doesn't duplicate the media subtype.
</p>
<p>
Thanks Igor S for reporting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/104#changelog";s:7:"summary";s:121:"<p>
The <tt>pjsip_ctype_hdr_clone()</tt> doesn't duplicate the media subtype.
</p>
<p>
Thanks Igor S for reporting.
</p>
";}i:19;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/106";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/106";s:5:"title";s:56:"#106: Write outside buffer in PJLIB's win32 error string";s:11:"description";s:432:"<p>
The PJLIB's Win32 version of <tt>platform_strerror()</tt> may write data outside the buffer (on buffer[-1] location to be precise) when the function is unable to retrieve the error string using <tt>FormatMessage</tt> function.
</p>
<p>
This is caused by the function naively assumes that snprintf will never return negative value:
</p>
<pre class="wiki"> len = pj_ansi_snprintf(buffer, bufsize, ...);
 buffer[len] = '\0';
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/106#changelog";s:7:"summary";s:432:"<p>
The PJLIB's Win32 version of <tt>platform_strerror()</tt> may write data outside the buffer (on buffer[-1] location to be precise) when the function is unable to retrieve the error string using <tt>FormatMessage</tt> function.
</p>
<p>
This is caused by the function naively assumes that snprintf will never return negative value:
</p>
<pre class="wiki"> len = pj_ansi_snprintf(buffer, bufsize, ...);
 buffer[len] = '\0';
</pre>";}i:20;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/111";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/111";s:5:"title";s:28:"#111: Workaround for forking";s:11:"description";s:923:"<p>
Application should really handle forking dialog, but it's quite complicated to do that, so currently even pjsua-api cannot handle forked dialog. But there seems to be a simpler workaround to solve this problem.
</p>
<p>
We're taking the fact that in most cases only one 2xx response will ever get back to the dialog. Several 1xx responses <strong>will</strong> get through and these will affect dialog/session state and mess around with SDP negotiation if the response carries SDP body, but this is not as fatal as having incorrect To tag recorded by the dialog.
</p>
<p>
Currently the dialog takes the first To tag seen and set it as the remote tag. If the tag in 2xx response is different than this tag, ACK will be sent with wrong To tag and incoming request with this tag will be rejected with 481.
</p>
<p>
The workaround for this is to take the last To tag received in the response and set it as remote tag.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/111#changelog";s:7:"summary";s:923:"<p>
Application should really handle forking dialog, but it's quite complicated to do that, so currently even pjsua-api cannot handle forked dialog. But there seems to be a simpler workaround to solve this problem.
</p>
<p>
We're taking the fact that in most cases only one 2xx response will ever get back to the dialog. Several 1xx responses <strong>will</strong> get through and these will affect dialog/session state and mess around with SDP negotiation if the response carries SDP body, but this is not as fatal as having incorrect To tag recorded by the dialog.
</p>
<p>
Currently the dialog takes the first To tag seen and set it as the remote tag. If the tag in 2xx response is different than this tag, ACK will be sent with wrong To tag and incoming request with this tag will be rejected with 481.
</p>
<p>
The workaround for this is to take the last To tag received in the response and set it as remote tag.
</p>
";}i:21;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/113";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/113";s:5:"title";s:96:"#113: INVITE transaction is not destroyed immediately when ACK has the same branch as the INVITE";s:11:"description";s:549:"<p>
When an ACK to 2xx response has the same Via branch parameter to the INVITE transaction, the invite session does not destroy the INVITE transaction immediately, causing subsequent INVITE to fail with 500/Internal Server Error when the new INVITE comes before the previous INVITE terminates (with timer).
</p>
<p>
Note that ACK for 2xx response normally has different Via branch value than in the INVITE transaction since it represents separate transaction, so this should be quite a rare situation.
</p>
<p>
Thanks Sasa Coh for the report.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/113#changelog";s:7:"summary";s:549:"<p>
When an ACK to 2xx response has the same Via branch parameter to the INVITE transaction, the invite session does not destroy the INVITE transaction immediately, causing subsequent INVITE to fail with 500/Internal Server Error when the new INVITE comes before the previous INVITE terminates (with timer).
</p>
<p>
Note that ACK for 2xx response normally has different Via branch value than in the INVITE transaction since it represents separate transaction, so this should be quite a rare situation.
</p>
<p>
Thanks Sasa Coh for the report.
</p>
";}i:22;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/115";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/115";s:5:"title";s:65:"#115: Release 0.5.10 does not have the correct PJ_VERSION string!";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/115#changelog";}i:23;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/117";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/117";s:5:"title";s:64:"#117: Bug in pj_array_insert() when position is equal to count-1";s:11:"description";s:154:"<p>
In <tt>pj_array_insert()</tt>, when <tt>pos</tt> is equal to <tt>count-1</tt>, the array doesn't move existing element in <tt>pos</tt> location.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/117#changelog";s:7:"summary";s:154:"<p>
In <tt>pj_array_insert()</tt>, when <tt>pos</tt> is equal to <tt>count-1</tt>, the array doesn't move existing element in <tt>pos</tt> location.
</p>
";}i:24;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/118";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/118";s:5:"title";s:64:"#118: Bug in pj_array_insert() when position is equal to count-1";s:11:"description";s:220:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/117" title="Bug in pj_array_insert() when position is equal to count-1 (closed)">#117</a> for the stable branch.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/118#changelog";s:7:"summary";s:220:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/117" title="Bug in pj_array_insert() when position is equal to count-1 (closed)">#117</a> for the stable branch.
</p>
";}i:25;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/137";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/137";s:5:"title";s:74:"#137: Potential memory overwrite in pjmedia session.c (thanks David Clark)";s:11:"description";s:541:"<p>
session.c line 519:
</p>
<pre class="wiki">    /* Copy stream info (this simple memcpy may break sometime) */
    pj_memcpy(session-&gt;stream_info, si-&gt;stream_info,
          si-&gt;stream_cnt * sizeof(pjmedia_session_info));
</pre><p>
while it should be:
</p>
<pre class="wiki">session.c line 519
    /* Copy stream info (this simple memcpy may break sometime) */
    pj_memcpy(session-&gt;stream_info, si-&gt;stream_info,
          si-&gt;stream_cnt * sizeof(pjmedia_stream_info));
</pre><p>
Thanks David Clark for reporting!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/137#changelog";s:7:"summary";s:541:"<p>
session.c line 519:
</p>
<pre class="wiki">    /* Copy stream info (this simple memcpy may break sometime) */
    pj_memcpy(session-&gt;stream_info, si-&gt;stream_info,
          si-&gt;stream_cnt * sizeof(pjmedia_session_info));
</pre><p>
while it should be:
</p>
<pre class="wiki">session.c line 519
    /* Copy stream info (this simple memcpy may break sometime) */
    pj_memcpy(session-&gt;stream_info, si-&gt;stream_info,
          si-&gt;stream_cnt * sizeof(pjmedia_stream_info));
</pre><p>
Thanks David Clark for reporting!
</p>
";}i:26;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/138";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/138";s:5:"title";s:74:"#138: Potential memory overwrite in pjmedia session.c (thanks David Clark)";s:11:"description";s:219:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/137" title="Potential memory overwrite in pjmedia session.c (thanks David Clark) (closed)">#137</a> for main trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/138#changelog";s:7:"summary";s:219:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/137" title="Potential memory overwrite in pjmedia session.c (thanks David Clark) (closed)">#137</a> for main trunk.
</p>
";}i:27;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/141";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/141";s:5:"title";s:91:"#141: Crash on Linux when USB sound card set as the first sound card (thanks Sergei Petrov)";s:11:"description";s:1073:"<p>
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-February/002312.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-February/002312.html</span></a>:
</p>
<blockquote class="citation">
<p>
 My problem is the following, i've got two sound cards, one built-in
 intel8x0, and the other one generic usb-audio. pjsua works fine when
 i've got both cards active and the built-in one is the first card in
 ALSA. When I make the USB card the first one, the pjsua segfaults with
 a message:
 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
  12:49:56.491 os_core_unix.c Info: possibly re-registering existing thread
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
 
 Other sound apps work fine in both configurations.
 
</p>
</blockquote>
<p>
THanks Sergei Petrov for reporting.
</p>
<p>
See also ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/142" title="Crash on Linux when USB sound card set as the first sound card (thanks  ... (closed)">#142</a> for the trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/141#changelog";s:7:"summary";s:1073:"<p>
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-February/002312.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-February/002312.html</span></a>:
</p>
<blockquote class="citation">
<p>
 My problem is the following, i've got two sound cards, one built-in
 intel8x0, and the other one generic usb-audio. pjsua works fine when
 i've got both cards active and the built-in one is the first card in
 ALSA. When I make the USB card the first one, the pjsua segfaults with
 a message:
 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
  12:49:56.491 os_core_unix.c Info: possibly re-registering existing thread
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
 
 Other sound apps work fine in both configurations.
 
</p>
</blockquote>
<p>
THanks Sergei Petrov for reporting.
</p>
<p>
See also ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/142" title="Crash on Linux when USB sound card set as the first sound card (thanks  ... (closed)">#142</a> for the trunk.
</p>
";}i:28;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/142";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/142";s:5:"title";s:91:"#142: Crash on Linux when USB sound card set as the first sound card (thanks Sergei Petrov)";s:11:"description";s:1089:"<p>
Quoting <a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-February/002312.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-February/002312.html</span></a>:
</p>
<blockquote class="citation">
<p>
 My problem is the following, i've got two sound cards, one built-in
 intel8x0, and the other one generic usb-audio. pjsua works fine when
 i've got both cards active and the built-in one is the first card in
 ALSA. When I make the USB card the first one, the pjsua segfaults with
 a message:
 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
  12:49:56.491 os_core_unix.c Info: possibly re-registering existing thread
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
 
 Other sound apps work fine in both configurations.
 
</p>
</blockquote>
<p>
Thanks Sergei Petrov for reporting.
</p>
<p>
See also ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/141" title="Crash on Linux when USB sound card set as the first sound card (thanks  ... (closed)">#141</a> for the stable branch.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/142#changelog";s:7:"summary";s:1089:"<p>
Quoting <a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-February/002312.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-February/002312.html</span></a>:
</p>
<blockquote class="citation">
<p>
 My problem is the following, i've got two sound cards, one built-in
 intel8x0, and the other one generic usb-audio. pjsua works fine when
 i've got both cards active and the built-in one is the first card in
 ALSA. When I make the USB card the first one, the pjsua segfaults with
 a message:
 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
  12:49:56.491 os_core_unix.c Info: possibly re-registering existing thread
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
 
 Other sound apps work fine in both configurations.
 
</p>
</blockquote>
<p>
Thanks Sergei Petrov for reporting.
</p>
<p>
See also ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/141" title="Crash on Linux when USB sound card set as the first sound card (thanks  ... (closed)">#141</a> for the stable branch.
</p>
";}i:29;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/144";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/144";s:5:"title";s:87:"#144: pj_ioqueue_poll() blocks forever because of invalid timeout value (thanks Igor S)";s:11:"description";s:403:"<p>
On Linux, when <tt>pjsip_endpt_handle_events()</tt> is given NULL as the <tt>timeout</tt> parameter, it will cause <tt>pj_ioqueue_poll()</tt> to block forever even when there is incoming packet on the socket.
</p>
<p>
This happens because <tt>select()</tt> is given a large or probably negative <tt>usec</tt> value in <tt>timeval</tt> argument.
</p>
<p>
Thanks Igor S for spotting the problem.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/144#changelog";s:7:"summary";s:403:"<p>
On Linux, when <tt>pjsip_endpt_handle_events()</tt> is given NULL as the <tt>timeout</tt> parameter, it will cause <tt>pj_ioqueue_poll()</tt> to block forever even when there is incoming packet on the socket.
</p>
<p>
This happens because <tt>select()</tt> is given a large or probably negative <tt>usec</tt> value in <tt>timeval</tt> argument.
</p>
<p>
Thanks Igor S for spotting the problem.
</p>
";}i:30;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/145";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/145";s:5:"title";s:87:"#145: pj_ioqueue_poll() blocks forever because of invalid timeout value (thanks Igor S)";s:11:"description";s:219:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/144" title="pj_ioqueue_poll() blocks forever because of invalid timeout value (thanks  ... (closed)">#144</a> for trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/145#changelog";s:7:"summary";s:219:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/144" title="pj_ioqueue_poll() blocks forever because of invalid timeout value (thanks  ... (closed)">#144</a> for trunk.
</p>
";}i:31;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/186";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/186";s:5:"title";s:88:"#186: Bug with destination address calculation for strict route set (thanks Hoi-Ho Chan)";s:11:"description";s:873:"<p>
The destination address of a request is calculated by <tt>pjsip_get_request_addr()</tt> function in <tt>sip_util.[hc]</tt> file. For strict-route case, this function will remove the top-most Route, put this Route URI into target URI, and place the original target URI as the last Route header.
</p>
<p>
When there is only one strict Route header present, effectively this will swap the value of Route URI with the request URI.
</p>
<p>
The problem occurs because this function was called twice by the transaction, first during UAC transaction initialization and second when sending the request. Because of this, on the second call of the function, <strong>the function will swap back the Route and request URI, putting back the Route and request URI of the original request'''
</strong></p>
<p>
Effectively this means that the strict Route header will be ignored!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/186#changelog";s:7:"summary";s:873:"<p>
The destination address of a request is calculated by <tt>pjsip_get_request_addr()</tt> function in <tt>sip_util.[hc]</tt> file. For strict-route case, this function will remove the top-most Route, put this Route URI into target URI, and place the original target URI as the last Route header.
</p>
<p>
When there is only one strict Route header present, effectively this will swap the value of Route URI with the request URI.
</p>
<p>
The problem occurs because this function was called twice by the transaction, first during UAC transaction initialization and second when sending the request. Because of this, on the second call of the function, <strong>the function will swap back the Route and request URI, putting back the Route and request URI of the original request'''
</strong></p>
<p>
Effectively this means that the strict Route header will be ignored!
</p>
";}i:32;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/231";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/231";s:5:"title";s:68:"#231: Add the ability to respond to any realms in SIP authentication";s:11:"description";s:735:"<p>
Currently PJSIP will only respond to authentication challenge when the realm in the challenge matches the realm in the configured credential. This is required so that PJSIP would be able to authenticate against multiple challenges in the response.
</p>
<p>
However this is not very convenient for some (most?) applications, and on these cases, it will be helpful if PJSIP is able to respond to different realms than the configured one.
</p>
<p>
One potential solution for this is to have a special or default realm (such as wild card/"*") which can be used to respond to any realms found in the challenge. There can only be one wild card credential of course, so this can only be used to authenticate against one server only.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/231#changelog";s:7:"summary";s:735:"<p>
Currently PJSIP will only respond to authentication challenge when the realm in the challenge matches the realm in the configured credential. This is required so that PJSIP would be able to authenticate against multiple challenges in the response.
</p>
<p>
However this is not very convenient for some (most?) applications, and on these cases, it will be helpful if PJSIP is able to respond to different realms than the configured one.
</p>
<p>
One potential solution for this is to have a special or default realm (such as wild card/"*") which can be used to respond to any realms found in the challenge. There can only be one wild card credential of course, so this can only be used to authenticate against one server only.
</p>
";}i:33;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/239";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/239";s:5:"title";s:37:"#239: Error parsing quoted parameters";s:11:"description";s:359:"<p>
The parser automatically removes quotes surrounding parameter values, and this causes the parameter value to be printed as escaped characters.
</p>
<p>
For example:
</p>
<pre class="wiki">  pname="AB:CD"
</pre><p>
will be parsed as:
</p>
<pre class="wiki">  pname=AB:CD
</pre><p>
and later will be printed as:
</p>
<pre class="wiki">  pname=AB%3aCD
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/239#changelog";s:7:"summary";s:359:"<p>
The parser automatically removes quotes surrounding parameter values, and this causes the parameter value to be printed as escaped characters.
</p>
<p>
For example:
</p>
<pre class="wiki">  pname="AB:CD"
</pre><p>
will be parsed as:
</p>
<pre class="wiki">  pname=AB:CD
</pre><p>
and later will be printed as:
</p>
<pre class="wiki">  pname=AB%3aCD
</pre>";}i:34;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/240";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/240";s:5:"title";s:37:"#240: Error parsing quoted parameters";s:11:"description";s:149:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/239" title="Error parsing quoted parameters (closed)">#239</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/240#changelog";s:7:"summary";s:149:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/239" title="Error parsing quoted parameters (closed)">#239</a>
</p>
";}i:35;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/316";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/316";s:5:"title";s:96:"#316: Crash in registration session when transport returns error on sending authentication retry";s:11:"description";s:185:"<p>
When the client registration retry the request because of 401/407, and when the transport returns immediate failure, the registration session will be destroyed more than once.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/316#changelog";s:7:"summary";s:185:"<p>
When the client registration retry the request because of 401/407, and when the transport returns immediate failure, the registration session will be destroyed more than once.
</p>
";}i:36;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/408";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/408";s:5:"title";s:84:"#408: Route set shouldn't be updated once it has been set (thanks Anshuman S. Rawat)";s:11:"description";s:108:"<p>
Dialog MUST NOT recompute route set upon processing subsequent requests or responses within dialog
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/408#changelog";s:7:"summary";s:108:"<p>
Dialog MUST NOT recompute route set upon processing subsequent requests or responses within dialog
</p>
";}i:37;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/412";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/412";s:5:"title";s:44:"#412: Increase the randomness of guid_simple";s:11:"description";s:446:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/277" title="GUID generation cannot generate more than 2^16 unique numbers on Linux  ... (closed)">#277</a> had pointed out that <tt>guid_simple.c</tt> can only generate 2<sup>16</sup> bit of randomness in the GUID values. Although there is a workaround to use <tt>libuuid</tt> to replace it, this may not be available on all platforms, hence it needs to be fixed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/412#changelog";s:7:"summary";s:446:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/277" title="GUID generation cannot generate more than 2^16 unique numbers on Linux  ... (closed)">#277</a> had pointed out that <tt>guid_simple.c</tt> can only generate 2<sup>16</sup> bit of randomness in the GUID values. Although there is a workaround to use <tt>libuuid</tt> to replace it, this may not be available on all platforms, hence it needs to be fixed.
</p>
";}i:38;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/418";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/418";s:5:"title";s:59:"#418: Protect client registration session (regc) with mutex";s:11:"description";s:344:"<p>
The original idea of not using mutex in regc was because operations should be serialized by 8-bit boolean flags, and (I heard) operation to 8-bit variables should be atomic. But it seems that with recent modifications/bug fixes in regc, this rule may not hold anymore (such as the timer, which I think was added only quite recently). 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/418#changelog";s:7:"summary";s:344:"<p>
The original idea of not using mutex in regc was because operations should be serialized by 8-bit boolean flags, and (I heard) operation to 8-bit variables should be atomic. But it seems that with recent modifications/bug fixes in regc, this rule may not hold anymore (such as the timer, which I think was added only quite recently). 
</p>
";}i:39;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/420";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/420";s:5:"title";s:29:"#420: IPv6 support in PJMEDIA";s:11:"description";s:147:"<p>
Modifications that are needed in PJMEDIA to support IPv6:
</p>
<ul><li>SDP parsing of IPv6 address
</li><li>IPv6 UDP media transport
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/420#changelog";s:7:"summary";s:147:"<p>
Modifications that are needed in PJMEDIA to support IPv6:
</p>
<ul><li>SDP parsing of IPv6 address
</li><li>IPv6 UDP media transport
</li></ul>";}i:40;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/421";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/421";s:5:"title";s:27:"#421: IPv6 support in PJSIP";s:11:"description";s:451:"<p>
Modifications that are needed in PJSIP to support IPv6:
</p>
<ul><li>parsing and generation of IPv6 values in SIP messages (see <a class="ext-link" href="http://tools.ietf.org/html/draft-gurbani-sipping-ipv6-sip-03"><span class="icon">http://tools.ietf.org/html/draft-gurbani-sipping-ipv6-sip-03</span></a>)
</li><li>support for IPv6 SIP transports (UDP, TCP, and TLS)
</li><li>DNS AAAA resolution in DNS SRV resolution for server names
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/421#changelog";s:7:"summary";s:451:"<p>
Modifications that are needed in PJSIP to support IPv6:
</p>
<ul><li>parsing and generation of IPv6 values in SIP messages (see <a class="ext-link" href="http://tools.ietf.org/html/draft-gurbani-sipping-ipv6-sip-03"><span class="icon">http://tools.ietf.org/html/draft-gurbani-sipping-ipv6-sip-03</span></a>)
</li><li>support for IPv6 SIP transports (UDP, TCP, and TLS)
</li><li>DNS AAAA resolution in DNS SRV resolution for server names
</li></ul>";}i:41;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/467";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/467";s:5:"title";s:37:"#467: RTP/AVP vs RTP/SAVP negotiation";s:11:"description";s:447:"<p>
Issues:
</p>
<ol><li>Currently, when pjsip sends offer with RTP/AVP with a=crypto attribute (SRTP mode optional), and when remote answers with RTP/SAVP, SDP negotiation will fail and media will not be created, but the call is not terminated.
</li><li>When pjsip sends offer with RTP/SAVP (SRTP mode mandatory), and remote answers with RTP/AVP, SDP negotiation will fail and media will not be created, but the call is not terminated.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/467#changelog";s:7:"summary";s:447:"<p>
Issues:
</p>
<ol><li>Currently, when pjsip sends offer with RTP/AVP with a=crypto attribute (SRTP mode optional), and when remote answers with RTP/SAVP, SDP negotiation will fail and media will not be created, but the call is not terminated.
</li><li>When pjsip sends offer with RTP/SAVP (SRTP mode mandatory), and remote answers with RTP/AVP, SDP negotiation will fail and media will not be created, but the call is not terminated.
</li></ol>";}i:42;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/473";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/473";s:5:"title";s:68:"#473: Speex version upgrade and handling multiple speex audio frames";s:11:"description";s:465:"<p>
Upgrade Speex to latest version (may require large modification due to new Speex library organization). Probably we should have autoconf option to allow using external speex library as well.
</p>
<p>
Re multiple frames: PJMEDIA can receive and decode multiple audio frames in one RTP packet, the sending side currently seems to be broken. It can send multiple G.711 frames okay, but from last testing, sending/receiving multiple Speex frames doesn't work.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/473#changelog";s:7:"summary";s:465:"<p>
Upgrade Speex to latest version (may require large modification due to new Speex library organization). Probably we should have autoconf option to allow using external speex library as well.
</p>
<p>
Re multiple frames: PJMEDIA can receive and decode multiple audio frames in one RTP packet, the sending side currently seems to be broken. It can send multiple G.711 frames okay, but from last testing, sending/receiving multiple Speex frames doesn't work.
</p>
";}i:43;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/483";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/483";s:5:"title";s:80:"#483: Problems with using multiple sound devices (with splitcomb) with PJSUA-LIB";s:11:"description";s:1018:"<p>
There have been some problems with using the splitter/combiner port (splitcomb) with PJSUA-LIB. Splitcomb typically is used on these scenarios:
</p>
<ol class="loweralpha"><li>when the application wants to support multiple sound devices connected to the conference bridge
</li><li>in one case, one user uses splitcomb even with one sound device to avoid the jitter in RTP transmission.
</li></ol><p>
For case a) above, one user has reported that when three audio devices are used (one connected directly to port 0 of the bridge and the other two via splitcombs), then there won't be any audio coming/going through the third sound device. Checking the log revealed that there are many overflow/underflow messages printed on the log. This only happens when C-Media USB Audio driver is used; if the generic USB audio driver is used, audio seems to be working fine.
</p>
<p>
For case b), the user reported that audio was also broken, and there were lots of underflow/overflow messages printed to the log as well.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/483#changelog";s:7:"summary";s:1018:"<p>
There have been some problems with using the splitter/combiner port (splitcomb) with PJSUA-LIB. Splitcomb typically is used on these scenarios:
</p>
<ol class="loweralpha"><li>when the application wants to support multiple sound devices connected to the conference bridge
</li><li>in one case, one user uses splitcomb even with one sound device to avoid the jitter in RTP transmission.
</li></ol><p>
For case a) above, one user has reported that when three audio devices are used (one connected directly to port 0 of the bridge and the other two via splitcombs), then there won't be any audio coming/going through the third sound device. Checking the log revealed that there are many overflow/underflow messages printed on the log. This only happens when C-Media USB Audio driver is used; if the generic USB audio driver is used, audio seems to be working fine.
</p>
<p>
For case b), the user reported that audio was also broken, and there were lots of underflow/overflow messages printed to the log as well.
</p>
";}i:44;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/485";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/485";s:5:"title";s:72:"#485: Support for new TURN draft (TURN-07) and latest ICE draft (ICE-19)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/485#changelog";}i:45;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/488";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/488";s:5:"title";s:136:"#488: When outgoing request within dialog is responded with 481 or 408, should send BYE after terminating dialog (thanks Philippe Leuba)";s:11:"description";s:386:"<p>
When we send an INFO request in an INVITE initiated dialog and receive back a 481 or 408 response, the stack invokes the <tt>on_state_changed()</tt> callback of the invite session with the PJSIP_INV_STATE_DISCONNECTED state.
</p>
<p>
This result in the termination of the dialog and is compliant with section 12.2.1.2 of RFC 3261, however a BYE request is not sent.
</p>
<p>
 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/488#changelog";s:7:"summary";s:386:"<p>
When we send an INFO request in an INVITE initiated dialog and receive back a 481 or 408 response, the stack invokes the <tt>on_state_changed()</tt> callback of the invite session with the PJSIP_INV_STATE_DISCONNECTED state.
</p>
<p>
This result in the termination of the dialog and is compliant with section 12.2.1.2 of RFC 3261, however a BYE request is not sent.
</p>
<p>
 
</p>
";}i:46;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/491";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/491";s:5:"title";s:89:"#491: Crash in TCP/TLS transport when the listener is destroyed (thanks Christian Grigis)";s:11:"description";s:315:"<p>
The TCP and TLS transport keep pointer reference to its listener. When the listener is destroyed by application, PJSIP will crash when the transport is performing keep-alive transmission because it tries to access the listener which is no longer there.
</p>
<p>
Thanks Christian Grigis for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/491#changelog";s:7:"summary";s:315:"<p>
The TCP and TLS transport keep pointer reference to its listener. When the listener is destroyed by application, PJSIP will crash when the transport is performing keep-alive transmission because it tries to access the listener which is no longer there.
</p>
<p>
Thanks Christian Grigis for reporting this.
</p>
";}i:47;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/525";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/525";s:5:"title";s:55:"#525: Crash on call update or re-invite (Thanks Alexey)";s:11:"description";s:192:"<p>
Update and re-invite destroy and re-create the media transport in the early stage without stopping/reconfigure stream, while the media transport is continuously being used by stream.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/525#changelog";s:7:"summary";s:192:"<p>
Update and re-invite destroy and re-create the media transport in the early stage without stopping/reconfigure stream, while the media transport is continuously being used by stream.
</p>
";}i:48;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/529";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/529";s:5:"title";s:138:"#529: Memory leak on Symbian and possibly handle leaks on all platforms when application exits while transactions have not been terminated";s:11:"description";s:221:"<p>
When application exits, all transactions will be destroyed. However the transaction does not emit termination event to the transaction user (mostly dialog), thus these higher level objects will not be destroyed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/529#changelog";s:7:"summary";s:221:"<p>
When application exits, all transactions will be destroyed. However the transaction does not emit termination event to the transaction user (mostly dialog), thus these higher level objects will not be destroyed.
</p>
";}i:49;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/538";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/538";s:5:"title";s:77:"#538: Closed TCP connection should be removed from the hash table immediately";s:11:"description";s:237:"<p>
Currently when TCP connection is closed, it will be put in idle state even when there is no object referencing it. This will cause endpoint to run out of TCP connection "handles" when client opens/closes the connection rapidly.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/538#changelog";s:7:"summary";s:237:"<p>
Currently when TCP connection is closed, it will be put in idle state even when there is no object referencing it. This will cause endpoint to run out of TCP connection "handles" when client opens/closes the connection rapidly.
</p>
";}i:50;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/540";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/540";s:5:"title";s:59:"#540: Shutdown the sound device when the media flow is idle";s:11:"description";s:283:"<p>
Currently the sound device is kept open in PJSUA-LIB even when nothing is flowing in the bridge. This is not too friendly for other applications since they may not be able to use the sound device when pjsua is running, but also it drains up battery power in mobile devices.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/540#changelog";s:7:"summary";s:283:"<p>
Currently the sound device is kept open in PJSUA-LIB even when nothing is flowing in the bridge. This is not too friendly for other applications since they may not be able to use the sound device when pjsua is running, but also it drains up battery power in mobile devices.
</p>
";}i:51;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/541";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/541";s:5:"title";s:26:"#541: Documentation update";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/541#changelog";}i:52;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/575";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/575";s:5:"title";s:130:"#575: Unregistering from Windows IOCompletionPort (IOCP) ioqueue does not close the socket handle (thanks Gang Liu for the report)";s:11:"description";s:1575:"<p>
The IOCP documentation says that application needs to call <tt>CloseHandle()</tt> to unregister the socket from the IOCP, and PJLIB does this in <tt>ioqueue_winnt.c</tt>. 
</p>
<p>
We assumed that a call to <tt>CloseHandle()</tt> should close the socket (just like <tt>closesocket()</tt>), since a socket should just be another handle in Windows NT.
</p>
<p>
But turns out this is not the case. A call to <tt>CloseHandle()</tt> doesn't seem to close the socket, as the socket still appears in "netstat" output. Also further down it will cause "Invalid handle" exception to be raised in debug mode when <tt>WSACleanup()</tt> is called.
</p>
<p>
Checking at MSDN documentation about <tt>CloseHandle()</tt> (see <a class="ext-link" href="http://msdn.microsoft.com/en-us/library/ms724211(VS.85).aspx"><span class="icon">http://msdn.microsoft.com/en-us/library/ms724211(VS.85).aspx</span></a>), actually it does suggest application to call both for socket, i.e. always follow <tt>closesocket()</tt> call with <tt>CloseHandle()</tt>. This is what it says:
</p>
<blockquote>
<p>
<i>After closing a socket using the closesocket function, ensure that you release the socket by calling CloseHandle. For more information, see <a class="ext-link" href="http://msdn.microsoft.com/en-us/library/ms738547(VS.85).aspx"><span class="icon">Socket Closure</span></a>.</i>
</p>
</blockquote>
<p>
But alas! From experimentation, turns out that calling <tt>CloseHandle()</tt> after <tt>closesocket()</tt> will raise "Invalid handle" exception in debug mode. This was tested on WinXP SP2.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/575#changelog";s:7:"summary";s:1575:"<p>
The IOCP documentation says that application needs to call <tt>CloseHandle()</tt> to unregister the socket from the IOCP, and PJLIB does this in <tt>ioqueue_winnt.c</tt>. 
</p>
<p>
We assumed that a call to <tt>CloseHandle()</tt> should close the socket (just like <tt>closesocket()</tt>), since a socket should just be another handle in Windows NT.
</p>
<p>
But turns out this is not the case. A call to <tt>CloseHandle()</tt> doesn't seem to close the socket, as the socket still appears in "netstat" output. Also further down it will cause "Invalid handle" exception to be raised in debug mode when <tt>WSACleanup()</tt> is called.
</p>
<p>
Checking at MSDN documentation about <tt>CloseHandle()</tt> (see <a class="ext-link" href="http://msdn.microsoft.com/en-us/library/ms724211(VS.85).aspx"><span class="icon">http://msdn.microsoft.com/en-us/library/ms724211(VS.85).aspx</span></a>), actually it does suggest application to call both for socket, i.e. always follow <tt>closesocket()</tt> call with <tt>CloseHandle()</tt>. This is what it says:
</p>
<blockquote>
<p>
<i>After closing a socket using the closesocket function, ensure that you release the socket by calling CloseHandle. For more information, see <a class="ext-link" href="http://msdn.microsoft.com/en-us/library/ms738547(VS.85).aspx"><span class="icon">Socket Closure</span></a>.</i>
</p>
</blockquote>
<p>
But alas! From experimentation, turns out that calling <tt>CloseHandle()</tt> after <tt>closesocket()</tt> will raise "Invalid handle" exception in debug mode. This was tested on WinXP SP2.
</p>
";}i:53;a:7:{s:4:"link";s:36:"http://trac.pjsip.org/repos/ticket/5";s:4:"guid";s:36:"http://trac.pjsip.org/repos/ticket/5";s:5:"title";s:74:"#5: Support for SIP UPDATE (RFC 3311) and fix the offer/answer negotiation";s:11:"description";s:316:"<p>
SIP UPDATE is specified in RFC 3311 for updating session parameters without affecting dialog's state.
</p>
<p>
Also to be fixed in this development is the offer/answer negotiation in pjsip's invite session, since with the support for UPDATE (and PRACK) there are more offer and answer scenarios to support.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:46:"http://trac.pjsip.org/repos/ticket/5#changelog";s:7:"summary";s:316:"<p>
SIP UPDATE is specified in RFC 3311 for updating session parameters without affecting dialog's state.
</p>
<p>
Also to be fixed in this development is the offer/answer negotiation in pjsip's invite session, since with the support for UPDATE (and PRACK) there are more offer and answer scenarios to support.
</p>
";}i:54;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/13";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/13";s:5:"title";s:59:"#13: Send RTCP RR if stream is not transmitting RTP packets";s:11:"description";s:308:"<p>
The RTCP framework should send RTCP RR when it's not transmitting anything.
</p>
<p>
Currently the transmission of RTCP was driven by transmission of RTP, so when an endpoint is only actively listening (and not sending anything, although stream direction is send-recv), then no RTCP packet is sent.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/13#changelog";s:7:"summary";s:308:"<p>
The RTCP framework should send RTCP RR when it's not transmitting anything.
</p>
<p>
Currently the transmission of RTCP was driven by transmission of RTP, so when an endpoint is only actively listening (and not sending anything, although stream direction is send-recv), then no RTCP packet is sent.
</p>
";}i:55;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/28";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/28";s:5:"title";s:35:"#28: Bug in Replaces header parsing";s:11:"description";s:100:"<p>
The Replaces header parsing doesn't allow '@' character in the Call-ID part of the header.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/28#changelog";s:7:"summary";s:100:"<p>
The Replaces header parsing doesn't allow '@' character in the Call-ID part of the header.
</p>
";}i:56;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/29";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/29";s:5:"title";s:55:"#29: Calling pjsua_create() after pjsua_destroy() fails";s:11:"description";s:319:"<p>
Some application want to be able to call pjsua_create() after calling pjsua_destroy(). Currently this sequence fails because the error subsystem has already been registered and subsequent registration will be refused.
</p>
<p>
The solution perhaps is to clear the error subsystem once pj_shutdown() is called.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/29#changelog";s:7:"summary";s:319:"<p>
Some application want to be able to call pjsua_create() after calling pjsua_destroy(). Currently this sequence fails because the error subsystem has already been registered and subsequent registration will be refused.
</p>
<p>
The solution perhaps is to clear the error subsystem once pj_shutdown() is called.
</p>
";}i:57;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/30";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/30";s:5:"title";s:54:"#30: Check the samples_per_frame value of media stream";s:11:"description";s:421:"<p>
Someone in the mailing list suggested that we shouldn't multiply frame with number of packets per frame to calculate samples_per_frame:
</p>
<blockquote>
<p>
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2006-November/001196.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2006-November/001196.html</span></a>
</p>
</blockquote>
<p>
Not clear how pjmedia does it now and why it does work.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/30#changelog";s:7:"summary";s:421:"<p>
Someone in the mailing list suggested that we shouldn't multiply frame with number of packets per frame to calculate samples_per_frame:
</p>
<blockquote>
<p>
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2006-November/001196.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2006-November/001196.html</span></a>
</p>
</blockquote>
<p>
Not clear how pjmedia does it now and why it does work.
</p>
";}i:58;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/31";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/31";s:5:"title";s:52:"#31: Explicit binding to specific listener/transport";s:11:"description";s:504:"<p>
Some test applications want to simulate thousands of user agents (user endpoints) by creating lots of transports and bind the {dialog, registration, etc} to specific transport. Currently this is not possible since transport is managed automatically by pjsip.
</p>
<p>
The solution perhaps is to add optional local address/port specification in {dialog, registration, etc} and make the transport manager look up the transport not only by the remote address but also by the local listening point.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/31#changelog";s:7:"summary";s:504:"<p>
Some test applications want to simulate thousands of user agents (user endpoints) by creating lots of transports and bind the {dialog, registration, etc} to specific transport. Currently this is not possible since transport is managed automatically by pjsip.
</p>
<p>
The solution perhaps is to add optional local address/port specification in {dialog, registration, etc} and make the transport manager look up the transport not only by the remote address but also by the local listening point.
</p>
";}i:59;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/35";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/35";s:5:"title";s:45:"#35: Unregistration unregisteres ALL Contacts";s:11:"description";s:331:"<p>
Currently the unregistration function in PJSIP client registration (pjsip_regc_unregister()) sends REGISTER with Expires=0 for all contacts including those that are registered by other endpoints (because Contact header is set to "*"). This is not the correct behavior since it prevents more than one AOR to be registered.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/35#changelog";s:7:"summary";s:331:"<p>
Currently the unregistration function in PJSIP client registration (pjsip_regc_unregister()) sends REGISTER with Expires=0 for all contacts including those that are registered by other endpoints (because Contact header is set to "*"). This is not the correct behavior since it prevents more than one AOR to be registered.
</p>
";}i:60;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/36";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/36";s:5:"title";s:61:"#36: pjsip_regc_unregister SHOULD NOT unregister all Contacts";s:11:"description";s:486:"<p>
Currently the unregistration function in PJSIP client registration (<i>pjsip_regc_unregister()</i>) sends REGISTER with Expires=0 for all contacts including those that are registered by other endpoints (because Contact header is set to "*"). This is not the correct behavior since it prevents more than one AOR to be registered.
</p>
<p>
The correct behavior should be for <i>pjsip_regc_unregister()</i> to unregister only contact(s) that was registered by this endpoint only.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/36#changelog";s:7:"summary";s:486:"<p>
Currently the unregistration function in PJSIP client registration (<i>pjsip_regc_unregister()</i>) sends REGISTER with Expires=0 for all contacts including those that are registered by other endpoints (because Contact header is set to "*"). This is not the correct behavior since it prevents more than one AOR to be registered.
</p>
<p>
The correct behavior should be for <i>pjsip_regc_unregister()</i> to unregister only contact(s) that was registered by this endpoint only.
</p>
";}i:61;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/41";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/41";s:5:"title";s:47:"#41: GUI program crashes occasionally (invalid)";s:11:"description";s:155:"<p>
Toni reported that a GUI program crashes occasionally after it's running for some time. Not sure what's causing this, could be application issue.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/41#changelog";s:7:"summary";s:155:"<p>
Toni reported that a GUI program crashes occasionally after it's running for some time. Not sure what's causing this, could be application issue.
</p>
";}i:62;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/44";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/44";s:5:"title";s:49:"#44: Bug/crash in pjmedia_enum_snd_devs (invalid)";s:11:"description";s:61:"<p>
Somebody reported crash in pjmedia_enum_snd_devs().
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/44#changelog";s:7:"summary";s:61:"<p>
Somebody reported crash in pjmedia_enum_snd_devs().
</p>
";}i:63;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/45";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/45";s:5:"title";s:82:"#45: Accept, Allow, Supported, and generic string header should allow empty hvalue";s:11:"description";s:77:"<p>
Parser should allow empty hvalue to be specified for these headers.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/45#changelog";s:7:"summary";s:77:"<p>
Parser should allow empty hvalue to be specified for these headers.
</p>
";}i:64;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/47";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/47";s:5:"title";s:84:"#47: Packet length not set correctly when media transport fails with immediate error";s:11:"description";s:355:"<p>
When ioqueue_recv() fails with immediate error in UDP transport, the bytes_read variable is not set properly, causing the stream to incorrectly try to parse the packet.
</p>
<p>
This causes some "invalid RTP version" error message to be printed. It may cause more serious error too, such as switching transport address to an invalid destination.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/47#changelog";s:7:"summary";s:355:"<p>
When ioqueue_recv() fails with immediate error in UDP transport, the bytes_read variable is not set properly, causing the stream to incorrectly try to parse the packet.
</p>
<p>
This causes some "invalid RTP version" error message to be printed. It may cause more serious error too, such as switching transport address to an invalid destination.
</p>
";}i:65;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/48";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/48";s:5:"title";s:47:"#48: DTMF callback support in pjmedia/pjsua-API";s:11:"description";s:67:"<p>
Currently there's no way to retrieve DTMF from pjsua API.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/48#changelog";s:7:"summary";s:67:"<p>
Currently there's no way to retrieve DTMF from pjsua API.
</p>
";}i:66;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/49";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/49";s:5:"title";s:57:"#49: Bug in select() ioqueue: the recv() flag is not used";s:11:"description";s:188:"<p>
When socket is signaled for readability, recv()/recvfrom is called with flags set to zero. It should use the flags as specified when ioqueue_recv()/ioqueue_recvfrom() was called.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/49#changelog";s:7:"summary";s:188:"<p>
When socket is signaled for readability, recv()/recvfrom is called with flags set to zero. It should use the flags as specified when ioqueue_recv()/ioqueue_recvfrom() was called.
</p>
";}i:67;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/50";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/50";s:5:"title";s:31:"#50: Explicit use of transports";s:11:"description";s:3251:"<h1 id="Background">Background</h1>
<p>
The rules regarding transports are quite complicated with SIP, so because of this, it was decided during design that transports are managed automatically by the stack. 
</p>
<p>
This has benefit that application doesn't need to care about transport complexities, such as transport resolution, establishing/tearing-down transports, associating transport with destination, etc. With this approach, application should only need to care about the URI, and the stack will manage the transport to be used for that URI automatically.
</p>
<p>
This approach works fine for typical applications. However, some unusual applications need more refined control on the transport, e.g. they want to be able to use specific transport to send outgoing messages.
</p>
<p>
More over, the current transport design also has a limitation that currently only one transport type can be used per application. If application creates (for example) more than one UDP transports, the second one simply will not be used to send outgoing requests, although it <strong>can</strong> receive incoming requests.
</p>
<p>
The reason why the second transport will not be selected is related to how transports are stored in the transport hash tables. Currently, transports are hashed by their transport-type and remote address. So everytime the stack needs to send SIP message to remote destination, it looks up the transport hash table using the transport-type and remote address as the hash key. Because of this, there can only be one transport registered per one transport type and one remote address (note that connection-less transport such as UDP will register 0.0.0.0:0 as its remote address)
</p>
<h1 id="ProposedChanges">Proposed Changes</h1>
<p>
The proposed changes to the transport framework should support the following requirements:
</p>
<ul><li>allow more than one transport per transport type to be registered and used.
</li><li>allow application to <i>bind</i> a request, transaction, and possibly dialog to specific listener.
</li><li>also fix ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/42" title="TCP/TLS transport bug when connection is closed (closed)">#42</a> regarding shutting down transport.
</li></ul><p>
A potential solution may look like this:
</p>
<ul><li>change the transport hash key from {type, remote-address} to {type, local-address, remote-address}.
</li><li>each transport/listener will register itself <strong>twice</strong> to the hash table. First with its local address set to zero, and second with its actual local address. The first entry is used to match transport when application doesn't request for explicit binding, and the second when it does.
</li><li>note that with above <i>rule</i>, it is possible that more than one transports  may occupy a single hash table entry (for example, two UDP transports will occupy the same entry because both have the same transport type, local address (zero), and remote address (zero)). Because of this, hash entry may need to be made as a list.
</li><li>added API to allow binding request, transaction, or dialog with specific transport. If this binding is not established, zero address will be used to match the transport.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/50#changelog";s:7:"summary";s:3251:"<h1 id="Background">Background</h1>
<p>
The rules regarding transports are quite complicated with SIP, so because of this, it was decided during design that transports are managed automatically by the stack. 
</p>
<p>
This has benefit that application doesn't need to care about transport complexities, such as transport resolution, establishing/tearing-down transports, associating transport with destination, etc. With this approach, application should only need to care about the URI, and the stack will manage the transport to be used for that URI automatically.
</p>
<p>
This approach works fine for typical applications. However, some unusual applications need more refined control on the transport, e.g. they want to be able to use specific transport to send outgoing messages.
</p>
<p>
More over, the current transport design also has a limitation that currently only one transport type can be used per application. If application creates (for example) more than one UDP transports, the second one simply will not be used to send outgoing requests, although it <strong>can</strong> receive incoming requests.
</p>
<p>
The reason why the second transport will not be selected is related to how transports are stored in the transport hash tables. Currently, transports are hashed by their transport-type and remote address. So everytime the stack needs to send SIP message to remote destination, it looks up the transport hash table using the transport-type and remote address as the hash key. Because of this, there can only be one transport registered per one transport type and one remote address (note that connection-less transport such as UDP will register 0.0.0.0:0 as its remote address)
</p>
<h1 id="ProposedChanges">Proposed Changes</h1>
<p>
The proposed changes to the transport framework should support the following requirements:
</p>
<ul><li>allow more than one transport per transport type to be registered and used.
</li><li>allow application to <i>bind</i> a request, transaction, and possibly dialog to specific listener.
</li><li>also fix ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/42" title="TCP/TLS transport bug when connection is closed (closed)">#42</a> regarding shutting down transport.
</li></ul><p>
A potential solution may look like this:
</p>
<ul><li>change the transport hash key from {type, remote-address} to {type, local-address, remote-address}.
</li><li>each transport/listener will register itself <strong>twice</strong> to the hash table. First with its local address set to zero, and second with its actual local address. The first entry is used to match transport when application doesn't request for explicit binding, and the second when it does.
</li><li>note that with above <i>rule</i>, it is possible that more than one transports  may occupy a single hash table entry (for example, two UDP transports will occupy the same entry because both have the same transport type, local address (zero), and remote address (zero)). Because of this, hash entry may need to be made as a list.
</li><li>added API to allow binding request, transaction, or dialog with specific transport. If this binding is not established, zero address will be used to match the transport.
</li></ul>";}i:68;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/51";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/51";s:5:"title";s:46:"#51: Added audio level adjustment API to pjsua";s:11:"description";s:29:"<p>
(as the title says)
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/51#changelog";s:7:"summary";s:29:"<p>
(as the title says)
</p>
";}i:69;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/53";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/53";s:5:"title";s:78:"#53: Disable silence detector during the first few seconds of RTP transmission";s:11:"description";s:170:"<p>
This is useful to assist NAT traversal, since normally NAT router only allows incoming packet after internal host has transmitted some packets to external host.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/53#changelog";s:7:"summary";s:170:"<p>
This is useful to assist NAT traversal, since normally NAT router only allows incoming packet after internal host has transmitted some packets to external host.
</p>
";}i:70;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/54";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/54";s:5:"title";s:53:"#54: Add ability to change codec parameter on the fly";s:11:"description";s:360:"<p>
Some application may want to change codec parameters after it has been opened. For example, <i>stream</i> may want to temporarily disable codec to assist NAT traversal (see ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/53" title="Disable silence detector during the first few seconds of RTP transmission (closed)">#53</a>).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/54#changelog";s:7:"summary";s:360:"<p>
Some application may want to change codec parameters after it has been opened. For example, <i>stream</i> may want to temporarily disable codec to assist NAT traversal (see ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/53" title="Disable silence detector during the first few seconds of RTP transmission (closed)">#53</a>).
</p>
";}i:71;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/55";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/55";s:5:"title";s:34:"#55: Invalid PortAudio error space";s:11:"description";s:397:"<p>
See this mailing list archive:
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2006-December/001608.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2006-December/001608.html</span></a>
</p>
<p>
According to this post, <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/PortAudio" rel="nofollow">PortAudio?</a> expects error codes to have negative values.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/55#changelog";s:7:"summary";s:397:"<p>
See this mailing list archive:
<a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2006-December/001608.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2006-December/001608.html</span></a>
</p>
<p>
According to this post, <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/PortAudio" rel="nofollow">PortAudio?</a> expects error codes to have negative values.
</p>
";}i:72;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/56";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/56";s:5:"title";s:48:"#56: Periodically transmit RTP packet on silence";s:11:"description";s:194:"<p>
Stream should periodically transmit a silence frame once in a while to keep NAT bindings on and to prevent remote end from tearing down the call when there's no activity on the stream.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/56#changelog";s:7:"summary";s:194:"<p>
Stream should periodically transmit a silence frame once in a while to keep NAT bindings on and to prevent remote end from tearing down the call when there's no activity on the stream.
</p>
";}i:73;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/57";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/57";s:5:"title";s:37:"#57: Update documentation and website";s:11:"description";s:274:"<p>
Update the documentations:
</p>
<ul><li>pjsua-API online documentation can be made more extensive.
</li><li>some misleading info in conference documentation (it says that it needs audio device while it's not).
</li><li>update the documentation on the website.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/57#changelog";s:7:"summary";s:274:"<p>
Update the documentations:
</p>
<ul><li>pjsua-API online documentation can be made more extensive.
</li><li>some misleading info in conference documentation (it says that it needs audio device while it's not).
</li><li>update the documentation on the website.
</li></ul>";}i:74;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/58";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/58";s:5:"title";s:38:"#58: Another 64bit problem with pool.h";s:11:"description";s:172:"<p>
In &lt;pj/pool.h&gt;:
</p>
<pre class="wiki">     /**
      * Internal pool.
      */
    char	    pool_buf[256];
</pre><p>
This caused problem on 64bit machines.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/58#changelog";s:7:"summary";s:172:"<p>
In &lt;pj/pool.h&gt;:
</p>
<pre class="wiki">     /**
      * Internal pool.
      */
    char	    pool_buf[256];
</pre><p>
This caused problem on 64bit machines.
</p>
";}i:75;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/59";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/59";s:5:"title";s:40:"#59: Implement STUN client using ioqueue";s:11:"description";s:240:"<p>
Currently the STUN client uses pj_sock_select(), which means that porting to new platform requires porting both pj_sock_select() and ioqueue.
</p>
<p>
If STUN client is implemented using ioqueue, then it would make porting simpler
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/59#changelog";s:7:"summary";s:240:"<p>
Currently the STUN client uses pj_sock_select(), which means that porting to new platform requires porting both pj_sock_select() and ioqueue.
</p>
<p>
If STUN client is implemented using ioqueue, then it would make porting simpler
</p>
";}i:76;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/60";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/60";s:5:"title";s:23:"#60: Implement ICE/TURN";s:11:"description";s:28:"<p>
As the title says.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/60#changelog";s:7:"summary";s:28:"<p>
As the title says.
</p>
";}i:77;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/62";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/62";s:5:"title";s:67:"#62: Added option in pjmedia_tonegen_play() to play continuous tone";s:11:"description";s:233:"<p>
Currently pjmedia_tonegen_play() only allows playing PJMEDIA_TONEGEN_MAX_DIGITS digits at a time before the playback stops. Ideally we should have an option to playback digits in a loop (for example, to play ringback tone).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/62#changelog";s:7:"summary";s:233:"<p>
Currently pjmedia_tonegen_play() only allows playing PJMEDIA_TONEGEN_MAX_DIGITS digits at a time before the playback stops. Ideally we should have an option to playback digits in a loop (for example, to play ringback tone).
</p>
";}i:78;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/64";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/64";s:5:"title";s:46:"#64: Allow whitespaces at the end of SDP lines";s:11:"description";s:304:"<p>
Some UAs (non-compliant UAs, I might say) have a bad habit of adding whitespaces at the end of SDP lines. This is non-conformant, of course, but in the spirit of "be lenient on what you receive", the SDP parser should probably forgive this.
</p>
<p>
Thanks Briac Hardouin for pointing this out.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/64#changelog";s:7:"summary";s:304:"<p>
Some UAs (non-compliant UAs, I might say) have a bad habit of adding whitespaces at the end of SDP lines. This is non-conformant, of course, but in the spirit of "be lenient on what you receive", the SDP parser should probably forgive this.
</p>
<p>
Thanks Briac Hardouin for pointing this out.
</p>
";}i:79;a:5:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/65";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/65";s:5:"title";s:58:"#65: Broken pjsip-test because of recent transport changes";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/65#changelog";}i:80;a:5:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/66";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/66";s:5:"title";s:59:"#66: Broken compilation with gcc-2.9x or older gcc compiler";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/66#changelog";}i:81;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/67";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/67";s:5:"title";s:25:"#67: WAV playlist support";s:11:"description";s:132:"<p>
David Clark has contributed support for playing multiple WAV files in a playlist. Need to integrate this with the library.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/67#changelog";s:7:"summary";s:132:"<p>
David Clark has contributed support for playing multiple WAV files in a playlist. Need to integrate this with the library.
</p>
";}i:82;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/68";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/68";s:5:"title";s:57:"#68: Bug when adding new account dynamically in PJSUA-API";s:11:"description";s:260:"<p>
When application deletes and adds account with PJSUA-API, it may reuse the deleted account while this account hasn't finished unregistering the <tt>regc</tt> session.
</p>
<p>
This causes the previous credential and registration session to be reused.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/68#changelog";s:7:"summary";s:260:"<p>
When application deletes and adds account with PJSUA-API, it may reuse the deleted account while this account hasn't finished unregistering the <tt>regc</tt> session.
</p>
<p>
This causes the previous credential and registration session to be reused.
</p>
";}i:83;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/69";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/69";s:5:"title";s:63:"#69: (invalid) Bug when the same call id is reused in PJSUA-API";s:11:"description";s:166:"<p>
When application terminates a call and immediately makes another call, PJSUA-API will reuse the same call id while this call hasn't been completely cleared.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/69#changelog";s:7:"summary";s:166:"<p>
When application terminates a call and immediately makes another call, PJSUA-API will reuse the same call id while this call hasn't been completely cleared.
</p>
";}i:84;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/71";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/71";s:5:"title";s:91:"#71: When host doesn't have any NIC interfaces, it should return 127.0.0.1 instead of error";s:11:"description";s:223:"<p>
The primary host IP is resolved by detecting the default interface. Unfortunately when no NIC is present in the host, the <tt>pj_gethostip()</tt> function will return error while it really should return 127.0.0.1.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/71#changelog";s:7:"summary";s:223:"<p>
The primary host IP is resolved by detecting the default interface. Unfortunately when no NIC is present in the host, the <tt>pj_gethostip()</tt> function will return error while it really should return 127.0.0.1.
</p>
";}i:85;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/72";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/72";s:5:"title";s:41:"#72: Visual Studio 2005 Workspace support";s:11:"description";s:119:"<p>
Yup, finally I'm committed to support this!
</p>
<p>
(don't ask about VS7 or VS7.1 as I don't have them :) ).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/72#changelog";s:7:"summary";s:119:"<p>
Yup, finally I'm committed to support this!
</p>
<p>
(don't ask about VS7 or VS7.1 as I don't have them :) ).
</p>
";}i:86;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/73";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/73";s:5:"title";s:112:"#73: Unregistration does not respond to authentication challenge (401/407) after it has been marked for deletion";s:11:"description";s:538:"<p>
After application has marked client registration session for deletion(<tt>pjsip_regc_destroy()</tt> is called), the client registration session does not respond to authentication challenge in 401/407 response.
</p>
<p>
Here are the steps to reproduce it:
</p>
<pre class="wiki"> // Create Un-REGISTER request
 status = pjsip_regc_unregister(regc, &amp;tdata);

 // Send the request.
 status = pjsip_regc_send(regc, tdata);

 // Signal regc to destroy itself after all transactions complete
 status = pjsip_regc_destroy(regc);  
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/73#changelog";s:7:"summary";s:538:"<p>
After application has marked client registration session for deletion(<tt>pjsip_regc_destroy()</tt> is called), the client registration session does not respond to authentication challenge in 401/407 response.
</p>
<p>
Here are the steps to reproduce it:
</p>
<pre class="wiki"> // Create Un-REGISTER request
 status = pjsip_regc_unregister(regc, &amp;tdata);

 // Send the request.
 status = pjsip_regc_send(regc, tdata);

 // Signal regc to destroy itself after all transactions complete
 status = pjsip_regc_destroy(regc);  
</pre>";}i:87;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/74";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/74";s:5:"title";s:52:"#74: Enlarge RX_BUF_COUNT in conference bridge to 32";s:11:"description";s:271:"<p>
<a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a> &lt;chenhuan @ sict.ac.cn&gt; reported that enlarging RX_BUF_COUNT to 32 fixes the stutter problem on Windows Mobile, even when using small ptime (10 or 20ms).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/74#changelog";s:7:"summary";s:271:"<p>
<a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a> &lt;chenhuan @ sict.ac.cn&gt; reported that enlarging RX_BUF_COUNT to 32 fixes the stutter problem on Windows Mobile, even when using small ptime (10 or 20ms).
</p>
";}i:88;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/75";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/75";s:5:"title";s:71:"#75: SDP validation failed when port is zero and no format is specified";s:11:"description";s:197:"<p>
This would fail the SDP validation:
</p>
<pre class="wiki">m=video 0 RTP/AVP
</pre><p>
The SDP validation (<tt>pjmedia_sdp_validate()</tt> should allow empty format when the port is zero.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/75#changelog";s:7:"summary";s:197:"<p>
This would fail the SDP validation:
</p>
<pre class="wiki">m=video 0 RTP/AVP
</pre><p>
The SDP validation (<tt>pjmedia_sdp_validate()</tt> should allow empty format when the port is zero.
</p>
";}i:89;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/76";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/76";s:5:"title";s:54:"#76: No audio on MacOS X 10.4 when resamplilng is used";s:11:"description";s:97:"<p>
When OSX sound device is opened on non-native sampling rate, no audio input is audible.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/76#changelog";s:7:"summary";s:97:"<p>
When OSX sound device is opened on non-native sampling rate, no audio input is audible.
</p>
";}i:90;a:5:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/77";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/77";s:5:"title";s:46:"#77: Allow playback of multiple files in pjsua";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/77#changelog";}i:91;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/78";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/78";s:5:"title";s:57:"#78: Noisy audio with upsampling in the conference bridge";s:11:"description";s:926:"<p>
There are two problems here:
</p>
<ol><li>Problem with upsampling that introduces noise, and
</li><li>Problem with resampling/upsampling, specific when it's used in the conference bridge and <strong>only</strong> when two or more sources are mixed together.
</li></ol><p>
<strong>For the first problem:</strong>
</p>
<p>
The following file was upsampled with pjsua, from the original WAV file of 22050 Hz to 44100 Hz. You can hear clearly about the noise:
</p>
<p>
<a class="ext-link" href="http://www.pjsip.org/tmp/upsampling-noise.wav"><span class="icon">http://www.pjsip.org/tmp/upsampling-noise.wav</span></a>
</p>
<p>
<strong>For the second problem:</strong>
</p>
<p>
The following file was recorded by mixing two 16KHz sources and upsampled to 44.1KHz:
</p>
<p>
<a class="ext-link" href="http://www.pjsip.org/tmp/conference_noise.wav"><span class="icon">http://www.pjsip.org/tmp/conference_noise.wav</span></a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/78#changelog";s:7:"summary";s:926:"<p>
There are two problems here:
</p>
<ol><li>Problem with upsampling that introduces noise, and
</li><li>Problem with resampling/upsampling, specific when it's used in the conference bridge and <strong>only</strong> when two or more sources are mixed together.
</li></ol><p>
<strong>For the first problem:</strong>
</p>
<p>
The following file was upsampled with pjsua, from the original WAV file of 22050 Hz to 44100 Hz. You can hear clearly about the noise:
</p>
<p>
<a class="ext-link" href="http://www.pjsip.org/tmp/upsampling-noise.wav"><span class="icon">http://www.pjsip.org/tmp/upsampling-noise.wav</span></a>
</p>
<p>
<strong>For the second problem:</strong>
</p>
<p>
The following file was recorded by mixing two 16KHz sources and upsampled to 44.1KHz:
</p>
<p>
<a class="ext-link" href="http://www.pjsip.org/tmp/conference_noise.wav"><span class="icon">http://www.pjsip.org/tmp/conference_noise.wav</span></a>
</p>
";}i:92;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/82";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/82";s:5:"title";s:52:"#82: Disabling codec from autoconf causes link error";s:11:"description";s:258:"<p>
Disabling codec(s) with autoconf script (e.g. with <tt>--disable-speex-codec</tt> option) causes link error because the autoconf script doesn't propagate PJMEDIA_HAS_XX_CODEC macro to other libraries.
</p>
<p>
Thanks Thomas Reitmayr for the report.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/82#changelog";s:7:"summary";s:258:"<p>
Disabling codec(s) with autoconf script (e.g. with <tt>--disable-speex-codec</tt> option) causes link error because the autoconf script doesn't propagate PJMEDIA_HAS_XX_CODEC macro to other libraries.
</p>
<p>
Thanks Thomas Reitmayr for the report.
</p>
";}i:93;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/83";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/83";s:5:"title";s:43:"#83: Socket abstractions for IP TOS options";s:11:"description";s:146:"<p>
Add socket constants abstractions for socket TOS options so that application can set TOS in portable manner.
</p>
<p>
Thanks Roman Puls.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/83#changelog";s:7:"summary";s:146:"<p>
Add socket constants abstractions for socket TOS options so that application can set TOS in portable manner.
</p>
<p>
Thanks Roman Puls.
</p>
";}i:94;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/84";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/84";s:5:"title";s:79:"#84: pjsua_transport_close() doesn't properly close transports (especially TLS)";s:11:"description";s:167:"<p>
The pjsua_transport_close() function in PJSUA-API doesn't handle TLS transport case. Thanks Alain Totouom &lt;alain.totouom at gmx de&gt; for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/84#changelog";s:7:"summary";s:167:"<p>
The pjsua_transport_close() function in PJSUA-API doesn't handle TLS transport case. Thanks Alain Totouom &lt;alain.totouom at gmx de&gt; for reporting this.
</p>
";}i:95;a:8:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/85";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/85";s:5:"title";s:39:"#85: Visual Studio 2005 Sample-Makefile";s:6:"author";s:18:"pjsip@x-fabric.com";s:11:"description";s:307:"<p>
Trunk (Rev. 916) does not compile samples section under VS 2005.
</p>
<p>
Change first line of pjsip-apps\build\Samples-vc.mak from
</p>
<p>
TARGET = i386-win32-vc6-$(BUILD_MODE)
</p>
<p>
to 
</p>
<p>
TARGET = i386-win32-vc8-$(BUILD_MODE)
</p>
<p>
Cheers,
</p>
<blockquote>
<p>
Roman
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/85#changelog";s:7:"summary";s:307:"<p>
Trunk (Rev. 916) does not compile samples section under VS 2005.
</p>
<p>
Change first line of pjsip-apps\build\Samples-vc.mak from
</p>
<p>
TARGET = i386-win32-vc6-$(BUILD_MODE)
</p>
<p>
to 
</p>
<p>
TARGET = i386-win32-vc8-$(BUILD_MODE)
</p>
<p>
Cheers,
</p>
<blockquote>
<p>
Roman
</p>
</blockquote>
";}i:96;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/86";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/86";s:5:"title";s:25:"#86: Bugs in WAV playlist";s:11:"description";s:487:"<p>
The *current_file* variable is not always consistent and need to be updated
specially when the last file in the list has been played otherwise there is a
crash due to an access violation since it's used as an index for the playlist;
</p>
<p>
The statement
</p>
<pre class="wiki">current_file = fport-&gt;current_file;
</pre><p>
shall be the first statement in the *while (size_left &gt; 0)* loop to fix that
array index bug ;o)
</p>
<p>
Thanks Alain Totouom for the report/fix.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/86#changelog";s:7:"summary";s:487:"<p>
The *current_file* variable is not always consistent and need to be updated
specially when the last file in the list has been played otherwise there is a
crash due to an access violation since it's used as an index for the playlist;
</p>
<p>
The statement
</p>
<pre class="wiki">current_file = fport-&gt;current_file;
</pre><p>
shall be the first statement in the *while (size_left &gt; 0)* loop to fix that
array index bug ;o)
</p>
<p>
Thanks Alain Totouom for the report/fix.
</p>
";}i:97;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/87";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/87";s:5:"title";s:71:"#87: Conference bridge should transmit silence frame when level is zero";s:11:"description";s:880:"<p>
Currently the conference bridge will transmit PJMEDIA_FRAME_TYPE_NONE to a destination slot when the level is zero, regardless whether there is a source port transmitting to that particular destination slot:
</p>
<pre class="wiki">  if (cport-&gt;tx_setting==PJMEDIA_PORT_MUTE || cport-&gt;srv_level==0) {
     frame.type = PJMEDIA_FRAME_TYPE_NONE;
     pjmedia_port_put_frame(cport-&gt;port, &amp;frame);
  }
</pre><p>
This will cause WAV writer to write nothing to the file, thus causing silence gap to not be written.
</p>
<p>
The solution, the bridge should distinguish between no listener situation and silence situation:
</p>
<pre class="wiki">  if (cport-&gt;tx_setting == PJMEDIA_PORT_MUTE || cport-&gt;transmitter_cnt==0) {
       // Transmit TYPE_NONE frame
       ...
  } else if (cport-&gt;src_level==0) {
       // Transmit silence PCM frame
       ...
  }
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/87#changelog";s:7:"summary";s:880:"<p>
Currently the conference bridge will transmit PJMEDIA_FRAME_TYPE_NONE to a destination slot when the level is zero, regardless whether there is a source port transmitting to that particular destination slot:
</p>
<pre class="wiki">  if (cport-&gt;tx_setting==PJMEDIA_PORT_MUTE || cport-&gt;srv_level==0) {
     frame.type = PJMEDIA_FRAME_TYPE_NONE;
     pjmedia_port_put_frame(cport-&gt;port, &amp;frame);
  }
</pre><p>
This will cause WAV writer to write nothing to the file, thus causing silence gap to not be written.
</p>
<p>
The solution, the bridge should distinguish between no listener situation and silence situation:
</p>
<pre class="wiki">  if (cport-&gt;tx_setting == PJMEDIA_PORT_MUTE || cport-&gt;transmitter_cnt==0) {
       // Transmit TYPE_NONE frame
       ...
  } else if (cport-&gt;src_level==0) {
       // Transmit silence PCM frame
       ...
  }
</pre>";}i:98;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/89";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/89";s:5:"title";s:54:"#89: Implement transaction timeout in REGISTER request";s:11:"description";s:455:"<p>
Currently there is no timeout in SIP UAC transaction after provisional response is received. This will cause client to wait indefinetely if server crashes after it sends provisional response.
</p>
<p>
Note that this shouldn't be neccessary if the server is compliant with RFC 4420 and 4421 (re: not sending provisional response for non-INVITE transaction). But some popular open souce PBX out there does this anyway, so we'd better support this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/89#changelog";s:7:"summary";s:455:"<p>
Currently there is no timeout in SIP UAC transaction after provisional response is received. This will cause client to wait indefinetely if server crashes after it sends provisional response.
</p>
<p>
Note that this shouldn't be neccessary if the server is compliant with RFC 4420 and 4421 (re: not sending provisional response for non-INVITE transaction). But some popular open souce PBX out there does this anyway, so we'd better support this.
</p>
";}i:99;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/90";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/90";s:5:"title";s:74:"#90: PUBLISH is rejected with 404 because of timing mismatch with REGISTER";s:11:"description";s:277:"<p>
When presence publication is enabled in pjsua account, pjsua-api sends PUBLISH overlapping with REGISTER, and when the REGISTER is challenged with 401/407, the PUBLISH request will be rejected with 404/Not Found.
</p>
<p>
Thanks Edward Tian for reporting the problem.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/90#changelog";s:7:"summary";s:277:"<p>
When presence publication is enabled in pjsua account, pjsua-api sends PUBLISH overlapping with REGISTER, and when the REGISTER is challenged with 401/407, the PUBLISH request will be rejected with 404/Not Found.
</p>
<p>
Thanks Edward Tian for reporting the problem.
</p>
";}i:100;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/91";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/91";s:5:"title";s:51:"#91: Timer for buddy presence subscription in PJSUA";s:11:"description";s:608:"<p>
Currently when buddy's presence subscription fails in pjsua-api (i.e. SUBSCRIBE request fails to establish subscription), PJSUA-API will not try to send another SUBSCRIBE ever, so if buddy is online then we won't get notified. Application is currently responsible for managing timer to send another subscribe periodically to probe to buddy's presence.
</p>
<p>
Ideally PJSUA-API should maintain this timer internally on behalf of application to make life easier.
</p>
<p>
Note that this only applies to when SUBSCRIBE fails - if SUBSCRIBE succeeds, then buddy's presence will be monitored normally.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/91#changelog";s:7:"summary";s:608:"<p>
Currently when buddy's presence subscription fails in pjsua-api (i.e. SUBSCRIBE request fails to establish subscription), PJSUA-API will not try to send another SUBSCRIBE ever, so if buddy is online then we won't get notified. Application is currently responsible for managing timer to send another subscribe periodically to probe to buddy's presence.
</p>
<p>
Ideally PJSUA-API should maintain this timer internally on behalf of application to make life easier.
</p>
<p>
Note that this only applies to when SUBSCRIBE fails - if SUBSCRIBE succeeds, then buddy's presence will be monitored normally.
</p>
";}i:101;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/92";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/92";s:5:"title";s:55:"#92: Undefined OpenSSL/ALSA symbols when running Python";s:11:"description";s:542:"<p>
When the <tt>configure</tt> script detects the availability of OpenSSL and ALSA libraries, TLS and ALSA support will be included with the library.
</p>
<p>
But unfortunately this causes undefined symbol error when running Python application, for example:
</p>
<pre class="wiki">python pjsua_app.py
 Traceback (most recent call last):
   File "pjsua_app.py", line 8, in ?
     import py_pjsua
 ImportError: /usr/lib/python2.4/site-packages/py_pjsua.so: undefined symbol: 
 snd_pcm_close
</pre><p>
Thanks Matthias Laur for the report.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/92#changelog";s:7:"summary";s:542:"<p>
When the <tt>configure</tt> script detects the availability of OpenSSL and ALSA libraries, TLS and ALSA support will be included with the library.
</p>
<p>
But unfortunately this causes undefined symbol error when running Python application, for example:
</p>
<pre class="wiki">python pjsua_app.py
 Traceback (most recent call last):
   File "pjsua_app.py", line 8, in ?
     import py_pjsua
 ImportError: /usr/lib/python2.4/site-packages/py_pjsua.so: undefined symbol: 
 snd_pcm_close
</pre><p>
Thanks Matthias Laur for the report.
</p>
";}i:102;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/94";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/94";s:5:"title";s:61:"#94: Bug in level adjustment calculation in conference bridge";s:11:"description";s:197:"<p>
Bug in conference.c at line 1731.
The code should be:
</p>
<pre class="wiki">if (itemp &gt;= 0) level += itemp;
else            level -= itemp;
</pre><p>
Thanks frank wiersma for the fix.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/94#changelog";s:7:"summary";s:197:"<p>
Bug in conference.c at line 1731.
The code should be:
</p>
<pre class="wiki">if (itemp &gt;= 0) level += itemp;
else            level -= itemp;
</pre><p>
Thanks frank wiersma for the fix.
</p>
";}i:103;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/95";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/95";s:5:"title";s:52:"#95: Keep-alive mechanism for TCP and TLS transports";s:11:"description";s:113:"<p>
TCP and TLS transports should periodically transmit packet to keep the connection and NAT binding open.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/95#changelog";s:7:"summary";s:113:"<p>
TCP and TLS transports should periodically transmit packet to keep the connection and NAT binding open.
</p>
";}i:104;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/98";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/98";s:5:"title";s:57:"#98: Error binding transports to specific IP in PJSUA-API";s:11:"description";s:326:"<p>
When application tries to bind SIP transports to specific IP address, the library will return error even though the IP address is a valid address of the local interface:
</p>
<pre class="wiki">pjsua_core.c bind() error: Cannot assign requested address [status=120099]
</pre><p>
Thanks Hoi-Ho Chan for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/98#changelog";s:7:"summary";s:326:"<p>
When application tries to bind SIP transports to specific IP address, the library will return error even though the IP address is a valid address of the local interface:
</p>
<pre class="wiki">pjsua_core.c bind() error: Cannot assign requested address [status=120099]
</pre><p>
Thanks Hoi-Ho Chan for reporting this.
</p>
";}i:105;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/99";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/99";s:5:"title";s:48:"#99: Implement a generic UAC transaction timeout";s:11:"description";s:649:"<p>
Currently UAC transaction does not set any timeout timer after a provisional response has been received. If the server crashes after it sends provisional response, then the client will get stucked forefer (for example, for client registration).
</p>
<p>
This behavior is compliant with RFC 3261, but nevertheless it's not robust, so the stack should better provide a mechanism for setting up such timer.
</p>
<p>
This ticket supersedes ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/89" title="Implement transaction timeout in REGISTER request (closed)">#89</a> since it solves the problem in more generic manner.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/99#changelog";s:7:"summary";s:649:"<p>
Currently UAC transaction does not set any timeout timer after a provisional response has been received. If the server crashes after it sends provisional response, then the client will get stucked forefer (for example, for client registration).
</p>
<p>
This behavior is compliant with RFC 3261, but nevertheless it's not robust, so the stack should better provide a mechanism for setting up such timer.
</p>
<p>
This ticket supersedes ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/89" title="Implement transaction timeout in REGISTER request (closed)">#89</a> since it solves the problem in more generic manner.
</p>
";}i:106;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/100";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/100";s:5:"title";s:68:"#100: Assertion failure when terminating subscription with PJSUA-API";s:11:"description";s:875:"<pre class="wiki">Break point:

PJ_DEF(pj_status_t) pjsip_evsub_terminate( pjsip_evsub *sub,
					   pj_bool_t notify )
{
    PJ_ASSERT_RETURN(sub, PJ_EINVAL);



Call stack:

	htmlview.exe!_wassert(const wchar_t * expr=0x006f93c4, const wchar_t * filename=0x0071b380, unsigned int lineno=878)  Line 384

        htmlview.exe!pjsip_evsub_terminate(pjsip_evsub * sub=0x00000000, int notify=0)  Line 878 + 0x1e bytes	C
 	htmlview.exe!pjsip_pres_terminate(pjsip_evsub * sub=0x00000000, int notify=0)  Line 332 + 0xd bytes	C
 	htmlview.exe!unsubscribe_buddy_presence(unsigned int index=0) Line 1050 + 0xe bytes	
 	htmlview.exe!refresh_client_subscriptions()  Line 1072 + 0x9 bytes	C
 	htmlview.exe!pjsua_pres_refresh()  Line 1120	C
 	htmlview.exe!pjsua_pres_shutdown()  Line 1145	C
 	htmlview.exe!pjsua_destroy()  Line 666	C
</pre><p>
Thanks Edward Tian for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/100#changelog";s:7:"summary";s:875:"<pre class="wiki">Break point:

PJ_DEF(pj_status_t) pjsip_evsub_terminate( pjsip_evsub *sub,
					   pj_bool_t notify )
{
    PJ_ASSERT_RETURN(sub, PJ_EINVAL);



Call stack:

	htmlview.exe!_wassert(const wchar_t * expr=0x006f93c4, const wchar_t * filename=0x0071b380, unsigned int lineno=878)  Line 384

        htmlview.exe!pjsip_evsub_terminate(pjsip_evsub * sub=0x00000000, int notify=0)  Line 878 + 0x1e bytes	C
 	htmlview.exe!pjsip_pres_terminate(pjsip_evsub * sub=0x00000000, int notify=0)  Line 332 + 0xd bytes	C
 	htmlview.exe!unsubscribe_buddy_presence(unsigned int index=0) Line 1050 + 0xe bytes	
 	htmlview.exe!refresh_client_subscriptions()  Line 1072 + 0x9 bytes	C
 	htmlview.exe!pjsua_pres_refresh()  Line 1120	C
 	htmlview.exe!pjsua_pres_shutdown()  Line 1145	C
 	htmlview.exe!pjsua_destroy()  Line 666	C
</pre><p>
Thanks Edward Tian for reporting this.
</p>
";}i:107;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/101";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/101";s:5:"title";s:41:"#101: Bugs in PJSUA-API when port is zero";s:11:"description";s:289:"<p>
When port is zero, PJSIP transport will use any available port when creating SIP transports. This works fine, except that in PJSUA-API the published address of the transport is not updated with the actual port number where the transport listens to after the transport is created.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/101#changelog";s:7:"summary";s:289:"<p>
When port is zero, PJSIP transport will use any available port when creating SIP transports. This works fine, except that in PJSUA-API the published address of the transport is not updated with the actual port number where the transport listens to after the transport is created.
</p>
";}i:108;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/102";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/102";s:5:"title";s:49:"#102: Add PJSUA_MAX_PLAYER and PJSUA_MAX_RECORDER";s:11:"description";s:144:"<p>
Currently the number of player and recorder is hardcoded to 32 in pjsua_internal.h.
</p>
<p>
Thanks David Clark for pointing out this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/102#changelog";s:7:"summary";s:144:"<p>
Currently the number of player and recorder is hardcoded to 32 in pjsua_internal.h.
</p>
<p>
Thanks David Clark for pointing out this.
</p>
";}i:109;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/103";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/103";s:5:"title";s:55:"#103: PJLIB should use Win32 file I/O back-end on Win32";s:11:"description";s:747:"<p>
The default file I/O back-end is to use ANSI stream API (fopen(), fread(), etc.), which works great since it is portable across platforms. However it has a limit of number of files that can be opened simultaneously (FOPEN_MAX), causing subsequent opening file to fail.
</p>
<p>
On Win32, we have alternative back-end of file I/O using Win32 native file operations (<a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/CreateFile" rel="nofollow">CreateFile?</a>(), <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ReadFile" rel="nofollow">ReadFile?</a>(), etc.), which doesn't have this limitation, but unfortunately this backend implementation is not being used.
</p>
<p>
Thanks David Clark for pointing this out.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/103#changelog";s:7:"summary";s:747:"<p>
The default file I/O back-end is to use ANSI stream API (fopen(), fread(), etc.), which works great since it is portable across platforms. However it has a limit of number of files that can be opened simultaneously (FOPEN_MAX), causing subsequent opening file to fail.
</p>
<p>
On Win32, we have alternative back-end of file I/O using Win32 native file operations (<a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/CreateFile" rel="nofollow">CreateFile?</a>(), <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ReadFile" rel="nofollow">ReadFile?</a>(), etc.), which doesn't have this limitation, but unfortunately this backend implementation is not being used.
</p>
<p>
Thanks David Clark for pointing this out.
</p>
";}i:110;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/105";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/105";s:5:"title";s:51:"#105: Unnecessary assert in fixed buffer based pool";s:11:"description";s:221:"<p>
The fixed buffer based pool (created by pj_pool_create_on_buf()) will raise assert if no memory can be allocated. This is unnecessary, and it should just return NULL to let the pool raise PJ exception as normal.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/105#changelog";s:7:"summary";s:221:"<p>
The fixed buffer based pool (created by pj_pool_create_on_buf()) will raise assert if no memory can be allocated. This is unnecessary, and it should just return NULL to let the pool raise PJ exception as normal.
</p>
";}i:111;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/107";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/107";s:5:"title";s:56:"#107: Fixed deadlock in ioqueue unregistration with IOCP";s:11:"description";s:211:"<p>
When IOCP is used as ioqueue backend, the unregistration will cause deadlock if the unregistration is called on the callback.
</p>
<p>
This can be reproduced with ioqueue unregister test in pjlib-test.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/107#changelog";s:7:"summary";s:211:"<p>
When IOCP is used as ioqueue backend, the unregistration will cause deadlock if the unregistration is called on the callback.
</p>
<p>
This can be reproduced with ioqueue unregister test in pjlib-test.
</p>
";}i:112;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/108";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/108";s:5:"title";s:27:"#108: QA for release 0.5.10";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/108#changelog";}i:113;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/109";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/109";s:5:"title";s:58:"#109: Audio saturation when level is applied to conference";s:11:"description";s:170:"<p>
Audio would crank up wildly when level is applied to a port and the port receives signal from more than one source. This is easily reproducible with confsample.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/109#changelog";s:7:"summary";s:170:"<p>
Audio would crank up wildly when level is applied to a port and the port receives signal from more than one source. This is easily reproducible with confsample.
</p>
";}i:114;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/110";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/110";s:5:"title";s:53:"#110: Replace year 2006 with 2007 in copyright notice";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/110#changelog";}i:115;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/112";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/112";s:5:"title";s:28:"#112: Workaround for forking";s:11:"description";s:213:"<p>
This is the duplicated ticket for the main branch.
</p>
<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/111" title="Workaround for forking (closed)">#111</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/112#changelog";s:7:"summary";s:213:"<p>
This is the duplicated ticket for the main branch.
</p>
<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/111" title="Workaround for forking (closed)">#111</a> for details.
</p>
";}i:116;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/114";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/114";s:5:"title";s:96:"#114: INVITE transaction is not destroyed immediately when ACK has the same branch as the INVITE";s:11:"description";s:234:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/113" title="INVITE transaction is not destroyed immediately when ACK has the same  ... (closed)">#113</a> for the main branch.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/114#changelog";s:7:"summary";s:234:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/113" title="INVITE transaction is not destroyed immediately when ACK has the same  ... (closed)">#113</a> for the main branch.
</p>
";}i:117;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/119";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/119";s:5:"title";s:62:"#119: 4.2.1 STUN messages representation and encoding/decoding";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/119#changelog";}i:118;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/120";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/120";s:5:"title";s:68:"#120: 4.4.2 Implement PJLIB API to enumerate local network interface";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/120#changelog";}i:119;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/121";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/121";s:5:"title";s:53:"#121: 4.2.1 Implement generic STUN client transaction";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/121#changelog";}i:120;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/122";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/122";s:5:"title";s:54:"#122: 4.2.1 Implement STUN Binding request transaction";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/122#changelog";}i:121;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/123";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/123";s:5:"title";s:79:"#123: 4.2.2 Implement STUN server Binding request handler with response caching";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/123#changelog";}i:122;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/124";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/124";s:5:"title";s:75:"#124: 4.2.4 Implement client-side STUN authentication (short and long term)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/124#changelog";}i:123;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/125";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/125";s:5:"title";s:75:"#125: 4.2.4 Implement server side STUN authentication (short and long term)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/125#changelog";}i:124;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/126";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/126";s:5:"title";s:43:"#126: 4.4.3 Implement STUN client side TURN";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/126#changelog";}i:125;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/127";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/127";s:5:"title";s:52:"#127: 4.3.1 Implement TURN extension for STUN server";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/127#changelog";}i:126;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/128";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/128";s:5:"title";s:68:"#128: 4.4.2 Implement PJLIB API to enumerate local network interface";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/128#changelog";}i:127;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/129";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/129";s:5:"title";s:60:"#129: 4.4.1 Implement SDP support for ICE related attributes";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/129#changelog";}i:128;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/130";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/130";s:5:"title";s:56:"#130: 4.4.3 Implement new ICE media transport in PJMEDIA";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/130#changelog";}i:129;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/131";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/131";s:5:"title";s:104:"#131: Bug: dialog automatically insert Contact header when sending 3xx response (thanks Hozjan Vladimir)";s:11:"description";s:267:"<p>
The dialog automatically inserts <tt>Contact</tt> header when sending 3xx response, because Contact header is mandatory in 3xx response. If application adds Contact header in the response, this would cause the 3xx response to have duplicate Contact headers.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/131#changelog";s:7:"summary";s:267:"<p>
The dialog automatically inserts <tt>Contact</tt> header when sending 3xx response, because Contact header is mandatory in 3xx response. If application adds Contact header in the response, this would cause the 3xx response to have duplicate Contact headers.
</p>
";}i:130;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/132";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/132";s:5:"title";s:119:"#132: Bug: dialog automatically insert Contact header when sending 3xx response (thanks Hozjan Vladimir for the report)";s:11:"description";s:434:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/131" title="Bug: dialog automatically insert Contact header when sending 3xx response  ... (closed)">#131</a> for main branch. See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/131" title="Bug: dialog automatically insert Contact header when sending 3xx response  ... (closed)">#131</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/132#changelog";s:7:"summary";s:434:"<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/131" title="Bug: dialog automatically insert Contact header when sending 3xx response  ... (closed)">#131</a> for main branch. See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/131" title="Bug: dialog automatically insert Contact header when sending 3xx response  ... (closed)">#131</a> for details.
</p>
";}i:131;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/133";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/133";s:5:"title";s:95:"#133: PUBLISH is rejected with 404 when REGISTER is challenged with 401/407 (thank Edward Tian)";s:11:"description";s:510:"<p>
When presence publication is enabled in pjsua account, pjsua-api sends PUBLISH overlapping with REGISTER, and when the REGISTER is challenged with 401/407, the PUBLISH request will be rejected with 404/Not Found.
</p>
<p>
Thanks Edward Tian for reporting the problem.
</p>
<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/90" title="PUBLISH is rejected with 404 because of timing mismatch with REGISTER (closed)">#90</a> for the 0.5-stable branch.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/133#changelog";s:7:"summary";s:510:"<p>
When presence publication is enabled in pjsua account, pjsua-api sends PUBLISH overlapping with REGISTER, and when the REGISTER is challenged with 401/407, the PUBLISH request will be rejected with 404/Not Found.
</p>
<p>
Thanks Edward Tian for reporting the problem.
</p>
<p>
This is the duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/90" title="PUBLISH is rejected with 404 because of timing mismatch with REGISTER (closed)">#90</a> for the 0.5-stable branch.
</p>
";}i:132;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/134";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/134";s:5:"title";s:63:"#134: Implement a command line STUN client software for testing";s:11:"description";s:967:"<p>
Implement command line STUN client software for testing the client side implementation and to test a STUN server as well. 
</p>
<p>
Some functionalities in the client:
</p>
<ul><li>Ability to send these STUN requests and interpret the response:
<ul><li>STUN Binding request
</li><li>STUN/TURN Allocate request
</li><li>STUN/TURN Set Active Destination request
</li><li>STUN/TURN Connect request
</li></ul></li><li>Ability to send and receive these indications:
<ul><li>STUN/TURN Send indication.
</li><li>STUN/TURN Data indication.
</li><li>STUN/TURN Connect Status indication
</li></ul></li><li>Ability to add credential (short and long term) to all outgoing messages.
</li><li>Ability to add fingerprint to all outgoing messages.
</li><li>Ability to add other optional attributes in outgoing requests. 
</li></ul><p>
Currently STUN Shared Secret request is not supported since this requires TLS connection to the server. It may be supported in the future.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/134#changelog";s:7:"summary";s:967:"<p>
Implement command line STUN client software for testing the client side implementation and to test a STUN server as well. 
</p>
<p>
Some functionalities in the client:
</p>
<ul><li>Ability to send these STUN requests and interpret the response:
<ul><li>STUN Binding request
</li><li>STUN/TURN Allocate request
</li><li>STUN/TURN Set Active Destination request
</li><li>STUN/TURN Connect request
</li></ul></li><li>Ability to send and receive these indications:
<ul><li>STUN/TURN Send indication.
</li><li>STUN/TURN Data indication.
</li><li>STUN/TURN Connect Status indication
</li></ul></li><li>Ability to add credential (short and long term) to all outgoing messages.
</li><li>Ability to add fingerprint to all outgoing messages.
</li><li>Ability to add other optional attributes in outgoing requests. 
</li></ul><p>
Currently STUN Shared Secret request is not supported since this requires TLS connection to the server. It may be supported in the future.
</p>
";}i:133;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/135";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/135";s:5:"title";s:74:"#135: Invalid presence entity ID when URI is specified in name-addr format";s:11:"description";s:489:"<p>
In pjsua, when account ID is set to use name-addr format, it will cause the presence PIDF document to have "&lt;" character in XML entity attribute, causing it to be rejected by server.
</p>
<p>
Example:
</p>
<pre class="wiki">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;presence entity="&lt;sip:user@domain&gt;"&gt;
 &lt;tuple id="72e49cd62c4943108f05fa2666a95a96"&gt;
  &lt;status&gt;
   &lt;basic&gt;open&lt;/basic&gt;
  &lt;/status&gt;
 &lt;/tuple&gt;
&lt;/presence&gt;
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/135#changelog";s:7:"summary";s:489:"<p>
In pjsua, when account ID is set to use name-addr format, it will cause the presence PIDF document to have "&lt;" character in XML entity attribute, causing it to be rejected by server.
</p>
<p>
Example:
</p>
<pre class="wiki">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;presence entity="&lt;sip:user@domain&gt;"&gt;
 &lt;tuple id="72e49cd62c4943108f05fa2666a95a96"&gt;
  &lt;status&gt;
   &lt;basic&gt;open&lt;/basic&gt;
  &lt;/status&gt;
 &lt;/tuple&gt;
&lt;/presence&gt;
</pre>";}i:134;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/136";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/136";s:5:"title";s:74:"#136: Invalid presence entity ID when URI is specified in name-addr format";s:11:"description";s:219:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/135" title="Invalid presence entity ID when URI is specified in name-addr format (closed)">#135</a> for main trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/136#changelog";s:7:"summary";s:219:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/135" title="Invalid presence entity ID when URI is specified in name-addr format (closed)">#135</a> for main trunk.
</p>
";}i:135;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/139";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/139";s:5:"title";s:94:"#139: Unable to play next tone after stop is called on tone generator (thanks Antonio F. Cano)";s:11:"description";s:128:"<p>
Calling <tt>pjmedia_tonegen_play()</tt> to play next tone after <tt>pjmedia_tonegen_stop()</tt> did not play the tone.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/139#changelog";s:7:"summary";s:128:"<p>
Calling <tt>pjmedia_tonegen_play()</tt> to play next tone after <tt>pjmedia_tonegen_stop()</tt> did not play the tone.
</p>
";}i:136;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/140";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/140";s:5:"title";s:94:"#140: Unable to play next tone after stop is called on tone generator (thanks Antonio F. Cano)";s:11:"description";s:226:"<p>
This is the copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/139" title="Unable to play next tone after stop is called on tone generator (thanks  ... (closed)">#139</a> for main trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/140#changelog";s:7:"summary";s:226:"<p>
This is the copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/139" title="Unable to play next tone after stop is called on tone generator (thanks  ... (closed)">#139</a> for main trunk.
</p>
";}i:137;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/146";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/146";s:5:"title";s:77:"#146: Division by zero in pj_pool_factory_dump() when there is no active pool";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/146#changelog";}i:138;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/147";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/147";s:5:"title";s:77:"#147: Division by zero in pj_pool_factory_dump() when there is no active pool";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/147#changelog";}i:139;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/148";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/148";s:5:"title";s:66:"#148: Crash when resolving bad hostnames in Linux (thanks Binu KS)";s:11:"description";s:405:"<p>
Binu K S reported:
</p>
<p>
PJSIP crashes in Linux when it tries to resolve a bad address. The problem is in pjlib/src/pj/addr_resolv_sock.c in the following lines:
</p>
<pre class="wiki">   he = gethostbyname(copy);
    if (!he) {
	return pj_get_netos_error();
    }
</pre><p>
The gethostbyname call does not set any error code in errno in case of failures. The error is set in h_errno instead.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/148#changelog";s:7:"summary";s:405:"<p>
Binu K S reported:
</p>
<p>
PJSIP crashes in Linux when it tries to resolve a bad address. The problem is in pjlib/src/pj/addr_resolv_sock.c in the following lines:
</p>
<pre class="wiki">   he = gethostbyname(copy);
    if (!he) {
	return pj_get_netos_error();
    }
</pre><p>
The gethostbyname call does not set any error code in errno in case of failures. The error is set in h_errno instead.
</p>
";}i:140;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/149";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/149";s:5:"title";s:66:"#149: Crash when resolving bad hostnames in Linux (thanks Binu KS)";s:11:"description";s:201:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/148" title="Crash when resolving bad hostnames in Linux (thanks Binu KS) (closed)">#148</a> for trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/149#changelog";s:7:"summary";s:201:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/148" title="Crash when resolving bad hostnames in Linux (thanks Binu KS) (closed)">#148</a> for trunk.
</p>
";}i:141;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/150";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/150";s:5:"title";s:130:"#150: pj_gethostip() should fallback to default interface when 127.x.x.x is returned, not just 127.0.0.1 (thanks Andrey Kuprianov)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/150#changelog";}i:142;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/151";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/151";s:5:"title";s:130:"#151: pj_gethostip() should fallback to default interface when 127.x.x.x is returned, not just 127.0.0.1 (thanks Andrey Kuprianov)";s:11:"description";s:215:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/150" title="pj_gethostip() should fallback to default interface when 127.x.x.x is  ... (closed)">#150</a> for trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/151#changelog";s:7:"summary";s:215:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/150" title="pj_gethostip() should fallback to default interface when 127.x.x.x is  ... (closed)">#150</a> for trunk.
</p>
";}i:143;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/152";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/152";s:5:"title";s:85:"#152: UAC dialog doesn't update route_set when calling RFC 2543 UAS (thanks Binu K S)";s:11:"description";s:371:"<p>
Scenario:
</p>
<ul><li>180 response arrives, with a tag and without route set
</li><li>200 response arrives, with the same tag as 180 response, but <strong>with</strong> route set.
</li></ul><p>
In this case, dialog <strong>MUST</strong> update the route set, according to section 13.2.2.4 of RFC 3261.
</p>
<p>
Thanks Binu K S for reporting and observing this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/152#changelog";s:7:"summary";s:371:"<p>
Scenario:
</p>
<ul><li>180 response arrives, with a tag and without route set
</li><li>200 response arrives, with the same tag as 180 response, but <strong>with</strong> route set.
</li></ul><p>
In this case, dialog <strong>MUST</strong> update the route set, according to section 13.2.2.4 of RFC 3261.
</p>
<p>
Thanks Binu K S for reporting and observing this.
</p>
";}i:144;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/153";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/153";s:5:"title";s:85:"#153: UAC dialog doesn't update route_set when calling RFC 2543 UAS (thanks Binu K S)";s:11:"description";s:220:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/152" title="UAC dialog doesn't update route_set when calling RFC 2543 UAS (thanks Binu  ... (closed)">#152</a> for trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/153#changelog";s:7:"summary";s:220:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/152" title="UAC dialog doesn't update route_set when calling RFC 2543 UAS (thanks Binu  ... (closed)">#152</a> for trunk.
</p>
";}i:145;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/155";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/155";s:5:"title";s:32:"#155: STUN FINGERPRINT attribute";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/155#changelog";}i:146;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/156";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/156";s:5:"title";s:79:"#156: Not enough memory to parse DNS packets in resolver (thanks Frank Wiersma)";s:11:"description";s:92:"<p>
The DNS resolver encounters PJ_ENOMEM error when parsing and duplicating response.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/156#changelog";s:7:"summary";s:92:"<p>
The DNS resolver encounters PJ_ENOMEM error when parsing and duplicating response.
</p>
";}i:147;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/157";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/157";s:5:"title";s:79:"#157: Not enough memory to parse DNS packets in resolver (thanks Frank Wiersma)";s:11:"description";s:214:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/156" title="Not enough memory to parse DNS packets in resolver (thanks Frank Wiersma) (closed)">#156</a> for trunk.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/157#changelog";s:7:"summary";s:214:"<p>
This is copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/156" title="Not enough memory to parse DNS packets in resolver (thanks Frank Wiersma) (closed)">#156</a> for trunk.
</p>
";}i:148;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/158";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/158";s:5:"title";s:78:"#158: Allow sound device selection in pjsua application (thanks Michael Smith)";s:11:"description";s:180:"<p>
Add <tt>--playback-dev</tt> and <tt>--capture-dev</tt> options in pjsua to select sound devices to use.
</p>
<p>
Thanks Michael Smith (msmith at cbnco.com) for the patch!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/158#changelog";s:7:"summary";s:180:"<p>
Add <tt>--playback-dev</tt> and <tt>--capture-dev</tt> options in pjsua to select sound devices to use.
</p>
<p>
Thanks Michael Smith (msmith at cbnco.com) for the patch!
</p>
";}i:149;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/159";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/159";s:5:"title";s:78:"#159: Allow sound device selection in pjsua application (thanks Michael Smith)";s:11:"description";s:180:"<p>
Add <tt>--playback-dev</tt> and <tt>--capture-dev</tt> options in pjsua to select sound devices to use.
</p>
<p>
Thanks Michael Smith (msmith at cbnco.com) for the patch!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/159#changelog";s:7:"summary";s:180:"<p>
Add <tt>--playback-dev</tt> and <tt>--capture-dev</tt> options in pjsua to select sound devices to use.
</p>
<p>
Thanks Michael Smith (msmith at cbnco.com) for the patch!
</p>
";}i:150;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/163";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/163";s:5:"title";s:94:"#163: Bug in pjmedia_stream_resume() not resuming the stream (thanks PurnaChandar and Carmine)";s:11:"description";s:505:"<p>
There is a bug in <tt>pjmedia_stream_resume()</tt>, it sets the <tt>paused</tt> flag to 1 while it should reset it to zero!!
</p>
<p>
While were at it, also fix the following:
</p>
<ul><li>when <tt>pjmedia_stream_pause()</tt> is called, jitter buffer should be reset so that any left-over frames will be cleared (otherwise it would be played next time <tt>pjmedia_stream_resume()</tt> is called).
</li><li>during pause state, any incoming RTP packets should not be put in the jitter buffer.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/163#changelog";s:7:"summary";s:505:"<p>
There is a bug in <tt>pjmedia_stream_resume()</tt>, it sets the <tt>paused</tt> flag to 1 while it should reset it to zero!!
</p>
<p>
While were at it, also fix the following:
</p>
<ul><li>when <tt>pjmedia_stream_pause()</tt> is called, jitter buffer should be reset so that any left-over frames will be cleared (otherwise it would be played next time <tt>pjmedia_stream_resume()</tt> is called).
</li><li>during pause state, any incoming RTP packets should not be put in the jitter buffer.
</li></ul>";}i:151;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/164";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/164";s:5:"title";s:94:"#164: Bug in pjmedia_stream_resume() not resuming the stream (thanks PurnaChandar and Carmine)";s:11:"description";s:724:"<p>
(this is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/163" title="Bug in pjmedia_stream_resume() not resuming the stream (thanks  ... (closed)">#163</a> for the trunk).
</p>
<p>
There is a bug in <tt>pjmedia_stream_resume()</tt>, it sets the <tt>paused</tt> flag to 1 while it should reset it to zero!!
</p>
<p>
While were at it, also fix the following:
</p>
<ul><li>when <tt>pjmedia_stream_pause()</tt> is called, jitter buffer should be reset so that any left-over frames will be cleared (otherwise it would be played next time <tt>pjmedia_stream_resume()</tt> is called).
</li><li>during pause state, any incoming RTP packets should not be put in the jitter buffer.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/164#changelog";s:7:"summary";s:724:"<p>
(this is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/163" title="Bug in pjmedia_stream_resume() not resuming the stream (thanks  ... (closed)">#163</a> for the trunk).
</p>
<p>
There is a bug in <tt>pjmedia_stream_resume()</tt>, it sets the <tt>paused</tt> flag to 1 while it should reset it to zero!!
</p>
<p>
While were at it, also fix the following:
</p>
<ul><li>when <tt>pjmedia_stream_pause()</tt> is called, jitter buffer should be reset so that any left-over frames will be cleared (otherwise it would be played next time <tt>pjmedia_stream_resume()</tt> is called).
</li><li>during pause state, any incoming RTP packets should not be put in the jitter buffer.
</li></ul>";}i:152;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/165";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/165";s:5:"title";s:62:"#165: Updated config.sub to support new targets (eg. blackfin)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/165#changelog";}i:153;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/166";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/166";s:5:"title";s:62:"#166: Updated config.sub to support new targets (eg. blackfin)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/166#changelog";}i:154;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/168";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/168";s:5:"title";s:75:"#168: Easier Makefile writing for application to build against PJ libraries";s:11:"description";s:203:"<p>
The PJ's makefile should define variables to be used by applications, so that application can just include this <tt>build.mak</tt> file to get the required CFLAGS, LDFLAGS, LDLIBS, etc. values.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/168#changelog";s:7:"summary";s:203:"<p>
The PJ's makefile should define variables to be used by applications, so that application can just include this <tt>build.mak</tt> file to get the required CFLAGS, LDFLAGS, LDLIBS, etc. values.
</p>
";}i:155;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/169";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/169";s:5:"title";s:75:"#169: Easier Makefile writing for application to build against PJ libraries";s:11:"description";s:203:"<p>
The PJ's makefile should define variables to be used by applications, so that application can just include this <tt>build.mak</tt> file to get the required CFLAGS, LDFLAGS, LDLIBS, etc. values.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/169#changelog";s:7:"summary";s:203:"<p>
The PJ's makefile should define variables to be used by applications, so that application can just include this <tt>build.mak</tt> file to get the required CFLAGS, LDFLAGS, LDLIBS, etc. values.
</p>
";}i:156;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/170";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/170";s:5:"title";s:41:"#170: DNS SRV resolution for STUN servers";s:11:"description";s:110:"<p>
Implement DNS SRV resolution for:
</p>
<ul><li>Binding discovery
</li><li>TURN server discovery
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/170#changelog";s:7:"summary";s:110:"<p>
Implement DNS SRV resolution for:
</p>
<ul><li>Binding discovery
</li><li>TURN server discovery
</li></ul>";}i:157;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/171";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/171";s:5:"title";s:61:"#171: SDP media direction negotiation bug (thanks Phil Torre)";s:11:"description";s:408:"<p>
The SDP negotiator (sdp_neg.c) in pjmedia ignores the local media direction preference for some cases and just responding according to remote's preference. For example, when remote asks for <tt>"sendrecv"</tt>, local will respond with <tt>"sendrecv"</tt> as well even when the local SDP was created with <tt>"sendonly"</tt> or even <tt>"inactive"</tt>
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/171#changelog";s:7:"summary";s:408:"<p>
The SDP negotiator (sdp_neg.c) in pjmedia ignores the local media direction preference for some cases and just responding according to remote's preference. For example, when remote asks for <tt>"sendrecv"</tt>, local will respond with <tt>"sendrecv"</tt> as well even when the local SDP was created with <tt>"sendonly"</tt> or even <tt>"inactive"</tt>
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";}i:158;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/172";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/172";s:5:"title";s:61:"#172: SDP media direction negotiation bug (thanks Phil Torre)";s:11:"description";s:377:"<p>
This is the copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/171" title="SDP media direction negotiation bug (thanks Phil Torre) (closed)">#171</a> for trunk. See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/171" title="SDP media direction negotiation bug (thanks Phil Torre) (closed)">#171</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/172#changelog";s:7:"summary";s:377:"<p>
This is the copy of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/171" title="SDP media direction negotiation bug (thanks Phil Torre) (closed)">#171</a> for trunk. See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/171" title="SDP media direction negotiation bug (thanks Phil Torre) (closed)">#171</a> for details.
</p>
";}i:159;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/174";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/174";s:5:"title";s:107:"#174: GSM codec factory does not shutdown properly causing it to fail on next  pjsua_init (thanks Binu K S)";s:11:"description";s:614:"<p>
The GSM codec factory refuses to shutdown itself when there are outstanding codecs in the cache, but this would always be the case if the GSM codec has ever been used! This would cause the factory to fail to unregister itself from the codec manager, and it will cause next call to get "Invalid RTP PT" error.
</p>
<p>
See this thread for reference:
<a class="ext-link" href="http://www.pjsip.org/pipermail/pjsip/2007-March/002523.html"><span class="icon">http://www.pjsip.org/pipermail/pjsip/2007-March/002523.html</span></a>
</p>
<p>
Thanks Binu KS &lt;binuks at gmail&gt; for reporting and fixing this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/174#changelog";s:7:"summary";s:614:"<p>
The GSM codec factory refuses to shutdown itself when there are outstanding codecs in the cache, but this would always be the case if the GSM codec has ever been used! This would cause the factory to fail to unregister itself from the codec manager, and it will cause next call to get "Invalid RTP PT" error.
</p>
<p>
See this thread for reference:
<a class="ext-link" href="http://www.pjsip.org/pipermail/pjsip/2007-March/002523.html"><span class="icon">http://www.pjsip.org/pipermail/pjsip/2007-March/002523.html</span></a>
</p>
<p>
Thanks Binu KS &lt;binuks at gmail&gt; for reporting and fixing this.
</p>
";}i:160;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/175";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/175";s:5:"title";s:106:"#175: GSM codec factory does not shutdown properly causing it to fail on next pjsua_init (thanks Binu K S)";s:11:"description";s:208:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/174" title="GSM codec factory does not shutdown properly causing it to fail on next   ... (closed)">#174</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/175#changelog";s:7:"summary";s:208:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/174" title="GSM codec factory does not shutdown properly causing it to fail on next   ... (closed)">#174</a> for details.
</p>
";}i:161;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/178";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/178";s:5:"title";s:93:"#178: Add flag in SDP negotiator to specify codec order preference (thanks Esbjrn Dominique)";s:11:"description";s:273:"<p>
Currently the SDP negotiator always obey the codec preference as specified by remote. Some applications may want to use local preference instead, so there should be a flag to be set in negotiator to specify which codec preference to use when negotiating the SDPs.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/178#changelog";s:7:"summary";s:273:"<p>
Currently the SDP negotiator always obey the codec preference as specified by remote. Some applications may want to use local preference instead, so there should be a flag to be set in negotiator to specify which codec preference to use when negotiating the SDPs.
</p>
";}i:162;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/179";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/179";s:5:"title";s:98:"#179: SDP negotiation failed when local doesn't specify telephone-event (thanks Esbjrn Dominique)";s:11:"description";s:133:"<p>
SDP negotiation will fail if remote has offered <tt>telephone-event</tt> and <tt>telephone-event</tt> is disabled in local.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/179#changelog";s:7:"summary";s:133:"<p>
SDP negotiation will fail if remote has offered <tt>telephone-event</tt> and <tt>telephone-event</tt> is disabled in local.
</p>
";}i:163;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/180";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/180";s:5:"title";s:113:"#180: Failed compilation because usleep() doesn't return int on some *nix platforms (thanks Jukka-Pekka Kervinen)";s:11:"description";s:298:"<p>
Turns out that <tt>usleep()</tt> doesn't return <strong>int</strong> on some platform (e.g. Slackware 7.1, gcc 3.0, linux-2.4.19), causing <tt>os_core_unix.c</tt> compilation to fail because it checks for <tt>usleep()</tt> return value.
</p>
<p>
Thanks Jukka-Pekka Kervinen for reporting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/180#changelog";s:7:"summary";s:298:"<p>
Turns out that <tt>usleep()</tt> doesn't return <strong>int</strong> on some platform (e.g. Slackware 7.1, gcc 3.0, linux-2.4.19), causing <tt>os_core_unix.c</tt> compilation to fail because it checks for <tt>usleep()</tt> return value.
</p>
<p>
Thanks Jukka-Pekka Kervinen for reporting.
</p>
";}i:164;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/181";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/181";s:5:"title";s:113:"#181: Failed compilation because usleep() doesn't return int on some *nix platforms (thanks Jukka-Pekka Kervinen)";s:11:"description";s:203:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/180" title="Failed compilation because usleep() doesn't return int on some *nix  ... (closed)">#180</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/181#changelog";s:7:"summary";s:203:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/180" title="Failed compilation because usleep() doesn't return int on some *nix  ... (closed)">#180</a> for details.
</p>
";}i:165;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/182";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/182";s:5:"title";s:98:"#182: SDP negotiation failed when local doesn't specify telephone-event (thanks Esbjrn Dominique)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/182#changelog";}i:166;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/183";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/183";s:5:"title";s:93:"#183: Add flag in SDP negotiator to specify codec order preference (thanks Esbjrn Dominique)";s:11:"description";s:204:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/178" title="Add flag in SDP negotiator to specify codec order preference (thanks  ... (closed)">#178</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/183#changelog";s:7:"summary";s:204:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/178" title="Add flag in SDP negotiator to specify codec order preference (thanks  ... (closed)">#178</a> for details.
</p>
";}i:167;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/187";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/187";s:5:"title";s:88:"#187: Bug with destination address calculation for strict route set (thanks Hoi-Ho Chan)";s:11:"description";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/186" title="Bug with destination address calculation for strict route set (thanks  ... (closed)">#186</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/187#changelog";s:7:"summary";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/186" title="Bug with destination address calculation for strict route set (thanks  ... (closed)">#186</a>.
</p>
";}i:168;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/188";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/188";s:5:"title";s:71:"#188: Error parsing compact form of SIP header (thanks Tobias Sreling)";s:11:"description";s:125:"<p>
The parser failed to parse compact form of Via (v), Content-Type (c), Content-Length (l), and Call-ID (i) headers. 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/188#changelog";s:7:"summary";s:125:"<p>
The parser failed to parse compact form of Via (v), Content-Type (c), Content-Length (l), and Call-ID (i) headers. 
</p>
";}i:169;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/189";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/189";s:5:"title";s:71:"#189: Error parsing compact form of SIP header (thanks Tobias Sreling)";s:11:"description";s:184:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/188" title="Error parsing compact form of SIP header (thanks Tobias Sreling) (closed)">#188</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/189#changelog";s:7:"summary";s:184:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/188" title="Error parsing compact form of SIP header (thanks Tobias Sreling) (closed)">#188</a>.
</p>
";}i:170;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/190";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/190";s:5:"title";s:95:"#190: PUBLISH request in pjsua is not initialized with account's route set (thanks Nicholas Xu)";s:11:"description";s:184:"<p>
The presence publication session is not initialized with account's route set, causing the PUBLISH request to be sent directly to server even when --outbound or --proxy exist.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/190#changelog";s:7:"summary";s:184:"<p>
The presence publication session is not initialized with account's route set, causing the PUBLISH request to be sent directly to server even when --outbound or --proxy exist.
</p>
";}i:171;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/191";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/191";s:5:"title";s:95:"#191: PUBLISH request in pjsua is not initialized with account's route set (thanks Nicholas Xu)";s:11:"description";s:192:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/190" title="PUBLISH request in pjsua is not initialized with account's route set  ... (closed)">#190</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/191#changelog";s:7:"summary";s:192:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/190" title="PUBLISH request in pjsua is not initialized with account's route set  ... (closed)">#190</a>.
</p>
";}i:172;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/192";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/192";s:5:"title";s:138:"#192: Add callback to notify application about incoming SUBSCRIBE request, and add subscription state and termination reason in buddy info";s:11:"description";s:254:"<p>
Implement callback when incoming SUBSCRIBE is received in pjsua, to allow application to authorize the SUBSCRIBE request. This is useful for example to request authorization from user, and to allow application to add new buddy from the request.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/192#changelog";s:7:"summary";s:254:"<p>
Implement callback when incoming SUBSCRIBE is received in pjsua, to allow application to authorize the SUBSCRIBE request. This is useful for example to request authorization from user, and to allow application to add new buddy from the request.
</p>
";}i:173;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/193";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/193";s:5:"title";s:51:"#193: Implement transport independent ICE framework";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/193#changelog";}i:174;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/194";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/194";s:5:"title";s:46:"#194: Implement UDP based ICE stream transport";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/194#changelog";}i:175;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/195";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/195";s:5:"title";s:55:"#195: --contact command line option is ignored in pjsua";s:11:"description";s:62:"<p>
The <tt>---contact</tt> option was ignored in pjsua.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/195#changelog";s:7:"summary";s:62:"<p>
The <tt>---contact</tt> option was ignored in pjsua.
</p>
";}i:176;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/196";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/196";s:5:"title";s:34:"#196: Implement ICE RTCP component";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/196#changelog";}i:177;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/197";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/197";s:5:"title";s:50:"#197: Cancel pending ICE checks once one succeeded";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/197#changelog";}i:178;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/198";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/198";s:5:"title";s:38:"#198: New error space for STUN and ICE";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/198#changelog";}i:179;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/199";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/199";s:5:"title";s:29:"#199: Handle non-ICE scenario";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/199#changelog";}i:180;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/200";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/200";s:5:"title";s:64:"#200: Omit RTCP attribute in SDP when ICE only has one component";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/200#changelog";}i:181;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/201";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/201";s:5:"title";s:65:"#201: Implement option to control the start port of ICE transport";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/201#changelog";}i:182;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/202";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/202";s:5:"title";s:94:"#202: Fix error when telephone-event is set as the first format in SDP (thanks Chris Hamilton)";s:11:"description";s:352:"<p>
Some client (Gnome ekiga 2.0.3) sends SDP with <tt>telephone-event</tt> as the first format in SDP <tt>m=</tt> line, and this causes pjmedia to raise assertion error in pjmedia_stream_info_from_sdp in pjmedia/session.c:
</p>
<pre class="wiki">pj_assert(PJMEDIA_RTP_PT_TELEPHONE_EVENTS==0 ||
          pt != PJMEDIA_RTP_PT_TELEPHONE_EVENTS);.
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/202#changelog";s:7:"summary";s:352:"<p>
Some client (Gnome ekiga 2.0.3) sends SDP with <tt>telephone-event</tt> as the first format in SDP <tt>m=</tt> line, and this causes pjmedia to raise assertion error in pjmedia_stream_info_from_sdp in pjmedia/session.c:
</p>
<pre class="wiki">pj_assert(PJMEDIA_RTP_PT_TELEPHONE_EVENTS==0 ||
          pt != PJMEDIA_RTP_PT_TELEPHONE_EVENTS);.
</pre>";}i:183;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/203";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/203";s:5:"title";s:94:"#203: Fix error when telephone-event is set as the first format in SDP (thanks Chris Hamilton)";s:11:"description";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/202" title="Fix error when telephone-event is set as the first format in SDP (thanks  ... (closed)">#202</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/203#changelog";s:7:"summary";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/202" title="Fix error when telephone-event is set as the first format in SDP (thanks  ... (closed)">#202</a>.
</p>
";}i:184;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/204";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/204";s:5:"title";s:64:"#204: Implement SIP proxy functionality (including some samples)";s:11:"description";s:305:"<p>
Add proxy related functionalities in PJSIP:
</p>
<ul><li>implement <tt>pjsip_endpt_create_request_fwd()</tt>, <tt>pjsip_endpt_create_response_fwd()</tt>, and <tt>pjsip_calculate_branch_id()</tt> functions as listed in Dev Guide PDF.
</li><li>add stateless and stateful proxy in the samples.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/204#changelog";s:7:"summary";s:305:"<p>
Add proxy related functionalities in PJSIP:
</p>
<ul><li>implement <tt>pjsip_endpt_create_request_fwd()</tt>, <tt>pjsip_endpt_create_response_fwd()</tt>, and <tt>pjsip_calculate_branch_id()</tt> functions as listed in Dev Guide PDF.
</li><li>add stateless and stateful proxy in the samples.
</li></ul>";}i:185;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/205";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/205";s:5:"title";s:64:"#205: Implement SIP proxy functionality (including some samples)";s:11:"description";s:495:"<p>
This is clone of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/204" title="Implement SIP proxy functionality (including some samples) (closed)">#204</a>:
</p>
<p>
Add proxy related functionalities in PJSIP:
</p>
<ul><li>implement <tt>pjsip_endpt_create_request_fwd()</tt>, <tt>pjsip_endpt_create_response_fwd()</tt>, and <tt>pjsip_calculate_branch_id()</tt> functions as listed in Dev Guide PDF.
</li><li>add stateless and stateful proxy in the samples.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/205#changelog";s:7:"summary";s:495:"<p>
This is clone of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/204" title="Implement SIP proxy functionality (including some samples) (closed)">#204</a>:
</p>
<p>
Add proxy related functionalities in PJSIP:
</p>
<ul><li>implement <tt>pjsip_endpt_create_request_fwd()</tt>, <tt>pjsip_endpt_create_response_fwd()</tt>, and <tt>pjsip_calculate_branch_id()</tt> functions as listed in Dev Guide PDF.
</li><li>add stateless and stateful proxy in the samples.
</li></ul>";}i:186;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/206";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/206";s:5:"title";s:68:"#206: Allow single quotes for attributes in XML (thanks Tory Patnoe)";s:11:"description";s:215:"<p>
Patch:
</p>
<blockquote>
<p>
Allow single quotes in XML attributes, and also added <tt>pj_scan_get_quotes()</tt>.
</p>
</blockquote>
<p>
Thanks much Tory Patnoe &lt;tpatnoe at jabber com&gt; for the patch!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/206#changelog";s:7:"summary";s:215:"<p>
Patch:
</p>
<blockquote>
<p>
Allow single quotes in XML attributes, and also added <tt>pj_scan_get_quotes()</tt>.
</p>
</blockquote>
<p>
Thanks much Tory Patnoe &lt;tpatnoe at jabber com&gt; for the patch!
</p>
";}i:187;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/208";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/208";s:5:"title";s:68:"#208: Allow single quotes for attributes in XML (thanks Tory Patnoe)";s:11:"description";s:181:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/206" title="Allow single quotes for attributes in XML (thanks Tory Patnoe) (closed)">#206</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/208#changelog";s:7:"summary";s:181:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/206" title="Allow single quotes for attributes in XML (thanks Tory Patnoe) (closed)">#206</a>.
</p>
";}i:188;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/209";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/209";s:5:"title";s:70:"#209: Added XMLNS for attribute for PIDF document (thanks Tory Patnoe)";s:11:"description";s:183:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/207" title="Added XMLNS for attribute for PIDF document (thanks Tory Patnoe) (closed)">#207</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/209#changelog";s:7:"summary";s:183:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/207" title="Added XMLNS for attribute for PIDF document (thanks Tory Patnoe) (closed)">#207</a>.
</p>
";}i:189;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/210";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/210";s:5:"title";s:69:"#210: Added simple stateless and stateful proxy in samples collection";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/210#changelog";}i:190;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/211";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/211";s:5:"title";s:76:"#211: IM typing indication request is missing route set (thanks Nicholas Xu)";s:11:"description";s:53:"<p>
Thanks Nicholas Xu &lt;xunich gmail com&gt;
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/211#changelog";s:7:"summary";s:53:"<p>
Thanks Nicholas Xu &lt;xunich gmail com&gt;
</p>
";}i:191;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/212";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/212";s:5:"title";s:76:"#212: IM typing indication request is missing route set (thanks Nicholas Xu)";s:11:"description";s:188:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/211" title="IM typing indication request is missing route set (thanks Nicholas Xu) (closed)">#211</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/212#changelog";s:7:"summary";s:188:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/211" title="IM typing indication request is missing route set (thanks Nicholas Xu) (closed)">#211</a>
</p>
";}i:192;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/213";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/213";s:5:"title";s:85:"#213: Error opening sound device is not propagated to application (thanks Paul Levin)";s:11:"description";s:230:"<p>
When pjsua failed to open sound device in <tt>pjsua_start()</tt>, this error is not reported to application, and instead it silently switches to using null sound device.
</p>
<p>
Thanks Paul Levin &lt;paul at apcl us&gt;
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/213#changelog";s:7:"summary";s:230:"<p>
When pjsua failed to open sound device in <tt>pjsua_start()</tt>, this error is not reported to application, and instead it silently switches to using null sound device.
</p>
<p>
Thanks Paul Levin &lt;paul at apcl us&gt;
</p>
";}i:193;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/214";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/214";s:5:"title";s:85:"#214: Error opening sound device is not propagated to application (thanks Paul Levin)";s:11:"description";s:195:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/213" title="Error opening sound device is not propagated to application (thanks Paul  ... (closed)">#213</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/214#changelog";s:7:"summary";s:195:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/213" title="Error opening sound device is not propagated to application (thanks Paul  ... (closed)">#213</a>
</p>
";}i:194;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/215";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/215";s:5:"title";s:66:"#215: Build error when PJ_HAS_TCP is set to zero (thanks ChenHuan)";s:11:"description";s:225:"<p>
<tt>#define PJ_HAS_TCP 0</tt> will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a> &lt;chenhuan at sict.ac.cn&gt;
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/215#changelog";s:7:"summary";s:225:"<p>
<tt>#define PJ_HAS_TCP 0</tt> will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a> &lt;chenhuan at sict.ac.cn&gt;
</p>
";}i:195;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/216";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/216";s:5:"title";s:66:"#216: Build error when PJ_HAS_TCP is set to zero (thanks ChenHuan)";s:11:"description";s:218:"<p>
#define PJ_HAS_TCP 0 will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a>? &lt;chenhuan at sict.ac.cn&gt; 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/216#changelog";s:7:"summary";s:218:"<p>
#define PJ_HAS_TCP 0 will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a>? &lt;chenhuan at sict.ac.cn&gt; 
</p>
";}i:196;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/217";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/217";s:5:"title";s:66:"#217: Build error when PJ_HAS_TCP is set to zero (thanks ChenHuan)";s:11:"description";s:218:"<p>
#define PJ_HAS_TCP 0 will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a>? &lt;chenhuan at sict.ac.cn&gt; 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/217#changelog";s:7:"summary";s:218:"<p>
#define PJ_HAS_TCP 0 will cause many compile/link errors.
</p>
<p>
Thanks <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/ChenHuan" rel="nofollow">ChenHuan?</a>? &lt;chenhuan at sict.ac.cn&gt; 
</p>
";}i:197;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/218";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/218";s:5:"title";s:94:"#218: Bug in hash table when key is PJ_HASH_KEY_STRING and hval is specified (thanks ChenHuan)";s:11:"description";s:596:"<p>
To reproduce:
</p>
<pre class="wiki">    char *key = "hello";
    unsigned hval = 12345;
    pj_hash_set(pool, ht, key, PJ_HASH_KEY_STRING, hval, 1);
    pj_hash_set(pool, ht, key, PJ_HASH_KEY_STRING, hval, 2);
</pre><p>
Upon second <tt>pj_hash_set()</tt> invocation, the function will crash because when <tt>hval</tt> is specified the key length is not calculated, causing <tt>memcmp()</tt> to be called with <tt>-1</tt> argument.
</p>
<p>
Note that this does not affect PJSIP since PJSIP never uses <tt>PJ_HASH_KEY_STRING</tt>.
</p>
<p>
Thanks ChenHuan &lt;chenhuan at sict.ac.cn&gt;.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/218#changelog";s:7:"summary";s:596:"<p>
To reproduce:
</p>
<pre class="wiki">    char *key = "hello";
    unsigned hval = 12345;
    pj_hash_set(pool, ht, key, PJ_HASH_KEY_STRING, hval, 1);
    pj_hash_set(pool, ht, key, PJ_HASH_KEY_STRING, hval, 2);
</pre><p>
Upon second <tt>pj_hash_set()</tt> invocation, the function will crash because when <tt>hval</tt> is specified the key length is not calculated, causing <tt>memcmp()</tt> to be called with <tt>-1</tt> argument.
</p>
<p>
Note that this does not affect PJSIP since PJSIP never uses <tt>PJ_HASH_KEY_STRING</tt>.
</p>
<p>
Thanks ChenHuan &lt;chenhuan at sict.ac.cn&gt;.
</p>
";}i:198;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/219";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/219";s:5:"title";s:94:"#219: Bug in hash table when key is PJ_HASH_KEY_STRING and hval is specified (thanks ChenHuan)";s:11:"description";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/218" title="Bug in hash table when key is PJ_HASH_KEY_STRING and hval is specified  ... (closed)">#218</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/219#changelog";s:7:"summary";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/218" title="Bug in hash table when key is PJ_HASH_KEY_STRING and hval is specified  ... (closed)">#218</a>
</p>
";}i:199;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/220";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/220";s:5:"title";s:98:"#220: Bug in retransmission of non-INVITE SIP requests in UAC transaction (thanks Martin Peterzon)";s:11:"description";s:307:"<p>
Previously, the non-INVITE UAC transaction would stop retransmitting the request upon receiving provisional response, and it would also stop the timeout timer. This is wrong, according to RFC 3261 Section 17.1.2 Non-INVITE Client Transaction.
</p>
<p>
Thanks Martin Peterzon for pointing this out.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/220#changelog";s:7:"summary";s:307:"<p>
Previously, the non-INVITE UAC transaction would stop retransmitting the request upon receiving provisional response, and it would also stop the timeout timer. This is wrong, according to RFC 3261 Section 17.1.2 Non-INVITE Client Transaction.
</p>
<p>
Thanks Martin Peterzon for pointing this out.
</p>
";}i:200;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/221";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/221";s:5:"title";s:98:"#221: Bug in retransmission of non-INVITE SIP requests in UAC transaction (thanks Martin Peterzon)";s:11:"description";s:191:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/220" title="Bug in retransmission of non-INVITE SIP requests in UAC transaction  ... (closed)">#220</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/221#changelog";s:7:"summary";s:191:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/220" title="Bug in retransmission of non-INVITE SIP requests in UAC transaction  ... (closed)">#220</a>.
</p>
";}i:201;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/222";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/222";s:5:"title";s:23:"#222: Added pj_strtoul2";s:11:"description";s:120:"<p>
.. to convert string to integer with 10 or 16 base and when the string may not contain all numeric characters.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/222#changelog";s:7:"summary";s:120:"<p>
.. to convert string to integer with 10 or 16 base and when the string may not contain all numeric characters.
</p>
";}i:202;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/223";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/223";s:5:"title";s:23:"#223: Added pj_strtoul2";s:11:"description";s:135:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/222" title="Added pj_strtoul2 (closed)">#222</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/223#changelog";s:7:"summary";s:135:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/222" title="Added pj_strtoul2 (closed)">#222</a>
</p>
";}i:203;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/224";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/224";s:5:"title";s:56:"#224: Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot)";s:11:"description";s:172:"<p>
There is a bug in format comparison in this function and it may return the wrong SDP attribute in some cases.
</p>
<p>
Thanks Geoff Talbot of Tieline for the fix.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/224#changelog";s:7:"summary";s:172:"<p>
There is a bug in format comparison in this function and it may return the wrong SDP attribute in some cases.
</p>
<p>
Thanks Geoff Talbot of Tieline for the fix.
</p>
";}i:204;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/225";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/225";s:5:"title";s:56:"#225: Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot)";s:11:"description";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/224" title="Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot) (closed)">#224</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/225#changelog";s:7:"summary";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/224" title="Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot) (closed)">#224</a>
</p>
";}i:205;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/226";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/226";s:5:"title";s:56:"#226: Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot)";s:11:"description";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/224" title="Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot) (closed)">#224</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/226#changelog";s:7:"summary";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/224" title="Bug in pjmedia_sdp_attr_find (thanks Geoff Talbot) (closed)">#224</a>
</p>
";}i:206;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/227";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/227";s:5:"title";s:84:"#227: Unresolved error in alaw/ulaw conversion with C++ build (thanks Alain Totouom)";s:11:"description";s:216:"<p>
<tt>pjmedia/alaw_ulaw.h</tt> is missing <tt>PJ_BEGIN/END_DECL</tt> constructs, causing unresolved error when it is used by C++ function.
</p>
<p>
Thanks Alain Totouom &lt;atotouom at gmx de&gt; for the fix.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/227#changelog";s:7:"summary";s:216:"<p>
<tt>pjmedia/alaw_ulaw.h</tt> is missing <tt>PJ_BEGIN/END_DECL</tt> constructs, causing unresolved error when it is used by C++ function.
</p>
<p>
Thanks Alain Totouom &lt;atotouom at gmx de&gt; for the fix.
</p>
";}i:207;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/228";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/228";s:5:"title";s:84:"#228: Unresolved error in alaw/ulaw conversion with C++ build (thanks Alain Totouom)";s:11:"description";s:192:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/227" title="Unresolved error in alaw/ulaw conversion with C++ build (thanks Alain  ... (closed)">#227</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/228#changelog";s:7:"summary";s:192:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/227" title="Unresolved error in alaw/ulaw conversion with C++ build (thanks Alain  ... (closed)">#227</a>
</p>
";}i:208;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/229";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/229";s:5:"title";s:59:"#229: Added make install command (thanks Jan Nieuwenhuizen)";s:11:"description";s:135:"<p>
Added <tt>make install</tt> command in the Makefile.
</p>
<p>
Thanks Jan Nieuwenhuizen &lt;janneke gnu org&gt; for the patch!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/229#changelog";s:7:"summary";s:135:"<p>
Added <tt>make install</tt> command in the Makefile.
</p>
<p>
Thanks Jan Nieuwenhuizen &lt;janneke gnu org&gt; for the patch!
</p>
";}i:209;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/230";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/230";s:5:"title";s:59:"#230: Added make install command (thanks Jan Nieuwenhuizen)";s:11:"description";s:171:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/229" title="Added make install command (thanks Jan Nieuwenhuizen) (closed)">#229</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/230#changelog";s:7:"summary";s:171:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/229" title="Added make install command (thanks Jan Nieuwenhuizen) (closed)">#229</a>
</p>
";}i:210;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/234";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/234";s:5:"title";s:94:"#234: Crash in console application when invalid command line is given (thanks Roland Klabunde)";s:11:"description";s:162:"<p>
This is because when invalid command line is given, getopt() will return '?' (ASCII 63) character, which happens to be the option index for --play-file.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/234#changelog";s:7:"summary";s:162:"<p>
This is because when invalid command line is given, getopt() will return '?' (ASCII 63) character, which happens to be the option index for --play-file.
</p>
";}i:211;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/236";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/236";s:5:"title";s:94:"#236: Crash in console application when invalid command line is given (thanks Roland Klabunde)";s:11:"description";s:195:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/235" title="Crash in console application when invalid command line is given (thanks  ... (closed)">#235</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/236#changelog";s:7:"summary";s:195:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/235" title="Crash in console application when invalid command line is given (thanks  ... (closed)">#235</a>.
</p>
";}i:212;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/237";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/237";s:5:"title";s:26:"#237: -- invalid ticket --";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/237#changelog";}i:213;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/238";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/238";s:5:"title";s:78:"#238: Fix interop problem: some endpoints send ":" character in Via parameters";s:11:"description";s:139:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/237" title="-- invalid ticket -- (closed)">#237</a>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/238#changelog";s:7:"summary";s:139:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/237" title="-- invalid ticket -- (closed)">#237</a>.
</p>
";}i:214;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/241";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/241";s:5:"title";s:56:"#241: Crash on Windows when no sound device is available";s:11:"description";s:101:"<p>
Crash upon shutting down PJSUA application when no sound device is available on the system.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/241#changelog";s:7:"summary";s:101:"<p>
Crash upon shutting down PJSUA application when no sound device is available on the system.
</p>
";}i:215;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/242";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/242";s:5:"title";s:56:"#242: Crash on Windows when no sound device is available";s:11:"description";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/241" title="Crash on Windows when no sound device is available (closed)">#241</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/242#changelog";s:7:"summary";s:168:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/241" title="Crash on Windows when no sound device is available (closed)">#241</a>
</p>
";}i:216;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/243";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/243";s:5:"title";s:33:"#243: Port PJLIB trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/243#changelog";}i:217;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/244";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/244";s:5:"title";s:66:"#244: Fix PJLIB's resolver not able to resolve anything in Symbian";s:11:"description";s:337:"<p>
The Symbian DNS problem can be resolved by not using
</p>
<pre class="wiki">  const TNameRecord &amp;rec = (const TNameRecord&amp;) nameEntry;
</pre><p>
in pj_gethostbyname(). Instead you can get the information
directly from nameEntry with the following syntax:
</p>
<pre class="wiki">  TInetAddr inetAddr(nameEntry().iAddr);
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/244#changelog";s:7:"summary";s:337:"<p>
The Symbian DNS problem can be resolved by not using
</p>
<pre class="wiki">  const TNameRecord &amp;rec = (const TNameRecord&amp;) nameEntry;
</pre><p>
in pj_gethostbyname(). Instead you can get the information
directly from nameEntry with the following syntax:
</p>
<pre class="wiki">  TInetAddr inetAddr(nameEntry().iAddr);
</pre>";}i:218;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/245";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/245";s:5:"title";s:38:"#245: Port PJLIB-TEST trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/245#changelog";}i:219;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/246";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/246";s:5:"title";s:72:"#246: Modify PJLIB timer_heap in Symbian to use Symbian's Active objects";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/246#changelog";}i:220;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/247";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/247";s:5:"title";s:49:"#247: Deprecate the use of ANY POLLING in Symbian";s:11:"description";s:55:"<p>
This includes timer heap and ioqueue polling.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/247#changelog";s:7:"summary";s:55:"<p>
This includes timer heap and ioqueue polling.
</p>
";}i:221;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/248";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/248";s:5:"title";s:38:"#248: Strayed socket signal in Symbian";s:11:"description";s:267:"<p>
We have three options here:
</p>
<pre class="wiki">1)
    SetActive();
    RSocket.Recv();

2)
    RSocket.Recv();
    SetActive();

3)
    RSocket.Recv();
    if (iStatus == KRequestPending)
      SetActive();
</pre><p>
The correct option seems to be no 2.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/248#changelog";s:7:"summary";s:267:"<p>
We have three options here:
</p>
<pre class="wiki">1)
    SetActive();
    RSocket.Recv();

2)
    RSocket.Recv();
    SetActive();

3)
    RSocket.Recv();
    if (iStatus == KRequestPending)
      SetActive();
</pre><p>
The correct option seems to be no 2.
</p>
";}i:222;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/249";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/249";s:5:"title";s:48:"#249: Problems with big memory blocks in Symbian";s:11:"description";s:278:"<p>
Symbian looks to having troubles when there are too many big blocks allocated by application, and unfortunately PJ likes to allocate memory in big blocks (4000 bytes or so) for the pool.
</p>
<p>
The solution is to have the block size configurable during compile time.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/249#changelog";s:7:"summary";s:278:"<p>
Symbian looks to having troubles when there are too many big blocks allocated by application, and unfortunately PJ likes to allocate memory in big blocks (4000 bytes or so) for the pool.
</p>
<p>
The solution is to have the block size configurable during compile time.
</p>
";}i:223;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/250";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/250";s:5:"title";s:44:"#250: Problems with byte ordering in Symbian";s:11:"description";s:1136:"<p>
Problem:
</p>
<blockquote class="citation">
<p>
 We are having problems with STUN in Symbian. It seems like
 STUN request packets do not have the correct format. When
 using Windows Mobile, STUN data starts with 0x0001 (Binding
 Request); when using Symbian, STUN data starts with 0x0100 -
 which does not seem correct.
</p>
</blockquote>
<p>
Presently, pj_htons() is a no-op (pj/sock_symbian.cpp:219):
</p>
<pre class="wiki">/*
 * Convert 16-bit value from host byte order to network byte order.
 */
PJ_DEF(pj_uint16_t) pj_htons(pj_uint16_t hostshort)
{
  /* There's no difference in host/network byte order in Symbian */
  return hostshort;
}
</pre><p>
We have a deeper problem here. While it's true that the integers in TInetAddr are in host order (therefore pj_ntohx() and pj_htonx() can be made no-op), the pj_ntohx()/pj_htonx() are used by other functions so they must convert the host/network orders correctly.
</p>
<p>
For now, a quick fix is to replace pj_htonx()/pj_ntohx() calls in STUN with something like swap16() and swap32(). Apart from this, unnfortunately pj_ntohx/pj_htonx are used in RTP and RTCP as well.. 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/250#changelog";s:7:"summary";s:1136:"<p>
Problem:
</p>
<blockquote class="citation">
<p>
 We are having problems with STUN in Symbian. It seems like
 STUN request packets do not have the correct format. When
 using Windows Mobile, STUN data starts with 0x0001 (Binding
 Request); when using Symbian, STUN data starts with 0x0100 -
 which does not seem correct.
</p>
</blockquote>
<p>
Presently, pj_htons() is a no-op (pj/sock_symbian.cpp:219):
</p>
<pre class="wiki">/*
 * Convert 16-bit value from host byte order to network byte order.
 */
PJ_DEF(pj_uint16_t) pj_htons(pj_uint16_t hostshort)
{
  /* There's no difference in host/network byte order in Symbian */
  return hostshort;
}
</pre><p>
We have a deeper problem here. While it's true that the integers in TInetAddr are in host order (therefore pj_ntohx() and pj_htonx() can be made no-op), the pj_ntohx()/pj_htonx() are used by other functions so they must convert the host/network orders correctly.
</p>
<p>
For now, a quick fix is to replace pj_htonx()/pj_ntohx() calls in STUN with something like swap16() and swap32(). Apart from this, unnfortunately pj_ntohx/pj_htonx are used in RTP and RTCP as well.. 
</p>
";}i:224;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/251";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/251";s:5:"title";s:38:"#251: Memory leak problem with Symbian";s:11:"description";s:454:"<p>
Report:
</p>
<blockquote class="citation">
<p>
 I am suspecting that PjSip has two memory leaks in INVITE
 transactions when PjSip is the UAC. 

 (1) One leak seems to be from
 pjsip_endpt_create_request_from_hdr(), called from
 pjsip_endpt_create_ack() - that is when constructing ACK for
 3xx-6xx final response.

 (2) Another leak seems to be when allocating a buffer in
 mod_on_tx_msg(). This buffer never seems to be removed.
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/251#changelog";s:7:"summary";s:454:"<p>
Report:
</p>
<blockquote class="citation">
<p>
 I am suspecting that PjSip has two memory leaks in INVITE
 transactions when PjSip is the UAC. 

 (1) One leak seems to be from
 pjsip_endpt_create_request_from_hdr(), called from
 pjsip_endpt_create_ack() - that is when constructing ACK for
 3xx-6xx final response.

 (2) Another leak seems to be when allocating a buffer in
 mod_on_tx_msg(). This buffer never seems to be removed.
</p>
</blockquote>
";}i:225;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/252";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/252";s:5:"title";s:36:"#252: Route header issues on Symbian";s:11:"description";s:686:"<p>
When adding Route-header to the outgoing request, registration and dialling is working fine, but the stack crashes when cancelling an invite before the other peer answers.
</p>
<p>
 
Last print out is:
</p>
<pre class="wiki">2007-04-20 09:12:50.638  09:12:50.055     endpoint Request msg CANCEL/cseq=1593183045 (tdta0x765870) created.
</pre><p>
When making a print_on of the hdr in sip_util.c:598 then the value is correct.
</p>
<p>
 
</p>
<p>
And the crash is in pjsip_endpt_create_cancel method, here follows the call stack:
</p>
<pre class="wiki">sip_util.c:600 pjsip_msg_add_hdr
sip_msg.c:451 pjsip_hdr_clone
sip_msg.c:1475 init_hdr
print_util.h:109 hdr-&gt;type = htype;
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/252#changelog";s:7:"summary";s:686:"<p>
When adding Route-header to the outgoing request, registration and dialling is working fine, but the stack crashes when cancelling an invite before the other peer answers.
</p>
<p>
 
Last print out is:
</p>
<pre class="wiki">2007-04-20 09:12:50.638  09:12:50.055     endpoint Request msg CANCEL/cseq=1593183045 (tdta0x765870) created.
</pre><p>
When making a print_on of the hdr in sip_util.c:598 then the value is correct.
</p>
<p>
 
</p>
<p>
And the crash is in pjsip_endpt_create_cancel method, here follows the call stack:
</p>
<pre class="wiki">sip_util.c:600 pjsip_msg_add_hdr
sip_msg.c:451 pjsip_hdr_clone
sip_msg.c:1475 init_hdr
print_util.h:109 hdr-&gt;type = htype;
</pre>";}i:226;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/253";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/253";s:5:"title";s:39:"#253: Port PJLIB-UTIL  trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/253#changelog";}i:227;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/254";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/254";s:5:"title";s:41:"#254: Port PJSTUN-CLIENT trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/254#changelog";}i:228;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/255";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/255";s:5:"title";s:34:"#255: Port PJNATH trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/255#changelog";}i:229;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/256";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/256";s:5:"title";s:38:"#256: Port PJSIP-CORE trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/256#changelog";}i:230;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/257";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/257";s:5:"title";s:40:"#257: Port PJSIP-SIMPLE trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/257#changelog";}i:231;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/258";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/258";s:5:"title";s:36:"#258: Port PJSIP-UA trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/258#changelog";}i:232;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/259";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/259";s:5:"title";s:35:"#259: Port PJMEDIA trunk to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/259#changelog";}i:233;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/260";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/260";s:5:"title";s:31:"#260: Port PJSUA-LIB to Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/260#changelog";}i:234;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/261";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/261";s:5:"title";s:48:"#261: Simple PJSUA based application for Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/261#changelog";}i:235;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/263";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/263";s:5:"title";s:69:"#263: Cannot call TCP's pj_ioqueue_accept() more than once in Symbian";s:11:"description";s:519:"<p>
Calling <tt>pj_ioqueue_accept()</tt> more than once will cause assertion error in <tt>ioqueue_symbian.cpp</tt>:
</p>
<pre class="wiki">pj_status_t CIoqueueCallback::StartAccept(pj_ioqueue_op_key_t *op_key,
					  pj_sock_t *new_sock,
					  pj_sockaddr_t *local,
					  pj_sockaddr_t *remote,
					  int *addrlen )
{
    PJ_ASSERT_RETURN(IsActive()==false, PJ_EBUSY);

</pre><p>
To reproduce this bug, set <tt>MAX_PAIR</tt> to more than one in <tt>compliance_test_2()</tt> in <tt>ioq_tcp.c</tt> in pjlib-test.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/263#changelog";s:7:"summary";s:519:"<p>
Calling <tt>pj_ioqueue_accept()</tt> more than once will cause assertion error in <tt>ioqueue_symbian.cpp</tt>:
</p>
<pre class="wiki">pj_status_t CIoqueueCallback::StartAccept(pj_ioqueue_op_key_t *op_key,
					  pj_sock_t *new_sock,
					  pj_sockaddr_t *local,
					  pj_sockaddr_t *remote,
					  int *addrlen )
{
    PJ_ASSERT_RETURN(IsActive()==false, PJ_EBUSY);

</pre><p>
To reproduce this bug, set <tt>MAX_PAIR</tt> to more than one in <tt>compliance_test_2()</tt> in <tt>ioq_tcp.c</tt> in pjlib-test.
</p>
";}i:236;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/264";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/264";s:5:"title";s:61:"#264: UDP connect()/send() fails with Symbian S60 3rd Edition";s:11:"description";s:342:"<p>
Normally we should be able to call UDP connect() and just call send(). This however will trigger exception on Symbian S60 3rd Edition, for both the base and MR2 version.
</p>
<p>
The PJLIB test to reproduce this is:
</p>
<ul><li><tt>udp_test()</tt> in <tt>sock.c</tt>.
</li><li><tt>sock_perf_test()</tt> in <tt>sock_perf.c</tt>
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/264#changelog";s:7:"summary";s:342:"<p>
Normally we should be able to call UDP connect() and just call send(). This however will trigger exception on Symbian S60 3rd Edition, for both the base and MR2 version.
</p>
<p>
The PJLIB test to reproduce this is:
</p>
<ul><li><tt>udp_test()</tt> in <tt>sock.c</tt>.
</li><li><tt>sock_perf_test()</tt> in <tt>sock_perf.c</tt>
</li></ul>";}i:237;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/265";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/265";s:5:"title";s:60:"#265: RecvFrom() continuously returns KErrGeneral in Symbian";s:11:"description";s:803:"<p>
For some strange reason, and on some platforms only, an asynchronous RecvFrom() will continuously return KErrGeneral. This happens with S60 3rd Edition MR2 emulator on Win2k, but doesn't happen with S60 3rd Edition (not MR2) on WinXP.
</p>
<p>
Some people suggested that increasing the receiving buffer size should solve the issue (see <a class="ext-link" href="http://discussion.forum.nokia.com/forum/archive/index.php/t-52250.html"><span class="icon">http://discussion.forum.nokia.com/forum/archive/index.php/t-52250.html</span></a>) but this doesn't seem to be the case. In PJSIP, the <tt>PJSIP_MAX_PKT_LEN</tt> is used to control the RX packet size and the default is 2000. Increasing this to 4000 doesn't seem to help.
</p>
<p>
For now I'll just considere this as platform specific error.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/265#changelog";s:7:"summary";s:803:"<p>
For some strange reason, and on some platforms only, an asynchronous RecvFrom() will continuously return KErrGeneral. This happens with S60 3rd Edition MR2 emulator on Win2k, but doesn't happen with S60 3rd Edition (not MR2) on WinXP.
</p>
<p>
Some people suggested that increasing the receiving buffer size should solve the issue (see <a class="ext-link" href="http://discussion.forum.nokia.com/forum/archive/index.php/t-52250.html"><span class="icon">http://discussion.forum.nokia.com/forum/archive/index.php/t-52250.html</span></a>) but this doesn't seem to be the case. In PJSIP, the <tt>PJSIP_MAX_PKT_LEN</tt> is used to control the RX packet size and the default is 2000. Increasing this to 4000 doesn't seem to help.
</p>
<p>
For now I'll just considere this as platform specific error.
</p>
";}i:238;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/266";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/266";s:5:"title";s:23:"#266: Skip \x00 packets";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/266#changelog";}i:239;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/267";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/267";s:5:"title";s:44:"#267: Configurable PJSIP_TRANSPORT_IDLE_TIME";s:11:"description";s:183:"<p>
Some application wants <tt>PJSIP_TRANSPORT_IDLE_TIME</tt> delay to be configurable (for example, some wants this to be zero to allow transports to be destroyed immediately).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/267#changelog";s:7:"summary";s:183:"<p>
Some application wants <tt>PJSIP_TRANSPORT_IDLE_TIME</tt> delay to be configurable (for example, some wants this to be zero to allow transports to be destroyed immediately).
</p>
";}i:240;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/268";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/268";s:5:"title";s:50:"#268: Support ARMCC and GCCE compilers for Symbian";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/268#changelog";}i:241;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/269";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/269";s:5:"title";s:66:"#269: Configurable CActive priority for CPjTimeoutTimer in Symbian";s:11:"description";s:322:"<p>
When there are (too) many active objects registered too often to the scheduler, PJLIB's CPjTimeoutTimer active object may not get processed.
</p>
<p>
The solution is to have the priority of CPjTimeoutTimer configurable so that application designer can increase the priority. Default is EPriorityNormal of course.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/269#changelog";s:7:"summary";s:322:"<p>
When there are (too) many active objects registered too often to the scheduler, PJLIB's CPjTimeoutTimer active object may not get processed.
</p>
<p>
The solution is to have the priority of CPjTimeoutTimer configurable so that application designer can increase the priority. Default is EPriorityNormal of course.
</p>
";}i:242;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/270";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/270";s:5:"title";s:41:"#270: Configurable pool sizes for pjmedia";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/270#changelog";}i:243;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/271";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/271";s:5:"title";s:43:"#271: Add pjsip_tpmgr_get_transport_count()";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/271#changelog";}i:244;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/275";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/275";s:5:"title";s:74:"#275: Error creating resolver on Win32 release mode (thanks Frank Wiersma)";s:11:"description";s:215:"<p>
PJSUA will quit prematurely when resolver/nameserver is used on Release build, giving only these messages on the log:
</p>
<pre class="wiki">'16:22:02.078 sip_endpoint.c Module "mod-pjsua-log" registered'
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/275#changelog";s:7:"summary";s:215:"<p>
PJSUA will quit prematurely when resolver/nameserver is used on Release build, giving only these messages on the log:
</p>
<pre class="wiki">'16:22:02.078 sip_endpoint.c Module "mod-pjsua-log" registered'
</pre>";}i:245;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/276";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/276";s:5:"title";s:74:"#276: Error creating resolver on Win32 release mode (thanks Frank Wiersma)";s:11:"description";s:186:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/275" title="Error creating resolver on Win32 release mode (thanks Frank Wiersma) (closed)">#275</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/276#changelog";s:7:"summary";s:186:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/275" title="Error creating resolver on Win32 release mode (thanks Frank Wiersma) (closed)">#275</a>
</p>
";}i:246;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/277";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/277";s:5:"title";s:98:"#277: GUID generation cannot generate more than 2^16 unique numbers on Linux (thanks Igor Sobinov)";s:11:"description";s:196:"<p>
The default GUID generation backend for Linux/Posix (<tt>guid_simple.c</tt>) cannot generate more than 2<sup>14 unique numbers, and this causes failures with large number of calls.
</sup></p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/277#changelog";s:7:"summary";s:196:"<p>
The default GUID generation backend for Linux/Posix (<tt>guid_simple.c</tt>) cannot generate more than 2<sup>14 unique numbers, and this causes failures with large number of calls.
</sup></p>
";}i:247;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/278";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/278";s:5:"title";s:98:"#278: GUID generation cannot generate more than 2^16 unique numbers on Linux (thanks Igor Sobinov)";s:11:"description";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/277" title="GUID generation cannot generate more than 2^16 unique numbers on Linux  ... (closed)">#277</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/278#changelog";s:7:"summary";s:193:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/277" title="GUID generation cannot generate more than 2^16 unique numbers on Linux  ... (closed)">#277</a>
</p>
";}i:248;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/279";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/279";s:5:"title";s:75:"#279: Bug with authenticating response causing STUN responses to be dropped";s:11:"description";s:150:"<p>
Bug in <tt>stun_sesion.c</tt> which causes the STUN session to drop responses even when the outgoing request did not require authentication.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/279#changelog";s:7:"summary";s:150:"<p>
Bug in <tt>stun_sesion.c</tt> which causes the STUN session to drop responses even when the outgoing request did not require authentication.
</p>
";}i:249;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/280";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/280";s:5:"title";s:70:"#280: Failed scenarios with CANCEL requests (thanks Esbjrn Dominique)";s:11:"description";s:331:"<p>
Two failed CANCEL scenarios were found:
</p>
<ol><li>INVITE is sent, and gets challenged with 407. Second INVITE will be sent automatically, but CANCEL will be sent with CSeq equal to the first INVITE.
</li><li>INVITE is sent, CANCEL is sent. But when 407 is received, second INVITE will still automatically be sent.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/280#changelog";s:7:"summary";s:331:"<p>
Two failed CANCEL scenarios were found:
</p>
<ol><li>INVITE is sent, and gets challenged with 407. Second INVITE will be sent automatically, but CANCEL will be sent with CSeq equal to the first INVITE.
</li><li>INVITE is sent, CANCEL is sent. But when 407 is received, second INVITE will still automatically be sent.
</li></ol>";}i:250;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/282";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/282";s:5:"title";s:33:"#282: Memory problems with Purify";s:11:"description";s:192:"<p>
Paul Levin suggested there are some memory problems when pjsip is Purified, such as memory leaks, UMR (Uninitialized Memory Read), FMR (Free Memory Read), etc. 
</p>
<p>
Verify this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/282#changelog";s:7:"summary";s:192:"<p>
Paul Levin suggested there are some memory problems when pjsip is Purified, such as memory leaks, UMR (Uninitialized Memory Read), FMR (Free Memory Read), etc. 
</p>
<p>
Verify this.
</p>
";}i:251;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/283";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/283";s:5:"title";s:93:"#283: Added another pjsua IM callback with the message passed as argument (thanks Paul Levin)";s:11:"description";s:161:"<p>
Added a new callback in PJSUA-API: <tt>on_pager2()</tt>. The syntax is similar to <tt>on_pager()</tt>, with additional <tt>pjsip_rx_data</tt> argument.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/283#changelog";s:7:"summary";s:161:"<p>
Added a new callback in PJSUA-API: <tt>on_pager2()</tt>. The syntax is similar to <tt>on_pager()</tt>, with additional <tt>pjsip_rx_data</tt> argument.
</p>
";}i:252;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/284";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/284";s:5:"title";s:70:"#284: Failed scenarios with CANCEL requests (thanks Esbjrn Dominique)";s:11:"description";s:182:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/280" title="Failed scenarios with CANCEL requests (thanks Esbjrn Dominique) (closed)">#280</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/284#changelog";s:7:"summary";s:182:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/280" title="Failed scenarios with CANCEL requests (thanks Esbjrn Dominique) (closed)">#280</a>
</p>
";}i:253;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/285";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/285";s:5:"title";s:79:"#285: ICE transport stops receiving packet upon getting ICMP unreach on Windows";s:11:"description";s:142:"<p>
ICMP unreach will cause <tt>pj_ioqueue_recvfrom()</tt> call to fail, and causing ICE transport to stop waiting for incoming packets.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/285#changelog";s:7:"summary";s:142:"<p>
ICMP unreach will cause <tt>pj_ioqueue_recvfrom()</tt> call to fail, and causing ICE transport to stop waiting for incoming packets.
</p>
";}i:254;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/286";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/286";s:5:"title";s:67:"#286: Bug in STUN FINGERPRINT verification and logging STUN message";s:11:"description";s:240:"<p>
The STUN FINGERPRINT verification in <tt>pj_stun_msg_check()</tt> looked for FINGERPRINT attribute in the wrong location.
</p>
<p>
Bug in the <tt>pj_stun_msg_dump()</tt> function prevented FINGERPRINT attribute from being printed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/286#changelog";s:7:"summary";s:240:"<p>
The STUN FINGERPRINT verification in <tt>pj_stun_msg_check()</tt> looked for FINGERPRINT attribute in the wrong location.
</p>
<p>
Bug in the <tt>pj_stun_msg_dump()</tt> function prevented FINGERPRINT attribute from being printed.
</p>
";}i:255;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/287";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/287";s:5:"title";s:55:"#287: Selective authentication for STUN error responses";s:11:"description";s:572:"<p>
When STUN request include MESSAGE-INTEGRITY attribute, the response (success or error) MUST be authenticated, according to RFC 3489bis-06.
</p>
<p>
Some responses however cannot be authenticated, since by definition they cannot contain MESSAGE-INTEGRITY. This currently is not in RFC 3489-bis, so I decided to disable authentication for the following error codes until the draft is clear about it:
</p>
<pre class="wiki">     401 (Unauthorized)
     432 (Missing Username)
     434 (Missing Realm)
     436 (Unknown Username)
     431 (Integrity Check Failure) 
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/287#changelog";s:7:"summary";s:572:"<p>
When STUN request include MESSAGE-INTEGRITY attribute, the response (success or error) MUST be authenticated, according to RFC 3489bis-06.
</p>
<p>
Some responses however cannot be authenticated, since by definition they cannot contain MESSAGE-INTEGRITY. This currently is not in RFC 3489-bis, so I decided to disable authentication for the following error codes until the draft is clear about it:
</p>
<pre class="wiki">     401 (Unauthorized)
     432 (Missing Username)
     434 (Missing Realm)
     436 (Unknown Username)
     431 (Integrity Check Failure) 
</pre>";}i:256;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/288";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/288";s:5:"title";s:94:"#288: ICE role error on re-INVITE and ICE auth error when sending 487 (Role Conflict) response";s:11:"description";s:287:"<p>
The answerer side is wrongly given ICE-CONTROLLING role in <tt>pjsua_call.c</tt>.
</p>
<p>
Also fixed authentication error when sending 487 (Role Conflict) error response. The credential is missing in the response when Binding Request is received before SDP answer is received.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/288#changelog";s:7:"summary";s:287:"<p>
The answerer side is wrongly given ICE-CONTROLLING role in <tt>pjsua_call.c</tt>.
</p>
<p>
Also fixed authentication error when sending 487 (Role Conflict) error response. The credential is missing in the response when Binding Request is received before SDP answer is received.
</p>
";}i:257;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/289";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/289";s:5:"title";s:94:"#289: Bug in WAV player when frame size is larger than file buffer size (thanks Samuel Vinson)";s:11:"description";s:1317:"<p>
Samuel Vinson wrote in <a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-May/003286.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-May/003286.html</span></a>:
</p>
<pre class="wiki">During nintendo ds porting,
I use playfile program (without modification), and I obtain an error 
when callback play_cb is called.

Functions stack :
    ...
    play_cb(strm-&gt;user_data, strm-&gt;timestamp, readbuffer, size=8192)
    pjmedia_port_get_frame
    file_get_frame

In file_get_frame function
    fport-&gt;read_pos = 0x2075764
    fport-&gt;buf = 0x2075764
    fport-&gt;bufsize = 4000
and
    frame_size = 8192

So we are in the else case
    first pj_memcpy copies 4000 bytes
    fill_buffer (I thing 4000 bytes)
    second pj_memcpy copies 4192 bytes (!!!! BUG !!!)

If you call second times play_cb with the same parameters, the problem 
is earlier :
    fport-&gt;read_pos = 0x20767c4 (fport-&gt;buf + 4192)
    fport-&gt;buf = 0x2075764
    fport-&gt;bufsize = 4000
and
    frame_size = 4096
So we are in the else case
    first pj_memcpy tries to copy -192 bytes (0xffffff40) (!!! BUG !!!)

I will modify my sizes of buffer to be in lower part of the 4000 bytes 
but this is a temporary solution.
Do you have  another solution to correct this problems ?

Greetings

Samuel
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/289#changelog";s:7:"summary";s:1317:"<p>
Samuel Vinson wrote in <a class="ext-link" href="http://pjsip.org/pipermail/pjsip/2007-May/003286.html"><span class="icon">http://pjsip.org/pipermail/pjsip/2007-May/003286.html</span></a>:
</p>
<pre class="wiki">During nintendo ds porting,
I use playfile program (without modification), and I obtain an error 
when callback play_cb is called.

Functions stack :
    ...
    play_cb(strm-&gt;user_data, strm-&gt;timestamp, readbuffer, size=8192)
    pjmedia_port_get_frame
    file_get_frame

In file_get_frame function
    fport-&gt;read_pos = 0x2075764
    fport-&gt;buf = 0x2075764
    fport-&gt;bufsize = 4000
and
    frame_size = 8192

So we are in the else case
    first pj_memcpy copies 4000 bytes
    fill_buffer (I thing 4000 bytes)
    second pj_memcpy copies 4192 bytes (!!!! BUG !!!)

If you call second times play_cb with the same parameters, the problem 
is earlier :
    fport-&gt;read_pos = 0x20767c4 (fport-&gt;buf + 4192)
    fport-&gt;buf = 0x2075764
    fport-&gt;bufsize = 4000
and
    frame_size = 4096
So we are in the else case
    first pj_memcpy tries to copy -192 bytes (0xffffff40) (!!! BUG !!!)

I will modify my sizes of buffer to be in lower part of the 4000 bytes 
but this is a temporary solution.
Do you have  another solution to correct this problems ?

Greetings

Samuel
</pre>";}i:258;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/290";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/290";s:5:"title";s:94:"#290: Bug in WAV player when frame size is larger than file buffer size (thanks Samuel Vinson)";s:11:"description";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/289" title="Bug in WAV player when frame size is larger than file buffer size (thanks  ... (closed)">#289</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/290#changelog";s:7:"summary";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/289" title="Bug in WAV player when frame size is larger than file buffer size (thanks  ... (closed)">#289</a>
</p>
";}i:259;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/291";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/291";s:5:"title";s:60:"#291: Free memory read reported by Purify in PUBLISH session";s:11:"description";s:102:"<p>
The publish session may try to read the session after it has been destroyed by the callback.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/291#changelog";s:7:"summary";s:102:"<p>
The publish session may try to read the session after it has been destroyed by the callback.
</p>
";}i:260;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/292";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/292";s:5:"title";s:60:"#292: Free memory read reported by Purify in PUBLISH session";s:11:"description";s:172:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/291" title="Free memory read reported by Purify in PUBLISH session (closed)">#291</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/292#changelog";s:7:"summary";s:172:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/291" title="Free memory read reported by Purify in PUBLISH session (closed)">#291</a>
</p>
";}i:261;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/297";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/297";s:5:"title";s:84:"#297: Bug in handling data from peer in TURN sample application (thanks scott_lvsha)";s:11:"description";s:62:"<p>
The data or Data Indication should be sent to client
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/297#changelog";s:7:"summary";s:62:"<p>
The data or Data Indication should be sent to client
</p>
";}i:262;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/298";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/298";s:5:"title";s:72:"#298: New API to get the number of ports registered in conference bridge";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/298#changelog";}i:263;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/299";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/299";s:5:"title";s:51:"#299: Compile error when PJ_SOCKADDR_HAS_LEN is set";s:11:"description";s:159:"<p>
Compile error in <tt>sock_bsd.c</tt> when PJ_SOCKADDR_HAS_LEN is detected and set (by autoconf) because of changes in <tt>pj_sockaddr</tt> structure.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/299#changelog";s:7:"summary";s:159:"<p>
Compile error in <tt>sock_bsd.c</tt> when PJ_SOCKADDR_HAS_LEN is detected and set (by autoconf) because of changes in <tt>pj_sockaddr</tt> structure.
</p>
";}i:264;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/300";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/300";s:5:"title";s:87:"#300: Assertion error or handle leak when creating thread with PJ_THREAD_SUSPENDED flag";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/300#changelog";}i:265;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/301";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/301";s:5:"title";s:87:"#301: Assertion error or handle leak when creating thread with PJ_THREAD_SUSPENDED flag";s:11:"description";s:179:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/300" title="Assertion error or handle leak when creating thread with  ... (closed)">#300</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/301#changelog";s:7:"summary";s:179:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/300" title="Assertion error or handle leak when creating thread with  ... (closed)">#300</a>
</p>
";}i:266;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/302";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/302";s:5:"title";s:117:"#302: Behavior in cancelling INVITE session when no provisional response has been received (thanks Esbjrn Dominique)";s:11:"description";s:689:"<p>
RFC 3261 Section 9.1 says that CANCEL MUST NOT be sent if the INVITE transaction has not received any provisional response. So pjsip behaves correctly by not sending CANCEL here.
</p>
<p>
On the other hand, the section also says that the dialog must wait until either a response is received, or 64*T1 elapsed. When a provisional response is received, CANCEL should be sent, and when there is no response after 64*T1, the session can be destroyed.
</p>
<p>
This is the part where pjsip is not compliant.
</p>
<p>
Currently the invite session will just terminate the session immediately (CANCEL is not sent), so if any response is ever received, this will cause erroneous behavior.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/302#changelog";s:7:"summary";s:689:"<p>
RFC 3261 Section 9.1 says that CANCEL MUST NOT be sent if the INVITE transaction has not received any provisional response. So pjsip behaves correctly by not sending CANCEL here.
</p>
<p>
On the other hand, the section also says that the dialog must wait until either a response is received, or 64*T1 elapsed. When a provisional response is received, CANCEL should be sent, and when there is no response after 64*T1, the session can be destroyed.
</p>
<p>
This is the part where pjsip is not compliant.
</p>
<p>
Currently the invite session will just terminate the session immediately (CANCEL is not sent), so if any response is ever received, this will cause erroneous behavior.
</p>
";}i:267;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/303";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/303";s:5:"title";s:72:"#303: Crash on STUN session's keep alive on loss of network connectivity";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/303#changelog";}i:268;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/304";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/304";s:5:"title";s:89:"#304: Memory alignment error for hash entry buffer causing crash on ARM (thanks ChenHuan)";s:11:"description";s:901:"<p>
When application wants to specify its own buffer when registering an entry in the hash table, it calls <tt>pj_hash_set_np</tt> and gives it a buffer. This buffer normally is declared by application as:
</p>
<pre class="wiki">  char buffer[PJ_HASH_ENTRY_SIZE];
</pre><p>
This buffer will be typecasted to <tt>struct pj_hash_entry</tt> in <tt>hash.c</tt>:
</p>
<pre class="wiki">struct pj_hash_entry
{
    struct pj_hash_entry *next;
    const void *key;
    pj_uint32_t hash;
    pj_uint32_t keylen;
    void *value;
};
</pre><p>
And this is where the problem starts.
</p>
<p>
Since the buffer is of type <tt>array of char</tt>, this won't get aligned by compiler, and later in <tt>find_entry()</tt> in <tt>hash.c</tt>, it will cause unaligned memory access exception in assignment to <tt>entry-&gt;value</tt>.
</p>
<p>
Thanks ChenHuan &lt;chenhuan at sict.ac.cn&gt; for finding this problem!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/304#changelog";s:7:"summary";s:901:"<p>
When application wants to specify its own buffer when registering an entry in the hash table, it calls <tt>pj_hash_set_np</tt> and gives it a buffer. This buffer normally is declared by application as:
</p>
<pre class="wiki">  char buffer[PJ_HASH_ENTRY_SIZE];
</pre><p>
This buffer will be typecasted to <tt>struct pj_hash_entry</tt> in <tt>hash.c</tt>:
</p>
<pre class="wiki">struct pj_hash_entry
{
    struct pj_hash_entry *next;
    const void *key;
    pj_uint32_t hash;
    pj_uint32_t keylen;
    void *value;
};
</pre><p>
And this is where the problem starts.
</p>
<p>
Since the buffer is of type <tt>array of char</tt>, this won't get aligned by compiler, and later in <tt>find_entry()</tt> in <tt>hash.c</tt>, it will cause unaligned memory access exception in assignment to <tt>entry-&gt;value</tt>.
</p>
<p>
Thanks ChenHuan &lt;chenhuan at sict.ac.cn&gt; for finding this problem!
</p>
";}i:269;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/305";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/305";s:5:"title";s:89:"#305: Memory alignment error for hash entry buffer causing crash on ARM (thanks ChenHuan)";s:11:"description";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/304" title="Memory alignment error for hash entry buffer causing crash on ARM (thanks  ... (closed)">#304</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/305#changelog";s:7:"summary";s:196:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/304" title="Memory alignment error for hash entry buffer causing crash on ARM (thanks  ... (closed)">#304</a>
</p>
";}i:270;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/306";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/306";s:5:"title";s:109:"#306: Error in SIP transport lookup because of memory alignment problem on Nintendo DS (thanks Samuel Vinson)";s:11:"description";s:775:"<p>
The key for looking up transport in hash table is declared like this:
</p>
<pre class="wiki">struct transport_key
{
    pjsip_transport_type_e  type;
    pj_sockaddr             addr;
};
</pre><p>
This causes a problem when the compiler maps <tt>type</tt> field to <tt>char</tt> data type and when the <tt>addr</tt> field starts at <tt>transport_key+4</tt>, because there are three unitialized bytes between <tt>type</tt> and <tt>addr</tt>.
</p>
<p>
More over, the key length is calculated as <tt>sizeof(key.addr) + addr_len</tt>, so this would cause several bytes of the key to be ignored.
</p>
<p>
Currently this has been reported as a problem on Nintendo DS port only.
</p>
<p>
Thanks Samuel Vinson &lt;samuelv at users.sourceforge.net&gt; for pointing this out!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/306#changelog";s:7:"summary";s:775:"<p>
The key for looking up transport in hash table is declared like this:
</p>
<pre class="wiki">struct transport_key
{
    pjsip_transport_type_e  type;
    pj_sockaddr             addr;
};
</pre><p>
This causes a problem when the compiler maps <tt>type</tt> field to <tt>char</tt> data type and when the <tt>addr</tt> field starts at <tt>transport_key+4</tt>, because there are three unitialized bytes between <tt>type</tt> and <tt>addr</tt>.
</p>
<p>
More over, the key length is calculated as <tt>sizeof(key.addr) + addr_len</tt>, so this would cause several bytes of the key to be ignored.
</p>
<p>
Currently this has been reported as a problem on Nintendo DS port only.
</p>
<p>
Thanks Samuel Vinson &lt;samuelv at users.sourceforge.net&gt; for pointing this out!
</p>
";}i:271;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/307";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/307";s:5:"title";s:49:"#307: Fail to parse fully qualified PIDF document";s:11:"description";s:698:"<p>
The PIDF parser fails to parse this document:
</p>
<pre class="wiki">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;pidf:presence xmlns:xs="http://www.w3.org/2001/XMLSchema"
               xmlns:pidf="urn:ietf:params:xml:ns:pidf"
               xmlns:dm="urn:ietf:params:xml:ns:pidf:data-model"
               entity="sip:test.user@domain.com"&gt;
  &lt;tuple xmlns="urn:ietf:params:xml:ns:pidf" 
            id="03a4a00b8ed448c296193b83cd7eb9d4"&gt;
    &lt;status&gt;
      &lt;basic&gt;open&lt;/basic&gt;
    &lt;/status&gt;
    &lt;timestamp&gt;2007-05-24T15:20:30.734+01:00&lt;/timestamp&gt;
  &lt;/tuple&gt;
&lt;/pidf:presence&gt;
</pre><p>
Thanks Cool_Zer0 for pointing this out.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/307#changelog";s:7:"summary";s:698:"<p>
The PIDF parser fails to parse this document:
</p>
<pre class="wiki">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;pidf:presence xmlns:xs="http://www.w3.org/2001/XMLSchema"
               xmlns:pidf="urn:ietf:params:xml:ns:pidf"
               xmlns:dm="urn:ietf:params:xml:ns:pidf:data-model"
               entity="sip:test.user@domain.com"&gt;
  &lt;tuple xmlns="urn:ietf:params:xml:ns:pidf" 
            id="03a4a00b8ed448c296193b83cd7eb9d4"&gt;
    &lt;status&gt;
      &lt;basic&gt;open&lt;/basic&gt;
    &lt;/status&gt;
    &lt;timestamp&gt;2007-05-24T15:20:30.734+01:00&lt;/timestamp&gt;
  &lt;/tuple&gt;
&lt;/pidf:presence&gt;
</pre><p>
Thanks Cool_Zer0 for pointing this out.
</p>
";}i:272;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/308";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/308";s:5:"title";s:62:"#308: Selective STUN authentication for STUN failure responses";s:11:"description";s:283:"<p>
Not all STUN failure responses can be authenticated, see this link for discussion:
<a class="ext-link" href="http://www1.ietf.org/mail-archive/web/behave/current/msg02312.html"><span class="icon">http://www1.ietf.org/mail-archive/web/behave/current/msg02312.html</span></a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/308#changelog";s:7:"summary";s:283:"<p>
Not all STUN failure responses can be authenticated, see this link for discussion:
<a class="ext-link" href="http://www1.ietf.org/mail-archive/web/behave/current/msg02312.html"><span class="icon">http://www1.ietf.org/mail-archive/web/behave/current/msg02312.html</span></a>
</p>
";}i:273;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/309";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/309";s:5:"title";s:69:"#309: Memory alignment problem in pool_buf (thanks Esbjrn Dominique)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/309#changelog";}i:274;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/310";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/310";s:5:"title";s:69:"#310: Memory alignment problem in pool_buf (thanks Esbjrn Dominique)";s:11:"description";s:188:"<p>
Related to ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/309" title="Memory alignment problem in pool_buf (thanks Esbjrn Dominique) (closed)">#309</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/310#changelog";s:7:"summary";s:188:"<p>
Related to ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/309" title="Memory alignment problem in pool_buf (thanks Esbjrn Dominique) (closed)">#309</a>
</p>
";}i:275;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/311";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/311";s:5:"title";s:74:"#311: PJSIP resolver is not destroyed on shutdown (thanks Martin Peterzon)";s:11:"description";s:169:"<p>
The PJSIP's DNS resolver is not destroyed, and this causes application to crash upon shutdown on Symbian.
</p>
<p>
Thanks Martin Peterzon for finding this bug!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/311#changelog";s:7:"summary";s:169:"<p>
The PJSIP's DNS resolver is not destroyed, and this causes application to crash upon shutdown on Symbian.
</p>
<p>
Thanks Martin Peterzon for finding this bug!
</p>
";}i:276;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/312";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/312";s:5:"title";s:74:"#312: PJSIP resolver is not destroyed on shutdown (thanks Martin Peterzon)";s:11:"description";s:186:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/311" title="PJSIP resolver is not destroyed on shutdown (thanks Martin Peterzon) (closed)">#311</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/312#changelog";s:7:"summary";s:186:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/311" title="PJSIP resolver is not destroyed on shutdown (thanks Martin Peterzon) (closed)">#311</a>
</p>
";}i:277;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/313";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/313";s:5:"title";s:104:"#313: Error resolving host in PJSIP resolver when DNS response contains CNAME (thanks Esbjrn Dominique)";s:11:"description";s:152:"<p>
When DNS response contains CNAME in the answer section, PJSIP resolver reports wrong IP address because it always read the first answer entry.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/313#changelog";s:7:"summary";s:152:"<p>
When DNS response contains CNAME in the answer section, PJSIP resolver reports wrong IP address because it always read the first answer entry.
</p>
";}i:278;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/314";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/314";s:5:"title";s:80:"#314: Added PJ_SAFE_POOL configuration in PJLIB to track down memory corruptions";s:11:"description";s:380:"<p>
When PJ_SAFE_POOL is enabled (default is disabled), the following checks will be performed:
</p>
<ol><li>when pool is destroyed, the pool is searched in the <tt>used_list</tt> to make sure that it hasn't been deallocated before.
</li><li>memory blocks will be prepended and appended with 32bit signature, and this signature will be verified when the block is freed.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/314#changelog";s:7:"summary";s:380:"<p>
When PJ_SAFE_POOL is enabled (default is disabled), the following checks will be performed:
</p>
<ol><li>when pool is destroyed, the pool is searched in the <tt>used_list</tt> to make sure that it hasn't been deallocated before.
</li><li>memory blocks will be prepended and appended with 32bit signature, and this signature will be verified when the block is freed.
</li></ol>";}i:279;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/315";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/315";s:5:"title";s:35:"#315: Ability to override pj_assert";s:11:"description";s:227:"<p>
Application can now override <tt>pj_assert()</tt> macro in <tt>config_site.h</tt>, by declaring something like this:
</p>
<p>
config_site.h:
</p>
<pre class="wiki">#define pj_assert(expr)  ...your assert goes here...
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/315#changelog";s:7:"summary";s:227:"<p>
Application can now override <tt>pj_assert()</tt> macro in <tt>config_site.h</tt>, by declaring something like this:
</p>
<p>
config_site.h:
</p>
<pre class="wiki">#define pj_assert(expr)  ...your assert goes here...
</pre>";}i:280;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/317";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/317";s:5:"title";s:72:"#317: Duplicated audio when playing WAV playlist (thanks Jagdish Jangid)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/317#changelog";}i:281;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/318";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/318";s:5:"title";s:99:"#318: CSeq generation may produce negative number on Blackfin/VisualDSP++ (thanks Jarek Szymkowski)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/318#changelog";}i:282;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/319";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/319";s:5:"title";s:88:"#319: Assertion failure in pjsua when adding buddy with invalid host (thanks Paul Levin)";s:11:"description";s:254:"<p>
When a buddy is added with the URL containing invalid or unreachable host, pjsip will raise assert upon trying to destroy the subscription with <tt>pjsip_pres_terminate</tt>, since the subscription has already been destroyed thus NULL is given.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/319#changelog";s:7:"summary";s:254:"<p>
When a buddy is added with the URL containing invalid or unreachable host, pjsip will raise assert upon trying to destroy the subscription with <tt>pjsip_pres_terminate</tt>, since the subscription has already been destroyed thus NULL is given.
</p>
";}i:283;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/320";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/320";s:5:"title";s:114:"#320: Assertion error in pjsua when unregistering/removing account while network is disconnected (thanks Bo Huang)";s:11:"description";s:208:"<p>
When pjsua account is removed while the network is disconnected, assertion will be triggered when calling <tt>pjsip_regc_destroy()</tt> since the <strong>regc</strong> variable has been set to NULL.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/320#changelog";s:7:"summary";s:208:"<p>
When pjsua account is removed while the network is disconnected, assertion will be triggered when calling <tt>pjsip_regc_destroy()</tt> since the <strong>regc</strong> variable has been set to NULL.
</p>
";}i:284;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/321";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/321";s:5:"title";s:83:"#321: Assertion in ICE stream transport when STUN is not used (thanks Frank Nieen)";s:11:"description";s:121:"<p>
This happens when STUN is not used, and remote sends Binding Request when the ICE session has not been created.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/321#changelog";s:7:"summary";s:121:"<p>
This happens when STUN is not used, and remote sends Binding Request when the ICE session has not been created.
</p>
";}i:285;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/322";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/322";s:5:"title";s:55:"#322: Crash in ICE when adding peer reflexive candidate";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/322#changelog";}i:286;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/324";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/324";s:5:"title";s:96:"#324: Allow '#' character in the user part of URI of incoming message (thanks Esbjrn Dominique)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/324#changelog";}i:287;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/325";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/325";s:5:"title";s:43:"#325: More tunable settings in DNS resolver";s:11:"description";s:87:"<p>
Add <tt>good_ns_ttl</tt> and <tt>bad_ns_ttl</tt> in <tt>pj_dns_settings</tt>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/325#changelog";s:7:"summary";s:87:"<p>
Add <tt>good_ns_ttl</tt> and <tt>bad_ns_ttl</tt> in <tt>pj_dns_settings</tt>.
</p>
";}i:288;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/326";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/326";s:5:"title";s:58:"#326: Add unit tests for DNS resolver and DNS SRV resolver";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/326#changelog";}i:289;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/327";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/327";s:5:"title";s:81:"#327: SIPS URI in Contact header generated by pjsua causing problems with OpenSER";s:11:"description";s:904:"<p>
Since 0.7.0, when TLS transport is being used, PJSUA-LIB will generate <strong>"sips:"</strong> URI scheme for the Contact header.
</p>
<p>
This causes OpenSER-1.1.0-tls to fail to forward any requests to the user agent. The remote agent will receive this status code:
</p>
<blockquote>
<p>
<strong>SIP/2.0 500 I'm terribly sorry, server error occurred (1/TM)</strong>
</p>
</blockquote>
<p>
while OpenSER log shows these log messages:
</p>
<pre class="wiki">11(1062) ERROR: uri2proxy: bad transport  for sips uri: 3
11(1062) ERROR:tm:t_forward_nonack: failure to add branches
</pre><p>
According to <a class="ext-link" href="http://openser.org/pipermail/users/2007-February/009417.html"><span class="icon">http://openser.org/pipermail/users/2007-February/009417.html</span></a>, this is caused by OpenSER only accepting <tt>transport=tcp</tt> URI parameter when <strong>sips:</strong> is used.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/327#changelog";s:7:"summary";s:904:"<p>
Since 0.7.0, when TLS transport is being used, PJSUA-LIB will generate <strong>"sips:"</strong> URI scheme for the Contact header.
</p>
<p>
This causes OpenSER-1.1.0-tls to fail to forward any requests to the user agent. The remote agent will receive this status code:
</p>
<blockquote>
<p>
<strong>SIP/2.0 500 I'm terribly sorry, server error occurred (1/TM)</strong>
</p>
</blockquote>
<p>
while OpenSER log shows these log messages:
</p>
<pre class="wiki">11(1062) ERROR: uri2proxy: bad transport  for sips uri: 3
11(1062) ERROR:tm:t_forward_nonack: failure to add branches
</pre><p>
According to <a class="ext-link" href="http://openser.org/pipermail/users/2007-February/009417.html"><span class="icon">http://openser.org/pipermail/users/2007-February/009417.html</span></a>, this is caused by OpenSER only accepting <tt>transport=tcp</tt> URI parameter when <strong>sips:</strong> is used.
</p>
";}i:290;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/328";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/328";s:5:"title";s:46:"#328: Possible alignment error in DNS encoding";s:11:"description";s:400:"<p>
When creating DNS query packet, the <tt>pj_dns_make_query()</tt> function typecasts the packet buffer into <tt>pj_dns_hdr</tt> struct and write 16bit values to it. This will raise alignment error when the buffer is not 16bit aligned.
</p>
<p>
Also changed various <tt>pj_ntohs()</tt> to <tt>pj_htons()</tt> and <tt>char*</tt> to <tt>pj_uint8_t*</tt> for packet buffer, for better semantics.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/328#changelog";s:7:"summary";s:400:"<p>
When creating DNS query packet, the <tt>pj_dns_make_query()</tt> function typecasts the packet buffer into <tt>pj_dns_hdr</tt> struct and write 16bit values to it. This will raise alignment error when the buffer is not 16bit aligned.
</p>
<p>
Also changed various <tt>pj_ntohs()</tt> to <tt>pj_htons()</tt> and <tt>char*</tt> to <tt>pj_uint8_t*</tt> for packet buffer, for better semantics.
</p>
";}i:291;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/329";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/329";s:5:"title";s:52:"#329: Added utility function to parse DNS A response";s:11:"description";s:300:"<p>
Parsing DNS A response is a bit tricky, especially when CNAME record is present. Since this functionality is needed by both PJLIB-UTIL's DNS SRV and PJSIP's DNS resolution, move this functionality into a utility function <tt>pj_dns_parse_a_response()</tt> in <tt>pjlib-util/resolver.h</tt>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/329#changelog";s:7:"summary";s:300:"<p>
Parsing DNS A response is a bit tricky, especially when CNAME record is present. Since this functionality is needed by both PJLIB-UTIL's DNS SRV and PJSIP's DNS resolution, move this functionality into a utility function <tt>pj_dns_parse_a_response()</tt> in <tt>pjlib-util/resolver.h</tt>.
</p>
";}i:292;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/330";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/330";s:5:"title";s:67:"#330: Changed DNS SRV resolver to use the new DNS A response parser";s:11:"description";s:306:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/329" title="Added utility function to parse DNS A response (closed)">#329</a> added utility function to parse DNS A response.
</p>
<p>
Refactor the DNS SRV code to use this utility function rather than duplicating the code.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/330#changelog";s:7:"summary";s:306:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/329" title="Added utility function to parse DNS A response (closed)">#329</a> added utility function to parse DNS A response.
</p>
<p>
Refactor the DNS SRV code to use this utility function rather than duplicating the code.
</p>
";}i:293;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/331";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/331";s:5:"title";s:71:"#331: Changed PJSIP DNS SRV resolver to use PJLIB-UTIL DNS SRV resolver";s:11:"description";s:174:"<p>
Previously there were two DNS SRV resolver codes, one in PJSIP and one in PJLIB-UTIL.
</p>
<p>
Refactor PJSIP DNS SRV resolver to use PJLIB-UTIL's DNS SRV resolver.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/331#changelog";s:7:"summary";s:174:"<p>
Previously there were two DNS SRV resolver codes, one in PJSIP and one in PJLIB-UTIL.
</p>
<p>
Refactor PJSIP DNS SRV resolver to use PJLIB-UTIL's DNS SRV resolver.
</p>
";}i:294;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/332";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/332";s:5:"title";s:82:"#332: Enlarge default buffer size for caching DNS responses from 512 to 1000 bytes";s:11:"description";s:138:"<p>
Enlarge the default buffer size to enable it to parse/cache bigger packets, and this doesn't seem to add too much memory anyway.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/332#changelog";s:7:"summary";s:138:"<p>
Enlarge the default buffer size to enable it to parse/cache bigger packets, and this doesn't seem to add too much memory anyway.
</p>
";}i:295;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/333";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/333";s:5:"title";s:71:"#333: Added buffer overflow detection in vsprintf emulation for Symbian";s:11:"description";s:373:"<p>
Symbian lacks <tt>snprintf()</tt>/<tt>vsnprintf()</tt>, so these functions are emulated with a call to <tt>vsprintf()</tt> in PJLIB's <tt>src/pj/compat/string_compat.c</tt>. The emulation function does not check for buffer overflow.
</p>
<p>
We could add a small code to detect if buffer has been overflowed by putting a marker character at the end of the buffer.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/333#changelog";s:7:"summary";s:373:"<p>
Symbian lacks <tt>snprintf()</tt>/<tt>vsnprintf()</tt>, so these functions are emulated with a call to <tt>vsprintf()</tt> in PJLIB's <tt>src/pj/compat/string_compat.c</tt>. The emulation function does not check for buffer overflow.
</p>
<p>
We could add a small code to detect if buffer has been overflowed by putting a marker character at the end of the buffer.
</p>
";}i:296;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/334";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/334";s:5:"title";s:113:"#334: Added on_pager_status2() callback to receive the full SIP message of IM delivery status (thanks Paul Levin)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/334#changelog";}i:297;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/335";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/335";s:5:"title";s:90:"#335: Detect timestamp jump to avoid excessive CPU usage in master clock (thanks ChenHuan)";s:11:"description";s:217:"<p>
The master clock calls callback on every time tick, and if there is a large different in time between two invocations it will try to catch up missing ticks. This will cause callback to be called excessively.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/335#changelog";s:7:"summary";s:217:"<p>
The master clock calls callback on every time tick, and if there is a large different in time between two invocations it will try to catch up missing ticks. This will cause callback to be called excessively.
</p>
";}i:298;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/336";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/336";s:5:"title";s:72:"#336: Support for specifying custom presence status text in PJSIP SIMPLE";s:11:"description";s:75:"<p>
Currently PJSIP SIMPLE only supports basic online/offline status.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/336#changelog";s:7:"summary";s:75:"<p>
Currently PJSIP SIMPLE only supports basic online/offline status.
</p>
";}i:299;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/337";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/337";s:5:"title";s:44:"#337: Ability to restart PJSIP UDP transport";s:11:"description";s:423:"<p>
Some applications want to be able to:
</p>
<ul><li>temporarily shutdown the transport (and the underlying socket), for example when network connectivity is lost
</li><li>restart the transport, for example when the underlying socket is in "bad" state
</li><li>just change the IP address of the transport, for example when the STUN mapped address has changed.
</li></ul><p>
Add support to cover the above use cases.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/337#changelog";s:7:"summary";s:423:"<p>
Some applications want to be able to:
</p>
<ul><li>temporarily shutdown the transport (and the underlying socket), for example when network connectivity is lost
</li><li>restart the transport, for example when the underlying socket is in "bad" state
</li><li>just change the IP address of the transport, for example when the STUN mapped address has changed.
</li></ul><p>
Add support to cover the above use cases.
</p>
";}i:300;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/338";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/338";s:5:"title";s:61:"#338: Handle maddr parameter in URI when sending SIP requests";s:11:"description";s:205:"<p>
Currently <tt>maddr</tt> parameter is ignored in request destination calculation because RFC 3261 says so (it has been deprecated). But it looks like many server vendors still use this parameter.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/338#changelog";s:7:"summary";s:205:"<p>
Currently <tt>maddr</tt> parameter is ignored in request destination calculation because RFC 3261 says so (it has been deprecated). But it looks like many server vendors still use this parameter.
</p>
";}i:301;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/339";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/339";s:5:"title";s:92:"#339: Respond correctly to incoming INVITE/re-INVITE without offer and receive answer in ACK";s:11:"description";s:146:"<p>
When an INVITE/re-INVITE is received without offer, pjsip should generate offer in 200/OK response and prepare to receive answer in ACK.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/339#changelog";s:7:"summary";s:146:"<p>
When an INVITE/re-INVITE is received without offer, pjsip should generate offer in 200/OK response and prepare to receive answer in ACK.
</p>
";}i:302;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/340";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/340";s:5:"title";s:34:"#340: File access problem on WinCE";s:11:"description";s:192:"<p>
Some Win32/WinCE file access queries like <tt>pj_file_exist()</tt> use <tt>READ_CONTROL</tt> flag to open the file. This flag is not available on WinCE, causing the function to fail.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/340#changelog";s:7:"summary";s:192:"<p>
Some Win32/WinCE file access queries like <tt>pj_file_exist()</tt> use <tt>READ_CONTROL</tt> flag to open the file. This flag is not available on WinCE, causing the function to fail.
</p>
";}i:303;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/341";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/341";s:5:"title";s:43:"#341: Sending raw data with PJSIP transport";s:11:"description";s:63:"<p>
Add PJSIP API to send raw data using PJSIP transport.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/341#changelog";s:7:"summary";s:63:"<p>
Add PJSIP API to send raw data using PJSIP transport.
</p>
";}i:304;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/342";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/342";s:5:"title";s:75:"#342: Add PJSIP configuration to optimize the size of outgoing SIP messages";s:11:"description";s:396:"<p>
When ICE is enabled, outgoing SIP messages can be bigger than 1500 bytes. This would cause problem with NAT/routers, so it would be desirable to trim outgoing messages down to minimal.
</p>
<p>
Few ideas that can be done to reduce the SIP message size:
</p>
<ul><li>use compact form of SIP headers
</li><li>remove optional headers such as Allow
</li><li>don't use User-Agent header
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/342#changelog";s:7:"summary";s:396:"<p>
When ICE is enabled, outgoing SIP messages can be bigger than 1500 bytes. This would cause problem with NAT/routers, so it would be desirable to trim outgoing messages down to minimal.
</p>
<p>
Few ideas that can be done to reduce the SIP message size:
</p>
<ul><li>use compact form of SIP headers
</li><li>remove optional headers such as Allow
</li><li>don't use User-Agent header
</li></ul>";}i:305;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/343";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/343";s:5:"title";s:77:"#343: Canceling pending ioqueue operation in Symbian causes assertion failure";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/343#changelog";}i:306;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/344";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/344";s:5:"title";s:61:"#344: ICE negotiation failed when remote doesn't support RTCP";s:11:"description";s:77:"<p>
ICE negotiation will fail when remote only advertises one component
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/344#changelog";s:7:"summary";s:77:"<p>
ICE negotiation will fail when remote only advertises one component
</p>
";}i:307;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/345";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/345";s:5:"title";s:49:"#345: Option to select random start port in pjsua";s:11:"description";s:117:"<p>
Pjsua option <tt>--rtp-port=0</tt> now will select random start port for RTP, in the range of [4000-65535].
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/345#changelog";s:7:"summary";s:117:"<p>
Pjsua option <tt>--rtp-port=0</tt> now will select random start port for RTP, in the range of [4000-65535].
</p>
";}i:308;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/346";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/346";s:5:"title";s:111:"#346: Possible deadlock in event subscription framework when subscribe is followed immediately with unsubscribe";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/346#changelog";}i:309;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/347";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/347";s:5:"title";s:83:"#347: Assertion failure when handling incoming presence subscription with Expires=0";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/347#changelog";}i:310;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/348";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/348";s:5:"title";s:49:"#348: Various bugs in string comparison functions";s:11:"description";s:595:"<p>
Bug in <tt>pj_strcmp2()</tt> will cause <tt>pj_strcmp2("1", "12")</tt> to return equal.
</p>
<p>
Checking other string functions reveals that some string comparison functions are not exactly compliant with ANSI. For example, given:
</p>
<pre class="wiki">  char *s1 = "2";
  char *s2 = "11";
</pre><p>
With ANSI, <tt>strcmp(s1, s2)</tt> will return 1, while with <tt>pj_strcmp(s1, s2)</tt> will return -1.
</p>
<p>
The reason why the result was different was because string comparison in PJLIB was too optimized for speed, so it only cares about the fact that the string was different.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/348#changelog";s:7:"summary";s:595:"<p>
Bug in <tt>pj_strcmp2()</tt> will cause <tt>pj_strcmp2("1", "12")</tt> to return equal.
</p>
<p>
Checking other string functions reveals that some string comparison functions are not exactly compliant with ANSI. For example, given:
</p>
<pre class="wiki">  char *s1 = "2";
  char *s2 = "11";
</pre><p>
With ANSI, <tt>strcmp(s1, s2)</tt> will return 1, while with <tt>pj_strcmp(s1, s2)</tt> will return -1.
</p>
<p>
The reason why the result was different was because string comparison in PJLIB was too optimized for speed, so it only cares about the fact that the string was different.
</p>
";}i:311;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/349";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/349";s:5:"title";s:60:"#349: Crash when sending PUBLISH when network is unreachable";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/349#changelog";}i:312;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/350";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/350";s:5:"title";s:85:"#350: Support for parsing quoted arguments in pjsua config file (thanks Scott M Ober)";s:11:"description";s:261:"<p>
Support parsing quoted arguments, for example:
</p>
<pre class="wiki">  --add-buddy '"My Buddy" &lt;sip:mybuddy@theirprovider.com&gt;'
</pre><p>
The arguments can be quoted with both single or double quotes.
</p>
<p>
Thanks Scott M Ober for the patch.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/350#changelog";s:7:"summary";s:261:"<p>
Support parsing quoted arguments, for example:
</p>
<pre class="wiki">  --add-buddy '"My Buddy" &lt;sip:mybuddy@theirprovider.com&gt;'
</pre><p>
The arguments can be quoted with both single or double quotes.
</p>
<p>
Thanks Scott M Ober for the patch.
</p>
";}i:313;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/351";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/351";s:5:"title";s:78:"#351: Possible deadlock in pjsua-api presence subscription (thanks Paul Levin)";s:11:"description";s:142:"<p>
The locking order of PJSUA_LOCK() and dialog's mutex in presence framework in PJSUA-API is not uniform, and this may cause deadlock.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/351#changelog";s:7:"summary";s:142:"<p>
The locking order of PJSUA_LOCK() and dialog's mutex in presence framework in PJSUA-API is not uniform, and this may cause deadlock.
</p>
";}i:314;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/352";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/352";s:5:"title";s:98:"#352: Configuration to turn OFF Via sent-by checking in SIP responses to support IP address change";s:11:"description";s:1176:"<p>
RFC 3261 Section 18.1 says:
</p>
<blockquote class="citation">
<p>
 When a response is received, the client transport examines the top
 Via header field value.  If the value of the "sent-by" parameter in
 that header field value does not correspond to a value that the
 client transport is configured to insert into requests, the response
 MUST be silently discarded.
</p>
</blockquote>
<p>
This check is done in sip_endpoint.c::endpt_on_rx_msg(). When PJSIP drops the request with wrong sent-by, a message like this will be printed to the log: 
</p>
<p>
<i>Dropping response Response msg 200/INVITE/cseq=608594373 (rdata00A99EF4) from 1.2.3.4:5060 because sent-by is mismatch"</i>
</p>
<p>
With the UA supporting IP address change, it is possible that the Via sent-by in the response is no longer recognized as the UAC's transport address, even when the UAS doesn't modify this Via sent-by values. This happens when the UAC has changed its transport IP address after it sent the request, but before response is received. In this case, the response will be dropped.
</p>
<p>
So to support IP address change, PJSIP must provide configuration to turn off this setting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/352#changelog";s:7:"summary";s:1176:"<p>
RFC 3261 Section 18.1 says:
</p>
<blockquote class="citation">
<p>
 When a response is received, the client transport examines the top
 Via header field value.  If the value of the "sent-by" parameter in
 that header field value does not correspond to a value that the
 client transport is configured to insert into requests, the response
 MUST be silently discarded.
</p>
</blockquote>
<p>
This check is done in sip_endpoint.c::endpt_on_rx_msg(). When PJSIP drops the request with wrong sent-by, a message like this will be printed to the log: 
</p>
<p>
<i>Dropping response Response msg 200/INVITE/cseq=608594373 (rdata00A99EF4) from 1.2.3.4:5060 because sent-by is mismatch"</i>
</p>
<p>
With the UA supporting IP address change, it is possible that the Via sent-by in the response is no longer recognized as the UAC's transport address, even when the UAS doesn't modify this Via sent-by values. This happens when the UAC has changed its transport IP address after it sent the request, but before response is received. In this case, the response will be dropped.
</p>
<p>
So to support IP address change, PJSIP must provide configuration to turn off this setting.
</p>
";}i:315;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/353";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/353";s:5:"title";s:51:"#353: Memory "leak" with pjsua file player/recorder";s:11:"description";s:175:"<p>
Destroying WAV file player/recorder with PJSUA API did not release the memory until application quits, since memory is allocated from the global pjsua's memory pool.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/353#changelog";s:7:"summary";s:175:"<p>
Destroying WAV file player/recorder with PJSUA API did not release the memory until application quits, since memory is allocated from the global pjsua's memory pool.
</p>
";}i:316;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/354";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/354";s:5:"title";s:64:"#354: Build the libraries as dynamic libraries (.DSO) in Symbian";s:11:"description";s:2844:"<p>
Symbian 9 build system with its ABIv2 no longer supports linking with static libraries. Some major works need to be done to support building PJ libraries as dynamic libraries
</p>
<p>
<strong>PJ_DLL and PJ_EXPORTING macros</strong>
</p>
<p>
<strong><tt>PJ_DLL</tt></strong> and <strong><tt>PJ_EXPORTING</tt></strong> macros are introduced to control the import/export behavior. The declaration of these macros causes the relevant <tt>PJ_DECL</tt> and <tt>PJ_DEF</tt> syntax to be generated.
</p>
<p>
When the libraries are being built, both <tt>PJ_DLL</tt> and <tt>PJ_EXPORTING</tt> macros are set (by the libraries' project files), causing the build process to export the symbols. When application wants to link against PJ dynamic libraries, it should declare <tt>PJ_DLL</tt> macro only, to signal that application wants to import the symbols from PJ libraries.
</p>
<p>
When <tt>PJ_DLL</tt> macro is not set, static linking is assumed.
</p>
<p>
Please see the comments on building PJLIB as DLL in <tt>&lt;pj/config.h&gt;</tt> file for more info.
</p>
<p>
<strong>DEF file generation</strong>
</p>
<p>
A simple Mingw shell script was created to generate DEF file from MMP file. To invoke this script:
</p>
<pre class="wiki">  ..build.symbian $ ./makedef.sh pjlib.mmp
</pre><p>
This script parses the preprocessor output of each source files and look for <tt>EXPORT_C</tt> modifier for symbols to export. Because of this, the indentation of some function definitions need to be modified to make it parseable by this script.
</p>
<p>
<strong>Problems with exporting global const variables</strong>
</p>
<p>
It looks like the use of global variables are really discouraged in Symbian, even if they are const variables. They don't work, because their values are not initialized when used by applications. Unfortunately, PJLIB does export some global const variables, in:
</p>
<ul><li><strong>sock.h</strong>, for things such as <tt>PJ_AF_INET</tt> and <tt>PJ_SOCK_STREAM</tt> constants.
</li><li><strong>pool.h</strong>, for the default pool factory policy (<tt>pj_pool_factory_default_policy</tt>).
</li></ul><p>
To fix this, some accessor functions were added:
</p>
<ul><li><strong>sock.h</strong>, added <tt>pj_AF_INET()</tt> function which returns <tt>PJ_AF_INET</tt> value, <tt>pj_SOCK_STREAM()</tt> for <tt>PJ_SOCK_STREAM</tt>, etc. All libraries have been updated to use this function rather than directly accessing the variable.
</li><li><strong>pool.h</strong>, added <tt>pj_pool_factory_get_default_policy()</tt> function which returns the default pool factory policy. In addition, user may specify NULL as the policy when calling <tt>pj_caching_pool_init()</tt> to make it use the default policy.
</li></ul><p>
The accessor functions for socket constants are implemented in a NEW file, <strong><tt>sock_common.c</tt></strong>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/354#changelog";s:7:"summary";s:2844:"<p>
Symbian 9 build system with its ABIv2 no longer supports linking with static libraries. Some major works need to be done to support building PJ libraries as dynamic libraries
</p>
<p>
<strong>PJ_DLL and PJ_EXPORTING macros</strong>
</p>
<p>
<strong><tt>PJ_DLL</tt></strong> and <strong><tt>PJ_EXPORTING</tt></strong> macros are introduced to control the import/export behavior. The declaration of these macros causes the relevant <tt>PJ_DECL</tt> and <tt>PJ_DEF</tt> syntax to be generated.
</p>
<p>
When the libraries are being built, both <tt>PJ_DLL</tt> and <tt>PJ_EXPORTING</tt> macros are set (by the libraries' project files), causing the build process to export the symbols. When application wants to link against PJ dynamic libraries, it should declare <tt>PJ_DLL</tt> macro only, to signal that application wants to import the symbols from PJ libraries.
</p>
<p>
When <tt>PJ_DLL</tt> macro is not set, static linking is assumed.
</p>
<p>
Please see the comments on building PJLIB as DLL in <tt>&lt;pj/config.h&gt;</tt> file for more info.
</p>
<p>
<strong>DEF file generation</strong>
</p>
<p>
A simple Mingw shell script was created to generate DEF file from MMP file. To invoke this script:
</p>
<pre class="wiki">  ..build.symbian $ ./makedef.sh pjlib.mmp
</pre><p>
This script parses the preprocessor output of each source files and look for <tt>EXPORT_C</tt> modifier for symbols to export. Because of this, the indentation of some function definitions need to be modified to make it parseable by this script.
</p>
<p>
<strong>Problems with exporting global const variables</strong>
</p>
<p>
It looks like the use of global variables are really discouraged in Symbian, even if they are const variables. They don't work, because their values are not initialized when used by applications. Unfortunately, PJLIB does export some global const variables, in:
</p>
<ul><li><strong>sock.h</strong>, for things such as <tt>PJ_AF_INET</tt> and <tt>PJ_SOCK_STREAM</tt> constants.
</li><li><strong>pool.h</strong>, for the default pool factory policy (<tt>pj_pool_factory_default_policy</tt>).
</li></ul><p>
To fix this, some accessor functions were added:
</p>
<ul><li><strong>sock.h</strong>, added <tt>pj_AF_INET()</tt> function which returns <tt>PJ_AF_INET</tt> value, <tt>pj_SOCK_STREAM()</tt> for <tt>PJ_SOCK_STREAM</tt>, etc. All libraries have been updated to use this function rather than directly accessing the variable.
</li><li><strong>pool.h</strong>, added <tt>pj_pool_factory_get_default_policy()</tt> function which returns the default pool factory policy. In addition, user may specify NULL as the policy when calling <tt>pj_caching_pool_init()</tt> to make it use the default policy.
</li></ul><p>
The accessor functions for socket constants are implemented in a NEW file, <strong><tt>sock_common.c</tt></strong>.
</p>
";}i:317;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/355";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/355";s:5:"title";s:88:"#355: Account ID is not initialized in pjsua_call_info for outgoing call (thanks Lemmel)";s:11:"description";s:99:"<p>
Account ID in <tt>pjsua_call_info</tt> structure is always set to zero for outgoing call.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/355#changelog";s:7:"summary";s:99:"<p>
Account ID in <tt>pjsua_call_info</tt> structure is always set to zero for outgoing call.
</p>
";}i:318;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/356";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/356";s:5:"title";s:102:"#356: Prototype and definition mismatch causing crash in sip_auth_server.c (thanks Truong Thanh Quang)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/356#changelog";}i:319;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/357";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/357";s:5:"title";s:74:"#357: Missing tonegen.[h/c] in Windows CE project file (thanks Paul Levin)";s:11:"description";s:93:"<p>
The tonegen (tone generator) source files were missing in WinCE/EVC4 project files.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/357#changelog";s:7:"summary";s:93:"<p>
The tonegen (tone generator) source files were missing in WinCE/EVC4 project files.
</p>
";}i:320;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/358";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/358";s:5:"title";s:59:"#358: Link dynamically with IPHLPAPI.LIB (thanks Jim Gomez)";s:11:"description";s:960:"<p>
Quoting Jim's email:
</p>
<blockquote class="citation">
<p>
 The major difference is the dynamic explicit run-time linking 
 to the IpHlpApi.DLL, instead of the implicit linking that would normally 
 be used with import libraries.  The new version of the file will only 
 load the DLL if it is actually used.  Currently, the DLL is loaded and 
 mapped into the program executable space at startup of the application, 
 even though the DLL is never used by my application.  Since there are 
 only two functions that are needed from this DLL, it makes sense to only 
 load it if they are needed.
 
 I made this change because my application was crashing during shutdown.  
 The crash was occurring deep within the shutdown code of the 
 IpHlpApi.DLL.  Since there wasn?t a clear way of debugging this, and my 
 code didn?t actually need any of the functions from that DLL, I made the 
 changes to the source file to explicitly link to it.
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/358#changelog";s:7:"summary";s:960:"<p>
Quoting Jim's email:
</p>
<blockquote class="citation">
<p>
 The major difference is the dynamic explicit run-time linking 
 to the IpHlpApi.DLL, instead of the implicit linking that would normally 
 be used with import libraries.  The new version of the file will only 
 load the DLL if it is actually used.  Currently, the DLL is loaded and 
 mapped into the program executable space at startup of the application, 
 even though the DLL is never used by my application.  Since there are 
 only two functions that are needed from this DLL, it makes sense to only 
 load it if they are needed.
 
 I made this change because my application was crashing during shutdown.  
 The crash was occurring deep within the shutdown code of the 
 IpHlpApi.DLL.  Since there wasn?t a clear way of debugging this, and my 
 code didn?t actually need any of the functions from that DLL, I made the 
 changes to the source file to explicitly link to it.
</p>
</blockquote>
";}i:321;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/359";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/359";s:5:"title";s:130:"#359: Wrong Via branch generation in proxy causing the same branch value to be generated for RFC 2543 clients (thanks Helmut Wolf)";s:11:"description";s:404:"<p>
In <tt>pjsip_calculate_branch_id()</tt> function in <tt>sip_util_proxy.c:335</tt>, the branch parameter for outgoing request is generated by calculating MD5 hash of the branch parameter of the incoming request. But unfortunately, the user agent being RTC, it does not conform to RFC 3261, and it leaves the branch parameter empty, causing the branch generation to always produce the same value.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/359#changelog";s:7:"summary";s:404:"<p>
In <tt>pjsip_calculate_branch_id()</tt> function in <tt>sip_util_proxy.c:335</tt>, the branch parameter for outgoing request is generated by calculating MD5 hash of the branch parameter of the incoming request. But unfortunately, the user agent being RTC, it does not conform to RFC 3261, and it leaves the branch parameter empty, causing the branch generation to always produce the same value.
</p>
";}i:322;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/360";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/360";s:5:"title";s:77:"#360: Support for strict routed requests in proxy sample (thanks Helmut Wolf)";s:11:"description";s:186:"<p>
The proxy sample barf again when handling strict-routed request, this time because it thinks that the request is destined for it thus it rejects the request with 404/Not Found.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/360#changelog";s:7:"summary";s:186:"<p>
The proxy sample barf again when handling strict-routed request, this time because it thinks that the request is destined for it thus it rejects the request with 404/Not Found.
</p>
";}i:323;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/361";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/361";s:5:"title";s:76:"#361: Extraneous RTP packet with RFC 2833 DTMF events (thanks Pedro Sanchez)";s:11:"description";s:164:"<p>
When sending RFC 2833 DTMF packets, pjmedia's <tt>stream.c</tt> adds an initial RTP EVENT packet with zero event duration. This might confuse some server.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/361#changelog";s:7:"summary";s:164:"<p>
When sending RFC 2833 DTMF packets, pjmedia's <tt>stream.c</tt> adds an initial RTP EVENT packet with zero event duration. This might confuse some server.
</p>
";}i:324;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/362";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/362";s:5:"title";s:108:"#362: Transaction timer I in Completed state should be zero for reliable transports (thanks Ivan F. Skripov)";s:11:"description";s:93:"<p>
Transaction <tt>timer I</tt> should be set to zero for reliable transports, not T4.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/362#changelog";s:7:"summary";s:93:"<p>
Transaction <tt>timer I</tt> should be set to zero for reliable transports, not T4.
</p>
";}i:325;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/363";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/363";s:5:"title";s:93:"#363: Incorrect RTP marker and timestamp in DTMF event/RFC 2833 packet (thanks Pedro Sanchez)";s:11:"description";s:646:"<p>
Several bugs with DTMF event/RFC 2833 packet generation:
</p>
<ol><li>PJSIP fails to set the SDP Marker flag to TRUE on the very first packet of each sequence as requested by RFC 2833 section 3.4.
</li><li>RTP time stamp in the RTP EVENT packets should remain the same for a single event, according to RFC 2833 section 3.6:
</li></ol><blockquote>
<blockquote>
<p>
"If an event continues for more than one period, the source generating the events should send a new event packet with the RTP timestamp value corresponding to the beginning of the event and the duration of the event increased correspondingly." 
</p>
</blockquote>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/363#changelog";s:7:"summary";s:646:"<p>
Several bugs with DTMF event/RFC 2833 packet generation:
</p>
<ol><li>PJSIP fails to set the SDP Marker flag to TRUE on the very first packet of each sequence as requested by RFC 2833 section 3.4.
</li><li>RTP time stamp in the RTP EVENT packets should remain the same for a single event, according to RFC 2833 section 3.6:
</li></ol><blockquote>
<blockquote>
<p>
"If an event continues for more than one period, the source generating the events should send a new event packet with the RTP timestamp value corresponding to the beginning of the event and the duration of the event increased correspondingly." 
</p>
</blockquote>
</blockquote>
";}i:326;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/365";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/365";s:5:"title";s:53:"#365: Fix log decoration (thanks Thiago Paiva Flores)";s:11:"description";s:216:"<p>
Couple of minor defects with logging:
</p>
<ul><li><tt>pjsua_logging_config.decor</tt> was never applied in pjsua-lib
</li><li>Wrong month is printed with PJ_LOG_HAS_MONTH (it should be mon+1, not mon)
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/365#changelog";s:7:"summary";s:216:"<p>
Couple of minor defects with logging:
</p>
<ul><li><tt>pjsua_logging_config.decor</tt> was never applied in pjsua-lib
</li><li>Wrong month is printed with PJ_LOG_HAS_MONTH (it should be mon+1, not mon)
</li></ul>";}i:327;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/366";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/366";s:5:"title";s:135:"#366: Crash in SDP negotiator when initial local SDP is not specified in pjmedia_sdp_neg_create_w_local_offer() (thanks Philippe Leuba)";s:11:"description";s:766:"<p>
Quoting Philippe's email in pjsip list:
</p>
<p>
We found a problem in the SDP negotiator that crashes with a null pointer.
</p>
<p>
We create the negotiator with create_w_remote_offer without passing a local SDP. We pass it later with the set_local_answer. When the negotiate method is called, this crash because the inititial_sdp pointer is null and nevertheless used to read the previous origin.version.
</p>
<p>
I propose to modify the set_locale_answer method by adding the following lines: 
</p>
<pre class="wiki">      if (!neg-&gt;initial_sdp)
        neg-&gt;initial_sdp = pjmedia_sdp_session_clone(pool, local);
</pre><p>
just before the existing line:
</p>
<pre class="wiki">      neg-&gt;neg_local_sdp = pjmedia_sdp_session_clone(pool, local);
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/366#changelog";s:7:"summary";s:766:"<p>
Quoting Philippe's email in pjsip list:
</p>
<p>
We found a problem in the SDP negotiator that crashes with a null pointer.
</p>
<p>
We create the negotiator with create_w_remote_offer without passing a local SDP. We pass it later with the set_local_answer. When the negotiate method is called, this crash because the inititial_sdp pointer is null and nevertheless used to read the previous origin.version.
</p>
<p>
I propose to modify the set_locale_answer method by adding the following lines: 
</p>
<pre class="wiki">      if (!neg-&gt;initial_sdp)
        neg-&gt;initial_sdp = pjmedia_sdp_session_clone(pool, local);
</pre><p>
just before the existing line:
</p>
<pre class="wiki">      neg-&gt;neg_local_sdp = pjmedia_sdp_session_clone(pool, local);
</pre>";}i:328;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/367";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/367";s:5:"title";s:62:"#367: Hash table will duplicate the hash key (thanks Scott Lu)";s:11:"description";s:494:"<p>
Previously, the hash table will just keep the pointer of the key in <tt>pj_hash_set()</tt>. This is inconsistent with the <tt>pj_hash_set()</tt> API declaration, which says that the key is a <i>const</i> pointer, which normally should be copied by the function, and not kept for reference.
</p>
<p>
Although this works fine for PJSIP libraries, unsuspecting users may expect this function to behave differently, thus a better implementation is to duplicate the key to avoid confusion.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/367#changelog";s:7:"summary";s:494:"<p>
Previously, the hash table will just keep the pointer of the key in <tt>pj_hash_set()</tt>. This is inconsistent with the <tt>pj_hash_set()</tt> API declaration, which says that the key is a <i>const</i> pointer, which normally should be copied by the function, and not kept for reference.
</p>
<p>
Although this works fine for PJSIP libraries, unsuspecting users may expect this function to behave differently, thus a better implementation is to duplicate the key to avoid confusion.
</p>
";}i:329;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/368";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/368";s:5:"title";s:48:"#368: STUN keep-alive timed out when ICE is used";s:11:"description";s:218:"<p>
When ICE session is active, STUN keep-alive packet will cause error similar to this:
</p>
<pre class="wiki">icstr00C885A8 STUN keep-alive request failed: STUN transaction has
timed out (PJNATH_ESTUNTIMEDOUT)
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/368#changelog";s:7:"summary";s:218:"<p>
When ICE session is active, STUN keep-alive packet will cause error similar to this:
</p>
<pre class="wiki">icstr00C885A8 STUN keep-alive request failed: STUN transaction has
timed out (PJNATH_ESTUNTIMEDOUT)
</pre>";}i:330;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/369";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/369";s:5:"title";s:70:"#369: ICE negotiation fails after endpoint has been idle for long time";s:11:"description";s:1283:"<p>
Ravin Suri reported:
</p>
<blockquote class="citation">
<p>
 I have seen some instances where after many hours of running pjsua in an idle mode, it will not be able to make calls due to ICE negotiation failing. On quitting pjsua and restarting it, a call to the same destinations is successful.
</p>
</blockquote>
<blockquote class="citation">
<p>
 This is the sequence of steps:
</p>
</blockquote>
<blockquote class="citation">
<p>
    - start pjsua on both ends
</p>
</blockquote>
<blockquote class="citation">
<p>
    - make a call from one to another -- this works fine, ICE neg succeeds and call is ok.
</p>
</blockquote>
<blockquote class="citation">
<p>
    - hang up call after a few minutes
</p>
</blockquote>
<blockquote class="citation">
<p>
    - let the pjsua's keep running for say, 8 hours
</p>
</blockquote>
<blockquote class="citation">
<p>
    - try to make the same call again to the other pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - ICE negotiation fails
</p>
</blockquote>
<blockquote class="citation">
<p>
    - shut and restart caller pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - call other pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - ICE works and call is made successfully
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/369#changelog";s:7:"summary";s:1283:"<p>
Ravin Suri reported:
</p>
<blockquote class="citation">
<p>
 I have seen some instances where after many hours of running pjsua in an idle mode, it will not be able to make calls due to ICE negotiation failing. On quitting pjsua and restarting it, a call to the same destinations is successful.
</p>
</blockquote>
<blockquote class="citation">
<p>
 This is the sequence of steps:
</p>
</blockquote>
<blockquote class="citation">
<p>
    - start pjsua on both ends
</p>
</blockquote>
<blockquote class="citation">
<p>
    - make a call from one to another -- this works fine, ICE neg succeeds and call is ok.
</p>
</blockquote>
<blockquote class="citation">
<p>
    - hang up call after a few minutes
</p>
</blockquote>
<blockquote class="citation">
<p>
    - let the pjsua's keep running for say, 8 hours
</p>
</blockquote>
<blockquote class="citation">
<p>
    - try to make the same call again to the other pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - ICE negotiation fails
</p>
</blockquote>
<blockquote class="citation">
<p>
    - shut and restart caller pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - call other pjsua
</p>
</blockquote>
<blockquote class="citation">
<p>
    - ICE works and call is made successfully
</p>
</blockquote>
";}i:331;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/370";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/370";s:5:"title";s:60:"#370: Notification to application when ICE negotiation fails";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/370#changelog";}i:332;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/371";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/371";s:5:"title";s:70:"#371: Bug with REGISTER expiration calculation (thanks Philippe Leuba)";s:11:"description";s:305:"<p>
According to RFC 3261 Section 10.2.4:
</p>
<p>
When calculating registration refresh interval from the 200/OK response, client registration session should only inspect the expires parameter of Contact headers that it has sent earlier. It should not include Contact headers which are not its own.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/371#changelog";s:7:"summary";s:305:"<p>
According to RFC 3261 Section 10.2.4:
</p>
<p>
When calculating registration refresh interval from the 200/OK response, client registration session should only inspect the expires parameter of Contact headers that it has sent earlier. It should not include Contact headers which are not its own.
</p>
";}i:333;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/372";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/372";s:5:"title";s:62:"#372: Handle case where STUN mapped address has changed in ICE";s:11:"description";s:334:"<p>
It has been observed that on some NAT router, after some time (in this case, 8-10 hours of idle), NAT may assign different binding even when STUN keep alive packets have been sent periodically. In this case, ICE transport should update the <tt>srflx</tt> candidate accordingly.
</p>
<p>
Thanks Ravin Suri for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/372#changelog";s:7:"summary";s:334:"<p>
It has been observed that on some NAT router, after some time (in this case, 8-10 hours of idle), NAT may assign different binding even when STUN keep alive packets have been sent periodically. In this case, ICE transport should update the <tt>srflx</tt> candidate accordingly.
</p>
<p>
Thanks Ravin Suri for reporting this.
</p>
";}i:334;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/373";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/373";s:5:"title";s:53:"#373: Packet loss simulation in PJMEDIA ICE transport";s:11:"description";s:210:"<p>
pjsua has a packet simulation option (<tt>rx-drop-pct</tt> and <tt>tx-drop-pct</tt> option), but this is currently only used by UDP media transport.
</p>
<p>
Add similar option in ICE media transport.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/373#changelog";s:7:"summary";s:210:"<p>
pjsua has a packet simulation option (<tt>rx-drop-pct</tt> and <tt>tx-drop-pct</tt> option), but this is currently only used by UDP media transport.
</p>
<p>
Add similar option in ICE media transport.
</p>
";}i:335;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/374";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/374";s:5:"title";s:67:"#374: Update STUN specification from rfc3489bis-06 to rfc3489bis-10";s:11:"description";s:1391:"<p>
Changes in the STUN specification from rfc3489bis-06 to rfc3489bis-10:
</p>
<ul><li>STUN transaction timeout is no longer hardcoded to 1600ms, but rather 16*RTO
</li><li>Changes in MESSAGE-INTEGRITY calculation, with regard to the message length value. Previously in bis-06, the length was set to the actual/final length of the message. Now the length is the message length after M-I is added, but before any other attributes past M-I (such as FINGERPRINT) is added.
</li><li>Similarly for FINGERPRINT calculation
</li><li>HMAC padding for MESSAGE-INTEGRITY is no longer necessary
</li><li>Some STUN status codes related to client error were removed:
<ul><li>430 Stale Credentials
</li><li>431 Integrity Check Failure
</li><li>432 Missing Username
</li><li>433 Use TLS
</li><li>434 Missing Realm
</li><li>435 Missing Nonce
</li><li>436 Unknown Username
</li><li>437 No Binding
</li></ul></li><li>Subsequently since some status codes were removed, response codes for authentication were changed
</li><li>Now non-FINGERPRINT attributes are allowed to exist after M-I. Endpoint MUST ignore these attributes, for now.
</li><li>added more STUN test vectors in STUN test program
</li></ul><p>
<strong>Note that these changes are NOT backward compatible with rfc3489bis-06, meaning new ICE software based on new PJNATH will not be able to negotiate with ICE from previous PJNATH.</strong>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/374#changelog";s:7:"summary";s:1391:"<p>
Changes in the STUN specification from rfc3489bis-06 to rfc3489bis-10:
</p>
<ul><li>STUN transaction timeout is no longer hardcoded to 1600ms, but rather 16*RTO
</li><li>Changes in MESSAGE-INTEGRITY calculation, with regard to the message length value. Previously in bis-06, the length was set to the actual/final length of the message. Now the length is the message length after M-I is added, but before any other attributes past M-I (such as FINGERPRINT) is added.
</li><li>Similarly for FINGERPRINT calculation
</li><li>HMAC padding for MESSAGE-INTEGRITY is no longer necessary
</li><li>Some STUN status codes related to client error were removed:
<ul><li>430 Stale Credentials
</li><li>431 Integrity Check Failure
</li><li>432 Missing Username
</li><li>433 Use TLS
</li><li>434 Missing Realm
</li><li>435 Missing Nonce
</li><li>436 Unknown Username
</li><li>437 No Binding
</li></ul></li><li>Subsequently since some status codes were removed, response codes for authentication were changed
</li><li>Now non-FINGERPRINT attributes are allowed to exist after M-I. Endpoint MUST ignore these attributes, for now.
</li><li>added more STUN test vectors in STUN test program
</li></ul><p>
<strong>Note that these changes are NOT backward compatible with rfc3489bis-06, meaning new ICE software based on new PJNATH will not be able to negotiate with ICE from previous PJNATH.</strong>
</p>
";}i:336;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/375";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/375";s:5:"title";s:97:"#375: Bug in ioqueue prevents re-registering more than PJ_IOQUEUE_MAX_HANDLES (thanks Phil Torre)";s:11:"description";s:568:"<p>
With <tt>PJ_IOQUEUE_HAS_SAFE_UNREG</tt> is set (the default setting), socket keys should have been put back to <tt>free_list</tt> once the socket is unregistered, to allow the keys to be reused by subsequent sockets. This task is done by <tt>scan_closing_keys()</tt> function.
</p>
<p>
A bug prevents <tt>scan_closing_keys()</tt> from being called, causing unregistered keys to never been put back to <tt>free_list</tt>, and registration will fail after <tt>PJ_IOQUEUE_MAX_HANDLES</tt> sockets are unregistered.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/375#changelog";s:7:"summary";s:568:"<p>
With <tt>PJ_IOQUEUE_HAS_SAFE_UNREG</tt> is set (the default setting), socket keys should have been put back to <tt>free_list</tt> once the socket is unregistered, to allow the keys to be reused by subsequent sockets. This task is done by <tt>scan_closing_keys()</tt> function.
</p>
<p>
A bug prevents <tt>scan_closing_keys()</tt> from being called, causing unregistered keys to never been put back to <tt>free_list</tt>, and registration will fail after <tt>PJ_IOQUEUE_MAX_HANDLES</tt> sockets are unregistered.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";}i:337;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/376";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/376";s:5:"title";s:97:"#376: Bug in ioqueue prevents re-registering more than PJ_IOQUEUE_MAX_HANDLES (thanks Phil Torre)";s:11:"description";s:568:"<p>
With <tt>PJ_IOQUEUE_HAS_SAFE_UNREG</tt> is set (the default setting), socket keys should have been put back to <tt>free_list</tt> once the socket is unregistered, to allow the keys to be reused by subsequent sockets. This task is done by <tt>scan_closing_keys()</tt> function.
</p>
<p>
A bug prevents <tt>scan_closing_keys()</tt> from being called, causing unregistered keys to never been put back to <tt>free_list</tt>, and registration will fail after <tt>PJ_IOQUEUE_MAX_HANDLES</tt> sockets are unregistered.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/376#changelog";s:7:"summary";s:568:"<p>
With <tt>PJ_IOQUEUE_HAS_SAFE_UNREG</tt> is set (the default setting), socket keys should have been put back to <tt>free_list</tt> once the socket is unregistered, to allow the keys to be reused by subsequent sockets. This task is done by <tt>scan_closing_keys()</tt> function.
</p>
<p>
A bug prevents <tt>scan_closing_keys()</tt> from being called, causing unregistered keys to never been put back to <tt>free_list</tt>, and registration will fail after <tt>PJ_IOQUEUE_MAX_HANDLES</tt> sockets are unregistered.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";}i:338;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/377";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/377";s:5:"title";s:33:"#377: Support for sending RTCP RR";s:11:"description";s:506:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/13" title="Send RTCP RR if stream is not transmitting RTP packets (closed)">#13</a> for trunk.
</p>
<p>
The RTCP framework should send RTCP RR when it's not transmitting anything.
</p>
<p>
Currently the transmission of RTCP was driven by transmission of RTP, so when an endpoint is only actively listening (and not sending anything, although stream direction is send-recv), then no RTCP packet is sent.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/377#changelog";s:7:"summary";s:506:"<p>
This is duplicate of ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/13" title="Send RTCP RR if stream is not transmitting RTP packets (closed)">#13</a> for trunk.
</p>
<p>
The RTCP framework should send RTCP RR when it's not transmitting anything.
</p>
<p>
Currently the transmission of RTCP was driven by transmission of RTP, so when an endpoint is only actively listening (and not sending anything, although stream direction is send-recv), then no RTCP packet is sent.
</p>
";}i:339;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/379";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/379";s:5:"title";s:40:"#379: Implement merged request detection";s:11:"description";s:1350:"<p>
Merged request is described in RFC 3261 Section 8.2.2.2:
</p>
<pre class="wiki">8.2.2.2 Merged Requests

   If the request has no tag in the To header field, the UAS core MUST
   check the request against ongoing transactions.  If the From tag,
   Call-ID, and CSeq exactly match those associated with an ongoing
   transaction, but the request does not match that transaction (based
   on the matching rules in Section 17.2.3), the UAS core SHOULD
   generate a 482 (Loop Detected) response and pass it to the server
   transaction.

      The same request has arrived at the UAS more than once, following
      different paths, most likely due to forking.  The UAS processes
      the first such request received and responds with a 482 (Loop
      Detected) to the rest of them.
</pre><p>
This feature is needed to cope with (Open)SER behavior in the scenario below.
</p>
<ol><li>UAC sends INVITE
</li><li>UAS receives INVITE and sends 200 response
</li><li>This response doesn't reach UAC, so UAC keeps retransmitting INVITE
</li><li>At some point, it looks like the proxy kills the INVITE transaction, so upon receiving INVITE retransmission from UAC, it will forward the INVITE to UAS, with different branch.
</li><li>UAS, without merge request detection, will treat this INVITE as a new INVITE, thus it will create a new dialog.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/379#changelog";s:7:"summary";s:1350:"<p>
Merged request is described in RFC 3261 Section 8.2.2.2:
</p>
<pre class="wiki">8.2.2.2 Merged Requests

   If the request has no tag in the To header field, the UAS core MUST
   check the request against ongoing transactions.  If the From tag,
   Call-ID, and CSeq exactly match those associated with an ongoing
   transaction, but the request does not match that transaction (based
   on the matching rules in Section 17.2.3), the UAS core SHOULD
   generate a 482 (Loop Detected) response and pass it to the server
   transaction.

      The same request has arrived at the UAS more than once, following
      different paths, most likely due to forking.  The UAS processes
      the first such request received and responds with a 482 (Loop
      Detected) to the rest of them.
</pre><p>
This feature is needed to cope with (Open)SER behavior in the scenario below.
</p>
<ol><li>UAC sends INVITE
</li><li>UAS receives INVITE and sends 200 response
</li><li>This response doesn't reach UAC, so UAC keeps retransmitting INVITE
</li><li>At some point, it looks like the proxy kills the INVITE transaction, so upon receiving INVITE retransmission from UAC, it will forward the INVITE to UAS, with different branch.
</li><li>UAS, without merge request detection, will treat this INVITE as a new INVITE, thus it will create a new dialog.
</li></ol>";}i:340;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/380";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/380";s:5:"title";s:88:"#380: Build problems because of mount directory problem on Mingw (thanks Lafras Henning)";s:11:"description";s:927:"<p>
Quoting Lafras's email on PJSIP mailing list:
</p>
<p>
Trying to build version 7 gives the following error:
 
./configure completes ok (appart from a WARNING: mswsock.h: present but cannot be compiled - also warned in V5 but was ok)
</p>
<pre class="wiki">make dep
&gt;&gt;&gt;
for dir in pjlib pjlib-util pjnath third_party pjmedia pjsip pjsip-apps; do \
        if c:/mingw/bin/make.exe  -C $dir/build dep; then \
            true; \
        else \
            exit 1; \
        fi; \
done
makefile:2: /home/Lafras/pjt/build/common.mak: No such file or directory
c:\mingw\bin\make.exe[1]: Entering directory `C:/msys/1.0/home/Lafras/pjt/pjlib/build'
c:\mingw\bin\make.exe[1]: Leaving directory `C:/msys/1.0/home/Lafras/pjt/pjlib/build'
c:\mingw\bin\make.exe[1]: *** No rule to make target `/home/Lafras/pjt/build/common.mak'.  Stop.
c:\mingw\bin\make.exe: *** [dep] Error 1
&lt;&lt;&lt;&lt;&lt;
</pre><p>
then stops
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/380#changelog";s:7:"summary";s:927:"<p>
Quoting Lafras's email on PJSIP mailing list:
</p>
<p>
Trying to build version 7 gives the following error:
 
./configure completes ok (appart from a WARNING: mswsock.h: present but cannot be compiled - also warned in V5 but was ok)
</p>
<pre class="wiki">make dep
&gt;&gt;&gt;
for dir in pjlib pjlib-util pjnath third_party pjmedia pjsip pjsip-apps; do \
        if c:/mingw/bin/make.exe  -C $dir/build dep; then \
            true; \
        else \
            exit 1; \
        fi; \
done
makefile:2: /home/Lafras/pjt/build/common.mak: No such file or directory
c:\mingw\bin\make.exe[1]: Entering directory `C:/msys/1.0/home/Lafras/pjt/pjlib/build'
c:\mingw\bin\make.exe[1]: Leaving directory `C:/msys/1.0/home/Lafras/pjt/pjlib/build'
c:\mingw\bin\make.exe[1]: *** No rule to make target `/home/Lafras/pjt/build/common.mak'.  Stop.
c:\mingw\bin\make.exe: *** [dep] Error 1
&lt;&lt;&lt;&lt;&lt;
</pre><p>
then stops
</p>
";}i:341;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/381";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/381";s:5:"title";s:114:"#381: Auto-update IP address/port in Contact header according to the IP address/port received in REGISTER response";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/381#changelog";}i:342;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/382";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/382";s:5:"title";s:70:"#382: Update ICE from draft-ietf-mmusic-ice-14 to ice-18 specification";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/382#changelog";}i:343;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/383";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/383";s:5:"title";s:78:"#383: Bug with handling Via received and rport parameters for response message";s:11:"description";s:247:"<p>
PJSIP incorrectly adds Via <tt>received</tt> and <tt>rport</tt> parameters for response messages it receives. This may cause application that inspects these parameters on the response to get invalid values when server didn't supply them.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/383#changelog";s:7:"summary";s:247:"<p>
PJSIP incorrectly adds Via <tt>received</tt> and <tt>rport</tt> parameters for response messages it receives. This may cause application that inspects these parameters on the response to get invalid values when server didn't supply them.
</p>
";}i:344;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/384";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/384";s:5:"title";s:71:"#384: Prefer to use Direct Sound as the sound device backend on Windows";s:11:"description";s:95:"<p>
DirectSound has much better latency than WMME, so PJMEDIA should use this by default.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/384#changelog";s:7:"summary";s:95:"<p>
DirectSound has much better latency than WMME, so PJMEDIA should use this by default.
</p>
";}i:345;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/385";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/385";s:5:"title";s:63:"#385: Support for reliable provisional response (100rel, PRACK)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/385#changelog";}i:346;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/386";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/386";s:5:"title";s:79:"#386: Over-deinitialize sound subsystem in pjsua_media.c (thanks Jiandong Ruan)";s:11:"description";s:329:"<p>
<tt>pjsua_media_subsys_destroy()</tt> unnecessarily calls <tt>pjmedia_snd_deinit()</tt>, while this should've already been done in <tt>pjmedia_endpt_destroy()</tt>. Because of this, subsequent pjsua restart (within the same process) may fail to initialize sound device.
</p>
<p>
Thanks Jiandong Ruan for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/386#changelog";s:7:"summary";s:329:"<p>
<tt>pjsua_media_subsys_destroy()</tt> unnecessarily calls <tt>pjmedia_snd_deinit()</tt>, while this should've already been done in <tt>pjmedia_endpt_destroy()</tt>. Because of this, subsequent pjsua restart (within the same process) may fail to initialize sound device.
</p>
<p>
Thanks Jiandong Ruan for reporting this.
</p>
";}i:347;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/387";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/387";s:5:"title";s:58:"#387: UAS dialog should add Contact header in 1xx response";s:11:"description";s:90:"<p>
This would cause subsequent request from the UAC (such as <i>PRACK</i>) to fail.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/387#changelog";s:7:"summary";s:90:"<p>
This would cause subsequent request from the UAC (such as <i>PRACK</i>) to fail.
</p>
";}i:348;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/388";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/388";s:5:"title";s:54:"#388: Support for receiving RTP packet with no payload";s:11:"description";s:237:"<p>
Some endpoint (SNOM SoftPhone in this case) sends RTP packets with no payload, presumably for keep-alive. This caused PJMEDIA to report <tt>PJMEDIA_RTP_EINLEN</tt> (Invalid RTP packet length) error, while it should be accepted.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/388#changelog";s:7:"summary";s:237:"<p>
Some endpoint (SNOM SoftPhone in this case) sends RTP packets with no payload, presumably for keep-alive. This caused PJMEDIA to report <tt>PJMEDIA_RTP_EINLEN</tt> (Invalid RTP packet length) error, while it should be accepted.
</p>
";}i:349;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/389";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/389";s:5:"title";s:76:"#389: Added new commands in pjsua to change codec priorities and send UPDATE";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/389#changelog";}i:350;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/390";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/390";s:5:"title";s:78:"#390: Register session will keep transport instance so that keep-alive is sent";s:11:"description";s:1158:"<p>
Previously, the client registration session (pjsip_regc) doesn't keep track of which transport it uses, and the reference to the transport will be released once the REGISTER UAC transaction completes. With TCP and TLS transport, this will make transport manager to close down the transport after <tt>PJSIP_TRANSPORT_IDLE_TIME</tt> seconds, when there are no other SIP objects referencing the transport.
</p>
<p>
This is not ideal, since we want to keep the transport open (especially for TLS) so that server can send requests to us. Especially with the new keep-alive mechanism for TCP and TLS (in ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/95" title="Keep-alive mechanism for TCP and TLS transports (closed)">#95</a>), which will maintain the connection open for us.
</p>
<p>
With this ticket, the client registration session will keep the reference of the last transport used. This reference will be released either when the session is destroyed, or when it detects that the next request is using difference transport. In the later case, the registration session will update the reference to the last transport used.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/390#changelog";s:7:"summary";s:1158:"<p>
Previously, the client registration session (pjsip_regc) doesn't keep track of which transport it uses, and the reference to the transport will be released once the REGISTER UAC transaction completes. With TCP and TLS transport, this will make transport manager to close down the transport after <tt>PJSIP_TRANSPORT_IDLE_TIME</tt> seconds, when there are no other SIP objects referencing the transport.
</p>
<p>
This is not ideal, since we want to keep the transport open (especially for TLS) so that server can send requests to us. Especially with the new keep-alive mechanism for TCP and TLS (in ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/95" title="Keep-alive mechanism for TCP and TLS transports (closed)">#95</a>), which will maintain the connection open for us.
</p>
<p>
With this ticket, the client registration session will keep the reference of the last transport used. This reference will be released either when the session is destroyed, or when it detects that the next request is using difference transport. In the later case, the registration session will update the reference to the last transport used.
</p>
";}i:351;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/391";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/391";s:5:"title";s:151:"#391: Added framework to send and receive arbitrary requests within call in PJSUA-LIB, with samples to send/receive DTMF with INFO in pjsua application";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/391#changelog";}i:352;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/392";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/392";s:5:"title";s:120:"#392: Added configuration to enable old, rfc3489bis-06 and older, style of MESSAGE-INTEGRITY and FINGERPRINT calculation";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/392#changelog";}i:353;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/393";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/393";s:5:"title";s:83:"#393: Added configuration to set basic audio frame length to minimize audio latency";s:11:"description";s:215:"<p>
In pjsua-lib, audio frame length was controlled by <tt>PTIME</tt> macro in <tt>pjsua_media.c</tt>, which value is hard-coded to 20 ms. Some application may want to set different value to get lower latency.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/393#changelog";s:7:"summary";s:215:"<p>
In pjsua-lib, audio frame length was controlled by <tt>PTIME</tt> macro in <tt>pjsua_media.c</tt>, which value is hard-coded to 20 ms. Some application may want to set different value to get lower latency.
</p>
";}i:354;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/394";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/394";s:5:"title";s:92:"#394: Reduce PJMEDIA_SOUND_BUFFER_COUNT default setting from 16 to 6 to reduce audio latency";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/394#changelog";}i:355;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/395";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/395";s:5:"title";s:75:"#395: Added configuration to control maximum PortAudio sound buffer latency";s:11:"description";s:201:"<p>
With WMME backend, PortAudio will set latency to 200ms. This setting would limit the latency to a certain value.
</p>
<p>
Note that currently this applies to WMME and not DirectSound backend.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/395#changelog";s:7:"summary";s:201:"<p>
With WMME backend, PortAudio will set latency to 200ms. This setting would limit the latency to a certain value.
</p>
<p>
Note that currently this applies to WMME and not DirectSound backend.
</p>
";}i:356;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/396";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/396";s:5:"title";s:68:"#396: Support for 3GPP/IMS digest AKA (AKAv1-MD5) SIP authentication";s:11:"description";s:178:"<p>
Digest AKA is utilized by 3GPP/IMS, and is specified in RFC 3310: Hypertext Transfer Protocol (HTTP) Digest Authentication Using Authentication and Key Agreement (AKA).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/396#changelog";s:7:"summary";s:178:"<p>
Digest AKA is utilized by 3GPP/IMS, and is specified in RFC 3310: Hypertext Transfer Protocol (HTTP) Digest Authentication Using Authentication and Key Agreement (AKA).
</p>
";}i:357;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/397";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/397";s:5:"title";s:67:"#397: Bug with handling large SIP message body (thanks Helmut Wolf)";s:11:"description";s:126:"<p>
In some cases, pjsip fails to detect large message body, which causes the body to be truncated in outgoing messages.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/397#changelog";s:7:"summary";s:126:"<p>
In some cases, pjsip fails to detect large message body, which causes the body to be truncated in outgoing messages.
</p>
";}i:358;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/398";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/398";s:5:"title";s:88:"#398: Support for Secret Rabbit Code (aka libsamplerate) sample rate conversionl library";s:11:"description";s:230:"<p>
Please see <a class="ext-link" href="http://www.pjsip.org/trac/browser/pjproject/trunk/third_party/build/samplerate/README.txt"><span class="icon">third_party/build/samplerate/README.txt</span></a> in pjsip distribution.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/398#changelog";s:7:"summary";s:230:"<p>
Please see <a class="ext-link" href="http://www.pjsip.org/trac/browser/pjproject/trunk/third_party/build/samplerate/README.txt"><span class="icon">third_party/build/samplerate/README.txt</span></a> in pjsip distribution.
</p>
";}i:359;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/399";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/399";s:5:"title";s:61:"#399: Added tool to perform NAT type detection/classification";s:11:"description";s:165:"<p>
With current implementation, it is rather hard to troubleshoot ICE negotiation failure. Having information about NAT type will help debugging such failure.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/399#changelog";s:7:"summary";s:165:"<p>
With current implementation, it is rather hard to troubleshoot ICE negotiation failure. Having information about NAT type will help debugging such failure.
</p>
";}i:360;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/400";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/400";s:5:"title";s:49:"#400: Support for Service-Route header (RFC 3608)";s:11:"description";s:249:"<p>
The <tt>Service-Route</tt> header is used for routing requests in 3GPP/IMS network. UAC would construct the initial route-set based on the URI listed in <tt>Service-Route</tt> headers.
</p>
<p>
This support will be done in PJSUA-LIB level.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/400#changelog";s:7:"summary";s:249:"<p>
The <tt>Service-Route</tt> header is used for routing requests in 3GPP/IMS network. UAC would construct the initial route-set based on the URI listed in <tt>Service-Route</tt> headers.
</p>
<p>
This support will be done in PJSUA-LIB level.
</p>
";}i:361;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/401";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/401";s:5:"title";s:63:"#401: Unable to register when account URI contains display name";s:11:"description";s:134:"<p>
When account URI contains display name, pjsip incorrectly interpret successful REGISTER response as unregistration response.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/401#changelog";s:7:"summary";s:134:"<p>
When account URI contains display name, pjsip incorrectly interpret successful REGISTER response as unregistration response.
</p>
";}i:362;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/402";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/402";s:5:"title";s:69:"#402: Endless error loop when TCP accept() continuously returns error";s:11:"description";s:175:"<p>
When TCP <tt>accept()</tt> continuously returns error for some reason, the SIP TCP listener will go into endless loop.
</p>
<p>
Thanks Ravin Suri for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/402#changelog";s:7:"summary";s:175:"<p>
When TCP <tt>accept()</tt> continuously returns error for some reason, the SIP TCP listener will go into endless loop.
</p>
<p>
Thanks Ravin Suri for reporting this.
</p>
";}i:363;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/403";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/403";s:5:"title";s:67:"#403: Ability to specify RConnection instance etc  in PJLIB Symbian";s:11:"description";s:96:"<p>
Some applications want to be able to specify RConnection instance to be used by PJLIB.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/403#changelog";s:7:"summary";s:96:"<p>
Some applications want to be able to specify RConnection instance to be used by PJLIB.
</p>
";}i:364;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/404";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/404";s:5:"title";s:31:"#404: Issues with Windows Vista";s:11:"description";s:334:"<p>
Suspected Issues with Windows Vista:
</p>
<ul><li><strong>Audio quality</strong>: audio stutters on Vista. This may not be PortAudio's problem but rather general Vista problem as there seems to be lots of users complaining about this on the net.
</li><li><strong>AcceptEx() returns WSAENOTSOCK</strong>: to be verified.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/404#changelog";s:7:"summary";s:334:"<p>
Suspected Issues with Windows Vista:
</p>
<ul><li><strong>Audio quality</strong>: audio stutters on Vista. This may not be PortAudio's problem but rather general Vista problem as there seems to be lots of users complaining about this on the net.
</li><li><strong>AcceptEx() returns WSAENOTSOCK</strong>: to be verified.
</li></ul>";}i:365;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/405";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/405";s:5:"title";s:85:"#405: Subscribe to buddy presence upon receiving incoming subscription from the buddy";s:11:"description";s:238:"<p>
To reduce the number of SUBSCRIBE's sent to network (to refresh buddy's subscription when previous SUBSCRIBE failed), PJSUA-LIB will now initiate outgoing presence subscription when it receives incoming SUBSCRIBE from the buddy.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/405#changelog";s:7:"summary";s:238:"<p>
To reduce the number of SUBSCRIBE's sent to network (to refresh buddy's subscription when previous SUBSCRIBE failed), PJSUA-LIB will now initiate outgoing presence subscription when it receives incoming SUBSCRIBE from the buddy.
</p>
";}i:366;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/406";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/406";s:5:"title";s:59:"#406: New PJSUA API to update buddy's presence subscription";s:11:"description";s:380:"<p>
Currently there is no API to re-initiate presence subscription for a buddy when previous subscription failed. Although the library periodically refreshes the presence subscription for all buddies, some application may want to refresh the buddy's presence subscription immediately (for example upon receiving incoming MESSAGE), and this function is used for that purpose.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/406#changelog";s:7:"summary";s:380:"<p>
Currently there is no API to re-initiate presence subscription for a buddy when previous subscription failed. Although the library periodically refreshes the presence subscription for all buddies, some application may want to refresh the buddy's presence subscription immediately (for example upon receiving incoming MESSAGE), and this function is used for that purpose.
</p>
";}i:367;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/407";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/407";s:5:"title";s:34:"#407: Keep alive for UDP transport";s:11:"description";s:95:"<p>
Add keep-alive mechanism for UDP transports in order to reduce registration interval.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/407#changelog";s:7:"summary";s:95:"<p>
Add keep-alive mechanism for UDP transports in order to reduce registration interval.
</p>
";}i:368;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/409";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/409";s:5:"title";s:97:"#409: Update Contact address/port from the rport in REGISTER response to work with symmetric NATs";s:11:"description";s:452:"<p>
The Contact URI is calculated from the STUN mapped address for the SIP transport, which in the symmetric NAT case would be different than <tt>rport</tt> received from REGISTER response. This would cause subsequent request directed towards the endpoint to not reach the endpoint.
</p>
<p>
PJSUA-LIB should detect the difference between Contact port and <tt>rport</tt>, and update the Contact address and registration to use the <tt>rport</tt>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/409#changelog";s:7:"summary";s:452:"<p>
The Contact URI is calculated from the STUN mapped address for the SIP transport, which in the symmetric NAT case would be different than <tt>rport</tt> received from REGISTER response. This would cause subsequent request directed towards the endpoint to not reach the endpoint.
</p>
<p>
PJSUA-LIB should detect the difference between Contact port and <tt>rport</tt>, and update the Contact address and registration to use the <tt>rport</tt>.
</p>
";}i:369;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/410";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/410";s:5:"title";s:80:"#410: Endless authentication retries when 401/407 response contains no challenge";s:11:"description";s:101:"<p>
PJSIP will retry sending the request endlessly when 401/407 response contains no challenge.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/410#changelog";s:7:"summary";s:101:"<p>
PJSIP will retry sending the request endlessly when 401/407 response contains no challenge.
</p>
";}i:370;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/414";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/414";s:5:"title";s:54:"#414: Implement IP interface enumeration on Linux/Unix";s:11:"description";s:134:"<p>
Implement IP interface enumeration (<tt>pj_enum_ip_interface()</tt>) for Linux/*nix/MacOS X with <tt>SIOCGIFCONF</tt> ioctl.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/414#changelog";s:7:"summary";s:134:"<p>
Implement IP interface enumeration (<tt>pj_enum_ip_interface()</tt>) for Linux/*nix/MacOS X with <tt>SIOCGIFCONF</tt> ioctl.
</p>
";}i:371;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/415";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/415";s:5:"title";s:27:"#415: IPv6 support in PJLIB";s:11:"description";s:172:"<p>
Requirements:
</p>
<ul><li>should work on <i>most</i> platforms where IPv6 is available (Windows, WinCE, Linux, *nix, MacOS X, and Symbian)
</li><li>optional
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/415#changelog";s:7:"summary";s:172:"<p>
Requirements:
</p>
<ul><li>should work on <i>most</i> platforms where IPv6 is available (Windows, WinCE, Linux, *nix, MacOS X, and Symbian)
</li><li>optional
</li></ul>";}i:372;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/416";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/416";s:5:"title";s:54:"#416: Allow application to handle sending ACK manually";s:11:"description";s:329:"<p>
Please see "3PCC call transfer implementation" thread on PJSIP mailing list archive for discussion (<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2007-November/000713.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2007-November/000713.html</span></a>)
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/416#changelog";s:7:"summary";s:329:"<p>
Please see "3PCC call transfer implementation" thread on PJSIP mailing list archive for discussion (<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2007-November/000713.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2007-November/000713.html</span></a>)
</p>
";}i:373;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/417";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/417";s:5:"title";s:54:"#417: Expose the native thread handle for applications";s:11:"description";s:193:"<p>
Some applications require the native thread handle (pthread_t with PThread, or HANDLE with Windows) so that it can do some manipulations on it (for example, changing thread priority).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/417#changelog";s:7:"summary";s:193:"<p>
Some applications require the native thread handle (pthread_t with PThread, or HANDLE with Windows) so that it can do some manipulations on it (for example, changing thread priority).
</p>
";}i:374;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/423";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/423";s:5:"title";s:96:"#423: Client registration (pjsip_regc) doesn't obey explicit transport selection (thanks Hitesh)";s:11:"description";s:157:"<p>
When pjsip_regc is configured to use explicit transport (with <tt>pjsip_regc_set_transport()</tt>), it still sends request using default transport.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/423#changelog";s:7:"summary";s:157:"<p>
When pjsip_regc is configured to use explicit transport (with <tt>pjsip_regc_set_transport()</tt>), it still sends request using default transport.
</p>
";}i:375;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/424";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/424";s:5:"title";s:86:"#424: Added API to retrieve number of transactions and dialogs (thanks Sergey Bakulin)";s:11:"description";s:111:"<p>
Some application needs to query the number of transactions and dialogs currently active in the stack.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/424#changelog";s:7:"summary";s:111:"<p>
Some application needs to query the number of transactions and dialogs currently active in the stack.
</p>
";}i:376;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/425";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/425";s:5:"title";s:97:"#425: pjstun_get_mapped_addr() failed when receiving incoming SIP request (thanks Lafras Henning)";s:11:"description";s:511:"<p>
<tt>pjstun_get_mapped_addr()</tt> is the function to resolve the mapped STUN address for given sockets. This is an old/simple STUN implementation in pjlib-util, and is different than the STUN implementation in pjnath.
</p>
<p>
When <tt>pjstun_get_mapped_addr()</tt> is called to resolve local SIP socket, and when at the same time other SIP endpoint sends SIP request to pjsip, this function will fail with <tt>WSAEMSGSIZE</tt> error, because the SIP request is larger than the expected STUN response.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/425#changelog";s:7:"summary";s:511:"<p>
<tt>pjstun_get_mapped_addr()</tt> is the function to resolve the mapped STUN address for given sockets. This is an old/simple STUN implementation in pjlib-util, and is different than the STUN implementation in pjnath.
</p>
<p>
When <tt>pjstun_get_mapped_addr()</tt> is called to resolve local SIP socket, and when at the same time other SIP endpoint sends SIP request to pjsip, this function will fail with <tt>WSAEMSGSIZE</tt> error, because the SIP request is larger than the expected STUN response.
</p>
";}i:377;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/426";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/426";s:5:"title";s:86:"#426: Respond incoming CANCEL with no matching INVITE with 481 (thanks Sergey Bakulin)";s:11:"description";s:63:"<p>
Previously sip_inv.c respond this CANCEL with 200/OK.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/426#changelog";s:7:"summary";s:63:"<p>
Previously sip_inv.c respond this CANCEL with 200/OK.
</p>
";}i:378;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/427";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/427";s:5:"title";s:71:"#427: Conference bridge doesn't handle NONE frame (thanks Daniel Braun)";s:11:"description";s:329:"<p>
The conference bridge doesn't handle <tt>PJMEDIA_FRAME_TYPE_NONE</tt> emitted from some media ports (such as tone generator), causing it to process frame buffer that's not initialized. This could cause errors such as noise being generated, or in some cases, even echoes.
</p>
<p>
Thanks Daniel Braun for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/427#changelog";s:7:"summary";s:329:"<p>
The conference bridge doesn't handle <tt>PJMEDIA_FRAME_TYPE_NONE</tt> emitted from some media ports (such as tone generator), causing it to process frame buffer that's not initialized. This could cause errors such as noise being generated, or in some cases, even echoes.
</p>
<p>
Thanks Daniel Braun for reporting this.
</p>
";}i:379;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/428";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/428";s:5:"title";s:76:"#428: Conference bridge does not update transmitter_cnt when port is removed";s:11:"description";s:216:"<p>
When a port is removed from the bridge, the <tt>transmitter_cnt</tt> of other ports that this port is transmitting to is not updated, causing assertion later on.
</p>
<p>
Thanks Norman Franke for reporting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/428#changelog";s:7:"summary";s:216:"<p>
When a port is removed from the bridge, the <tt>transmitter_cnt</tt> of other ports that this port is transmitting to is not updated, causing assertion later on.
</p>
<p>
Thanks Norman Franke for reporting.
</p>
";}i:380;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/429";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/429";s:5:"title";s:102:"#429: Failed to create RTP/RTCP sockets when explicit bind address is specified (thanks Arie Velthoen)";s:11:"description";s:641:"<p>
Quoting Arie's mail on pjsip list:
</p>
<blockquote class="citation">
<p>
 Function pjsua_media_transports_create fails when called with a pjsua_transport_config in which bound_addr is set to the IP-address of a local interface.
<br />
<br />
 I am using release 0.8.0 without ICE.
<br />
<br /> 
 It appears that the bound_addr is converted twice from host byte order to network byte order:
<br />
<br />
 The first conversion is in create_rtp_rtcp_sock calling  via pj_sockaddr_in_set_str_addr (calling pj_inet_addr  etc.) The second conversion is in create_rtp_rtcp_sock calling pj_sock_bind_in (calling pj_htonl).
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/429#changelog";s:7:"summary";s:641:"<p>
Quoting Arie's mail on pjsip list:
</p>
<blockquote class="citation">
<p>
 Function pjsua_media_transports_create fails when called with a pjsua_transport_config in which bound_addr is set to the IP-address of a local interface.
<br />
<br />
 I am using release 0.8.0 without ICE.
<br />
<br /> 
 It appears that the bound_addr is converted twice from host byte order to network byte order:
<br />
<br />
 The first conversion is in create_rtp_rtcp_sock calling  via pj_sockaddr_in_set_str_addr (calling pj_inet_addr  etc.) The second conversion is in create_rtp_rtcp_sock calling pj_sock_bind_in (calling pj_htonl).
</p>
</blockquote>
";}i:381;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/430";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/430";s:5:"title";s:107:"#430: Added --auto-update-nat, --use-compact-form, and --dis-codec options in pjsua (thanks Lafras Henning)";s:11:"description";s:502:"<p>
Lafras Henning provided this patch to pjsua_app.c:
</p>
<blockquote class="citation">
<p>
 Add command line options to:
<br />
<br />
 --auto-update-nat=N            where N=0 for disabled
<br />
    Disabling the nat update allows the registration to work on this 
 registrar.
<br />
<br />
 --use-compact-form        - Ticket 342
<br />
    The INVITE messages were being fragmented
<br />
<br />
 --dis-codec name        - similar to --add-codec
<br />
    Disables codecs
  
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/430#changelog";s:7:"summary";s:502:"<p>
Lafras Henning provided this patch to pjsua_app.c:
</p>
<blockquote class="citation">
<p>
 Add command line options to:
<br />
<br />
 --auto-update-nat=N            where N=0 for disabled
<br />
    Disabling the nat update allows the registration to work on this 
 registrar.
<br />
<br />
 --use-compact-form        - Ticket 342
<br />
    The INVITE messages were being fragmented
<br />
<br />
 --dis-codec name        - similar to --add-codec
<br />
    Disables codecs
  
</p>
</blockquote>
";}i:382;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/433";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/433";s:5:"title";s:97:"#433: Failure in media negotiation when SDP contains two audio media lines (thanks Arie Velthoen)";s:11:"description";s:838:"<p>
PJSUA-LIB will fail to start audio when the SDP in incoming INVITE contains two audio media lines, for example:
</p>
<pre class="wiki">v=0
o=- 1197975037 1197975037 IN IP4 192.168.9.74
s=-
c=IN IP4 192.168.9.74
t=0 0
m=audio 49200 RTP/SAVP 8 0 9 18 96
a=sendrecv
a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:tMuyik1Aiiq9p4DQVHhAASSWDEP7K7wo0cICOn39
a=rtpmap:8 PCMA/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:9 G722/8000
a=rtpmap:18 G729/8000
a=rtpmap:96 telephone-event/8000
m=audio 49200 RTP/AVP 8 0 9 18 96
a=rtpmap:8 PCMA/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:9 G722/8000
a=rtpmap:18 G729/8000
a=rtpmap:96 telephone-event/8000
</pre><p>
In this case, PJSUA-LIB treats the first <tt>m=</tt> line as the audio media, but since the transport is not supported, the audio will not be active.
</p>
<p>
Thanks Arie Velthoen for pointing this out.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/433#changelog";s:7:"summary";s:838:"<p>
PJSUA-LIB will fail to start audio when the SDP in incoming INVITE contains two audio media lines, for example:
</p>
<pre class="wiki">v=0
o=- 1197975037 1197975037 IN IP4 192.168.9.74
s=-
c=IN IP4 192.168.9.74
t=0 0
m=audio 49200 RTP/SAVP 8 0 9 18 96
a=sendrecv
a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:tMuyik1Aiiq9p4DQVHhAASSWDEP7K7wo0cICOn39
a=rtpmap:8 PCMA/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:9 G722/8000
a=rtpmap:18 G729/8000
a=rtpmap:96 telephone-event/8000
m=audio 49200 RTP/AVP 8 0 9 18 96
a=rtpmap:8 PCMA/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:9 G722/8000
a=rtpmap:18 G729/8000
a=rtpmap:96 telephone-event/8000
</pre><p>
In this case, PJSUA-LIB treats the first <tt>m=</tt> line as the audio media, but since the transport is not supported, the audio will not be active.
</p>
<p>
Thanks Arie Velthoen for pointing this out.
</p>
";}i:383;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/434";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/434";s:5:"title";s:61:"#434: Fixed configurations to build Symbian for device target";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/434#changelog";}i:384;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/435";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/435";s:5:"title";s:46:"#435: Fixed and tested audio on Symbian device";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/435#changelog";}i:385;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/436";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/436";s:5:"title";s:85:"#436: IPv6 support in host resolver caused failure in pjlib initialization on Symbian";s:11:"description";s:100:"<p>
Recent addition of IPv6 caused pj_init() to fail, during IPv6 host resolver initialization
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/436#changelog";s:7:"summary";s:100:"<p>
Recent addition of IPv6 caused pj_init() to fail, during IPv6 host resolver initialization
</p>
";}i:386;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/437";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/437";s:5:"title";s:51:"#437: Stack overflow in ICE on Symbian phone target";s:11:"description";s:217:"<p>
Reduce the stack usage since it caused stack overflow on Symbian phone with default stack size (8KB).
</p>
<p>
Also reduce the pool usage (avoid to use 4000 bytes blocks) and make the pool size configurable.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/437#changelog";s:7:"summary";s:217:"<p>
Reduce the stack usage since it caused stack overflow on Symbian phone with default stack size (8KB).
</p>
<p>
Also reduce the pool usage (avoid to use 4000 bytes blocks) and make the pool size configurable.
</p>
";}i:387;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/439";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/439";s:5:"title";s:43:"#439: Encoder is called for FRAME_TYPE_NONE";s:11:"description";s:502:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/56" title="Periodically transmit RTP packet on silence (closed)">#56</a> makes stream.c calls codec's encode() even when FRAME_TYPE_NONE is given. This is done by replacing FRAME_TYPE_NONE with a zero frame.
</p>
<p>
Unfortunately speex doesn't like zero frame to be fed if previously it has encoded non-zero frame. This will cause CPU utilization to get as high as 80% (in a 2.4GHz P4) and makes decoding sounds awful.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/439#changelog";s:7:"summary";s:502:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/56" title="Periodically transmit RTP packet on silence (closed)">#56</a> makes stream.c calls codec's encode() even when FRAME_TYPE_NONE is given. This is done by replacing FRAME_TYPE_NONE with a zero frame.
</p>
<p>
Unfortunately speex doesn't like zero frame to be fed if previously it has encoded non-zero frame. This will cause CPU utilization to get as high as 80% (in a 2.4GHz P4) and makes decoding sounds awful.
</p>
";}i:388;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/440";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/440";s:5:"title";s:55:"#440: pj_timer_entry_init() doesn't initialize timer ID";s:11:"description";s:210:"<p>
See the discussion in <a class="ext-link" href="http://www.pjsip.org/pipermail/pjsip/2007-August/004183.html"><span class="icon">http://www.pjsip.org/pipermail/pjsip/2007-August/004183.html</span></a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/440#changelog";s:7:"summary";s:210:"<p>
See the discussion in <a class="ext-link" href="http://www.pjsip.org/pipermail/pjsip/2007-August/004183.html"><span class="icon">http://www.pjsip.org/pipermail/pjsip/2007-August/004183.html</span></a>
</p>
";}i:389;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/441";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/441";s:5:"title";s:43:"#441: Fix endianess detection for PortAudio";s:11:"description";s:145:"<p>
We don't use PortAudio's configure script for building PortAudio, and it seems that endianness is not properly set by our build system.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/441#changelog";s:7:"summary";s:145:"<p>
We don't use PortAudio's configure script for building PortAudio, and it seems that endianness is not properly set by our build system.
</p>
";}i:390;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/443";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/443";s:5:"title";s:60:"#443: Overflow in dump_media_session() (thanks Simon Farmer)";s:11:"description";s:121:"<p>
The calculations in this function will overflow for longer call period. Thanks Simon Farmer for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/443#changelog";s:7:"summary";s:121:"<p>
The calculations in this function will overflow for longer call period. Thanks Simon Farmer for reporting this.
</p>
";}i:391;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/444";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/444";s:5:"title";s:76:"#444: Bug in tone generator: can't play more digits (thanks Marian Dragomir)";s:11:"description";s:117:"<p>
Bug in tone generator causes it to fail to generate more digits. Thanks Marian Dragomir for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/444#changelog";s:7:"summary";s:117:"<p>
Bug in tone generator causes it to fail to generate more digits. Thanks Marian Dragomir for reporting this.
</p>
";}i:392;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/445";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/445";s:5:"title";s:42:"#445: Added codec encoding/decoding sample";s:11:"description";s:181:"<p>
A simple example on how to use the codec. The sample will read the PCM samples from input WAV file, encode it, decode it, then write the PCM output to the output WAV file.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/445#changelog";s:7:"summary";s:181:"<p>
A simple example on how to use the codec. The sample will read the PCM samples from input WAV file, encode it, decode it, then write the PCM output to the output WAV file.
</p>
";}i:393;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/446";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/446";s:5:"title";s:71:"#446: Added sample application to mix WAV files using conference bridge";s:11:"description";s:152:"<p>
A new sample file, mix.c (under <tt>pjsip-apps/src/samples</tt> directory, can be used to mix several input WAV files into an output WAV file.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/446#changelog";s:7:"summary";s:152:"<p>
A new sample file, mix.c (under <tt>pjsip-apps/src/samples</tt> directory, can be used to mix several input WAV files into an output WAV file.
</p>
";}i:394;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/447";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/447";s:5:"title";s:49:"#447: WAV player cuts last data from the WAV file";s:11:"description";s:211:"<p>
When the WAV player (pjmedia_wav_player_port) is not configured to playback in a loop, it will ignore the last portion of the WAV file if the WAV file size is not aligned to the WAV port's buffer size.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/447#changelog";s:7:"summary";s:211:"<p>
When the WAV player (pjmedia_wav_player_port) is not configured to playback in a loop, it will ignore the last portion of the WAV file if the WAV file size is not aligned to the WAV port's buffer size.
</p>
";}i:395;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/448";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/448";s:5:"title";s:116:"#448: PJSIP rejects incoming call with 415/Unsupported Media Type for INVITE containing video (thanks Alain Totouom)";s:11:"description";s:490:"<p>
When INVITE contains video line, PJSIP will reject it with 415, while it should accept the INVITE since the INVITE contains audio.
</p>
<p>
Sample SDP:
</p>
<pre class="wiki">v=0
o=root 19999 20001 IN IP4 123.123.123.123
s=session
c=IN IP4 123.123.123.123
t=0 0
m=audio 51788 RTP/AVP 0 3 8 101
a=rtpmap:0 PCMU/8000
a=rtpmap:3 GSM/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:101 telephone-event/8000
a=fmtp:101 0-16
a=silenceSupp:off - - - -
m=video 57688 RTP/AVP 34
a=rtpmap:34 H263/90000
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/448#changelog";s:7:"summary";s:490:"<p>
When INVITE contains video line, PJSIP will reject it with 415, while it should accept the INVITE since the INVITE contains audio.
</p>
<p>
Sample SDP:
</p>
<pre class="wiki">v=0
o=root 19999 20001 IN IP4 123.123.123.123
s=session
c=IN IP4 123.123.123.123
t=0 0
m=audio 51788 RTP/AVP 0 3 8 101
a=rtpmap:0 PCMU/8000
a=rtpmap:3 GSM/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:101 telephone-event/8000
a=fmtp:101 0-16
a=silenceSupp:off - - - -
m=video 57688 RTP/AVP 34
a=rtpmap:34 H263/90000
</pre>";}i:396;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/449";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/449";s:5:"title";s:37:"#449: New conference mixing algorithm";s:11:"description";s:300:"<p>
New mixing algorithm for conference bridge: rather than doing multiplication of signal from sources, we can just add the signal from the sources. The benefits of this approach are it doesn't weaken the input signals, and it is faster since the multiplication is replaced by simple addition.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/449#changelog";s:7:"summary";s:300:"<p>
New mixing algorithm for conference bridge: rather than doing multiplication of signal from sources, we can just add the signal from the sources. The benefits of this approach are it doesn't weaken the input signals, and it is faster since the multiplication is replaced by simple addition.
</p>
";}i:397;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/452";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/452";s:5:"title";s:22:"#452: SRTP development";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/452#changelog";}i:398;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/455";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/455";s:5:"title";s:45:"#455: Allocate call id in round robin fashion";s:11:"description";s:887:"<p>
Currently call id allocation is done by searching for empty slot from zero, so it will most likely to reuse call id of previous calls. This may cause problem when application defer call disconnection processing to an application worker thread, since when the application worker thread is handling the event, it's possible that another call arrives and uses the same call ID as the previously disconnected call.
</p>
<p>
Although approach of using worker thread like this is probably not a good idea, PJSUA-LIB can help avoiding this problem a bit (not completely!) by allocating the call id in round robin fashion. Note that even with the round robin call id allocation, application will still encounter the same problem when there is only one call id slot left in PJSUA-LIB. So the only way to get rid of this problem completely is by solving this problem in application code.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/455#changelog";s:7:"summary";s:887:"<p>
Currently call id allocation is done by searching for empty slot from zero, so it will most likely to reuse call id of previous calls. This may cause problem when application defer call disconnection processing to an application worker thread, since when the application worker thread is handling the event, it's possible that another call arrives and uses the same call ID as the previously disconnected call.
</p>
<p>
Although approach of using worker thread like this is probably not a good idea, PJSUA-LIB can help avoiding this problem a bit (not completely!) by allocating the call id in round robin fashion. Note that even with the round robin call id allocation, application will still encounter the same problem when there is only one call id slot left in PJSUA-LIB. So the only way to get rid of this problem completely is by solving this problem in application code.
</p>
";}i:399;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/457";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/457";s:5:"title";s:37:"#457: Add new media type: application";s:11:"description";s:77:"<p>
Avoiding incoming call rejected because of unrecognized media type.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/457#changelog";s:7:"summary";s:77:"<p>
Avoiding incoming call rejected because of unrecognized media type.
</p>
";}i:400;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/458";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/458";s:5:"title";s:41:"#458: PJ_ERESOLVE error in Windows Mobile";s:11:"description";s:500:"<p>
See mailing list discussions:
</p>
<ul><li><a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001408.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001408.html</span></a>
</li><li><a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001435.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001435.html</span></a>
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/458#changelog";s:7:"summary";s:500:"<p>
See mailing list discussions:
</p>
<ul><li><a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001408.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001408.html</span></a>
</li><li><a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001435.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001435.html</span></a>
</li></ul>";}i:401;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/459";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/459";s:5:"title";s:122:"#459: pjmedia_clock_create() should not create thread when PJMEDIA_CLOCK_NO_ASYNC is given (thanks Alberto Takeshi Mayama)";s:11:"description";s:123:"<p>
Creating pjmedia_clock always create background thread,
regardless the PJMEDIA_CLOCK_NO_ASYNC options set or not.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/459#changelog";s:7:"summary";s:123:"<p>
Creating pjmedia_clock always create background thread,
regardless the PJMEDIA_CLOCK_NO_ASYNC options set or not.
</p>
";}i:402;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/460";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/460";s:5:"title";s:75:"#460: Concurrency problem when destroying stream (thanks Michael Broughton)";s:11:"description";s:883:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001463.html"><span class="icon">Michael Broughton wrote in pjsip list</span></a>: 
</p>
<p>
I am looking at two functions in stream.c: pjmedia_stream_destroy and on_rx_rtp. I am trying to figure out if the following scenario is possible:
</p>
<ol><li>Thread A calls pjmedia_stream_destroy, which locks stream-&gt;jb_mutex.
</li></ol><p>
 
</p>
<ol start="2"><li>Thread B calls on_rx_rtp, which tries to lock stream-&gt;jb_mutex but cannot right away because thread A already holds the lock.
</li></ol><p>
 
</p>
<ol start="3"><li>Thread A goes about it's work and then free's stream-&gt;jb_mutex.
</li></ol><p>
 
</p>
<ol start="4"><li>Thread B, still trying to lock stream-&gt;jb_mutex, segfaults because thread A deallocated stream-&gt;jb_mutex and zeroed out the pointer.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/460#changelog";s:7:"summary";s:883:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-January/001463.html"><span class="icon">Michael Broughton wrote in pjsip list</span></a>: 
</p>
<p>
I am looking at two functions in stream.c: pjmedia_stream_destroy and on_rx_rtp. I am trying to figure out if the following scenario is possible:
</p>
<ol><li>Thread A calls pjmedia_stream_destroy, which locks stream-&gt;jb_mutex.
</li></ol><p>
 
</p>
<ol start="2"><li>Thread B calls on_rx_rtp, which tries to lock stream-&gt;jb_mutex but cannot right away because thread A already holds the lock.
</li></ol><p>
 
</p>
<ol start="3"><li>Thread A goes about it's work and then free's stream-&gt;jb_mutex.
</li></ol><p>
 
</p>
<ol start="4"><li>Thread B, still trying to lock stream-&gt;jb_mutex, segfaults because thread A deallocated stream-&gt;jb_mutex and zeroed out the pointer.
</li></ol>";}i:403;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/462";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/462";s:5:"title";s:27:"#462: Playback of PCAP file";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/462#changelog";}i:404;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/464";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/464";s:5:"title";s:52:"#464: Jitter buffer should return length information";s:11:"description";s:149:"<p>
Currently jitter buffer doesn't return length information, which causes decoder to unable to distinguish between normal frame and SID frame
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/464#changelog";s:7:"summary";s:149:"<p>
Currently jitter buffer doesn't return length information, which causes decoder to unable to distinguish between normal frame and SID frame
</p>
";}i:405;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/465";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/465";s:5:"title";s:60:"#465: New utility to read RTP packets/payload from PCAP file";s:11:"description";s:301:"<p>
Included in this package:
</p>
<ul><li>new <tt>pcap.[hc]</tt> file in PJLIB-UTIL to parse and read packets from PCAP file.
</li><li>new application (<tt>pcaputil.c</tt>) in samples collection to read RTP packets from PCAP file, decode the payload, and write the PCM samples to WAV file.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/465#changelog";s:7:"summary";s:301:"<p>
Included in this package:
</p>
<ul><li>new <tt>pcap.[hc]</tt> file in PJLIB-UTIL to parse and read packets from PCAP file.
</li><li>new application (<tt>pcaputil.c</tt>) in samples collection to read RTP packets from PCAP file, decode the payload, and write the PCM samples to WAV file.
</li></ul>";}i:406;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/466";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/466";s:5:"title";s:54:"#466: Speex decoder set decoded frame size incorrectly";s:11:"description";s:325:"<p>
It was hardcoded to 320 bytes (160 samples) regardless what mode the speex operated (NB, WB, UWB). This worked well since the get_frame() of stream did't modify the frame size (to the returned frame size from speex decoder). But, the new jitter buffer, which does the decoding, suffers from this wrong decoded size.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/466#changelog";s:7:"summary";s:325:"<p>
It was hardcoded to 320 bytes (160 samples) regardless what mode the speex operated (NB, WB, UWB). This worked well since the get_frame() of stream did't modify the frame size (to the returned frame size from speex decoder). But, the new jitter buffer, which does the decoding, suffers from this wrong decoded size.
</p>
";}i:407;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/469";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/469";s:5:"title";s:82:"#469: Loop forever than UDP media transport is destroyed while callback is running";s:11:"description";s:501:"<p>
Changeset <a class="changeset" href="http://trac.pjsip.org/repos/changeset/773" title="Fixed bug in media UDP transport: when recv() returns error (e.g. ICMP  ...">r773</a> updated the media transport so that it does not stop listening the socket when it encounters error. Unfortunately this introduced a new problem, that is when the socket is closed/unregistered while the on_rx_rtp() callback is running, the callback will loop indefinitely.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/469#changelog";s:7:"summary";s:501:"<p>
Changeset <a class="changeset" href="http://trac.pjsip.org/repos/changeset/773" title="Fixed bug in media UDP transport: when recv() returns error (e.g. ICMP  ...">r773</a> updated the media transport so that it does not stop listening the socket when it encounters error. Unfortunately this introduced a new problem, that is when the socket is closed/unregistered while the on_rx_rtp() callback is running, the callback will loop indefinitely.
</p>
<p>
Thanks Phil Torre for reporting this.
</p>
";}i:408;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/470";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/470";s:5:"title";s:53:"#470: Compile error when <semaphore.h> is not present";s:11:"description";s:345:"<p>
The PJLIB's <tt>os_core_unix.c</tt> includes <tt>&lt;semaphore.h&gt;</tt> unconditionally, which causes compilation error if it's not present (e.g. in newlib, IIRC). Since semaphore is optional (it's only used when read/write mutex (rwmutex) needs to be emulated), the configure script should detect this and set the flags accordingly.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/470#changelog";s:7:"summary";s:345:"<p>
The PJLIB's <tt>os_core_unix.c</tt> includes <tt>&lt;semaphore.h&gt;</tt> unconditionally, which causes compilation error if it's not present (e.g. in newlib, IIRC). Since semaphore is optional (it's only used when read/write mutex (rwmutex) needs to be emulated), the configure script should detect this and set the flags accordingly.
</p>
";}i:409;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/471";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/471";s:5:"title";s:70:"#471: Compilation error if pthread_mutexattr_set_type() is not present";s:11:"description";s:432:"<p>
PJLIB's <tt>os_core_unix.c</tt> needs to set the mutex type to either simple or recursive, and this is done by calling <tt>pthread_mutexattr_set_type()</tt>.
</p>
<p>
Unfortunately <tt>pthread_mutexattr_set_type()</tt> may not be available in all cases (e.g. in Newlib, IIRC), and this will cause compilation to fail. 
</p>
<p>
The configure script should detect if this feature is available and set the appropriate flags.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/471#changelog";s:7:"summary";s:432:"<p>
PJLIB's <tt>os_core_unix.c</tt> needs to set the mutex type to either simple or recursive, and this is done by calling <tt>pthread_mutexattr_set_type()</tt>.
</p>
<p>
Unfortunately <tt>pthread_mutexattr_set_type()</tt> may not be available in all cases (e.g. in Newlib, IIRC), and this will cause compilation to fail. 
</p>
<p>
The configure script should detect if this feature is available and set the appropriate flags.
</p>
";}i:410;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/472";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/472";s:5:"title";s:40:"#472: Problem with setting up FD_SETSIZE";s:11:"description";s:875:"<p>
PJLIB assumes that <tt>FD_SETSIZE</tt> is always set-able in every OS, so <tt>&lt;pj/config.h&gt;</tt> always override this macro and set set it to <tt>PJ_IOQUEUE_MAX_HANDLES</tt>.
</p>
<p>
While this assumption is correct for Windows (or Visual C rather), this is wrong for GLIBC. On GLIBC, FD_SETSIZE specifies the maximum number of file descriptors in <tt>fd_set</tt>, and the value is constant (see (1)). If we set this in PJLIB, we will get warning about macro being redefined when including GLIBC headers.
</p>
<p>
So PJLIB should detect if FD_SETSIZE is indeed changeable, and only set it if it is.
</p>
<p>
(1) <a class="ext-link" href="http://www.gnu.org/software/libc/manual/html_node/Waiting-for-I_002fO.html#Waiting-for-I_002fO"><span class="icon">http://www.gnu.org/software/libc/manual/html_node/Waiting-for-I_002fO.html#Waiting-for-I_002fO</span></a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/472#changelog";s:7:"summary";s:875:"<p>
PJLIB assumes that <tt>FD_SETSIZE</tt> is always set-able in every OS, so <tt>&lt;pj/config.h&gt;</tt> always override this macro and set set it to <tt>PJ_IOQUEUE_MAX_HANDLES</tt>.
</p>
<p>
While this assumption is correct for Windows (or Visual C rather), this is wrong for GLIBC. On GLIBC, FD_SETSIZE specifies the maximum number of file descriptors in <tt>fd_set</tt>, and the value is constant (see (1)). If we set this in PJLIB, we will get warning about macro being redefined when including GLIBC headers.
</p>
<p>
So PJLIB should detect if FD_SETSIZE is indeed changeable, and only set it if it is.
</p>
<p>
(1) <a class="ext-link" href="http://www.gnu.org/software/libc/manual/html_node/Waiting-for-I_002fO.html#Waiting-for-I_002fO"><span class="icon">http://www.gnu.org/software/libc/manual/html_node/Waiting-for-I_002fO.html#Waiting-for-I_002fO</span></a>
</p>
";}i:411;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/474";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/474";s:5:"title";s:104:"#474: Option in the ioqueue to control concurrency (allow/disallow multiple/simultaneous callback calls)";s:11:"description";s:937:"<p>
Previously the ioqueue always allow multiple callbacks to be called on the same key. This may cause difficulty in programming the application to deal with synchronization between callback calls and key registration (for example see ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/460" title="Concurrency problem when destroying stream (thanks Michael Broughton) (closed)">#460</a> and <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/469" title="Loop forever than UDP media transport is destroyed while callback is  ... (closed)">#469</a>).
</p>
<p>
This ticket adds an option in the ioqueue to disable parallel/simultaneous callback on the same key.
</p>
<p>
Please see <a class="ext-link" href="http://www.pjsip.org/pjlib/docs/html/group__PJ__IOQUEUE.htm#pj_ioqueue_concurrency_sec"><span class="icon">IOQueue Concurrency Rules</span></a> in PJLIB documentation for more information.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/474#changelog";s:7:"summary";s:937:"<p>
Previously the ioqueue always allow multiple callbacks to be called on the same key. This may cause difficulty in programming the application to deal with synchronization between callback calls and key registration (for example see ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/460" title="Concurrency problem when destroying stream (thanks Michael Broughton) (closed)">#460</a> and <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/469" title="Loop forever than UDP media transport is destroyed while callback is  ... (closed)">#469</a>).
</p>
<p>
This ticket adds an option in the ioqueue to disable parallel/simultaneous callback on the same key.
</p>
<p>
Please see <a class="ext-link" href="http://www.pjsip.org/pjlib/docs/html/group__PJ__IOQUEUE.htm#pj_ioqueue_concurrency_sec"><span class="icon">IOQueue Concurrency Rules</span></a> in PJLIB documentation for more information.
</p>
";}i:412;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/475";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/475";s:5:"title";s:26:"#475: GSM codec on Symbian";s:11:"description";s:48:"<p>
Add GSM codec support in Symbian port.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/475#changelog";s:7:"summary";s:48:"<p>
Add GSM codec support in Symbian port.
</p>
";}i:413;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/477";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/477";s:5:"title";s:41:"#477: DTMF digit callback error in Python";s:11:"description";s:110:"<p>
The Python DTMF callback wrongly call on_media_state() rather than on_dtmf_digit(). Thanks Zeroflag.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/477#changelog";s:7:"summary";s:110:"<p>
The Python DTMF callback wrongly call on_media_state() rather than on_dtmf_digit(). Thanks Zeroflag.
</p>
";}i:414;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/478";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/478";s:5:"title";s:56:"#478: Handle duplicated/misordered incoming DTMF packets";s:11:"description";s:193:"<p>
The incoming RFC 2833 DTMF handler does not handle the case where RTP packets arrive out of order. In this case, the packets may cause stream.c to detect them as multiple DTMF events.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/478#changelog";s:7:"summary";s:193:"<p>
The incoming RFC 2833 DTMF handler does not handle the case where RTP packets arrive out of order. In this case, the packets may cause stream.c to detect them as multiple DTMF events.
</p>
";}i:415;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/480";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/480";s:5:"title";s:75:"#480: PJSIP rejects incoming call with m=image in the offer (thanks Thiago)";s:11:"description";s:281:"<p>
PJSIP will reject incoming call with unknown media in the media line (for example, <i>m=image</i> line), even when the offer contains audio media line.
</p>
<p>
The correct behavior would be to accept the session and only reject the unsupported media line with zero port.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/480#changelog";s:7:"summary";s:281:"<p>
PJSIP will reject incoming call with unknown media in the media line (for example, <i>m=image</i> line), even when the offer contains audio media line.
</p>
<p>
The correct behavior would be to accept the session and only reject the unsupported media line with zero port.
</p>
";}i:416;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/481";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/481";s:5:"title";s:65:"#481: Default TLS version should be TLSv1 (thanks Klaus Darilion)";s:11:"description";s:104:"<p>
TLSv1 should be used as default version when creating SIP TLS transport, rather than SSLv2/v3.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/481#changelog";s:7:"summary";s:104:"<p>
TLSv1 should be used as default version when creating SIP TLS transport, rather than SSLv2/v3.
</p>
";}i:417;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/482";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/482";s:5:"title";s:76:"#482: TCP keep-alive packets are corrupting SIP message (thanks Helmut Wolf)";s:11:"description";s:309:"<p>
TCP keep-alives packets are not dropped by the stack, and although the parser should be able to cope with leading CRLF's, <tt>pjsip_find_msg()</tt> doesn't.
</p>
<p>
The transport layer should drop these leading CR-LF bytes before parsing is invoked. 
</p>
<p>
Thanks Helmut Wolf for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/482#changelog";s:7:"summary";s:309:"<p>
TCP keep-alives packets are not dropped by the stack, and although the parser should be able to cope with leading CRLF's, <tt>pjsip_find_msg()</tt> doesn't.
</p>
<p>
The transport layer should drop these leading CR-LF bytes before parsing is invoked. 
</p>
<p>
Thanks Helmut Wolf for reporting this.
</p>
";}i:418;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/486";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/486";s:5:"title";s:83:"#486: Handle G.722 wong clock rate bug and other codec with inconsistent clock rate";s:11:"description";s:450:"<p>
Some codecs need to be treated special:
</p>
<ul><li>G.722, because of erroneously assigned in RFC 1890, its actual sampling rate is 16kHz but need to be defined as 8kHz in the SDP and also affecting its RTP timestamp clock rate. (RFC 3551 4.5.2)
</li><li>MPEG audio, for compatibility with other MPEG systems, MPEG Audio uses 90kHz RTP timestamp clock rate separate from the audio sampling clock rate. (RFC 3551 4.5.13 &amp; RFC 3119)
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/486#changelog";s:7:"summary";s:450:"<p>
Some codecs need to be treated special:
</p>
<ul><li>G.722, because of erroneously assigned in RFC 1890, its actual sampling rate is 16kHz but need to be defined as 8kHz in the SDP and also affecting its RTP timestamp clock rate. (RFC 3551 4.5.2)
</li><li>MPEG audio, for compatibility with other MPEG systems, MPEG Audio uses 90kHz RTP timestamp clock rate separate from the audio sampling clock rate. (RFC 3551 4.5.13 &amp; RFC 3119)
</li></ul>";}i:419;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/487";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/487";s:5:"title";s:95:"#487: Crash occured when stream port has no transmitter on call using ILBC with different ptime";s:11:"description";s:152:"<p>
The crash happens if the stream port is disconnected from the conference bridge, which makes conference bridge sends NULL frame to the stream.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/487#changelog";s:7:"summary";s:152:"<p>
The crash happens if the stream port is disconnected from the conference bridge, which makes conference bridge sends NULL frame to the stream.
</p>
";}i:420;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/489";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/489";s:5:"title";s:90:"#489: New PJSUA callbacks to notify application when media stream is created and destroyed";s:11:"description";s:804:"<p>
New callbacks:
</p>
<ul><li><tt>on_stream_created()</tt>: this callback is called to notify application when stream is created and about to be registered to conference bridge. Application may use this callback to add media processing ports to the stream.
</li><li><tt>on_stream_destroyed()</tt>: this callback is called to notify application when stream is about to be destroyed. If application created media processing ports to the stream, it may use this callback to clean-up resources associated with the media stream. Also if application manages it's own media (see [FAQ#pjsua-lib-perf this FAQ entry]), application will need to use this callback to signal media processing that stream is about to be destroyed.
</li></ul><p>
Thanks Norman Franke and Truong Thanh Quang for the suggestions.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/489#changelog";s:7:"summary";s:804:"<p>
New callbacks:
</p>
<ul><li><tt>on_stream_created()</tt>: this callback is called to notify application when stream is created and about to be registered to conference bridge. Application may use this callback to add media processing ports to the stream.
</li><li><tt>on_stream_destroyed()</tt>: this callback is called to notify application when stream is about to be destroyed. If application created media processing ports to the stream, it may use this callback to clean-up resources associated with the media stream. Also if application manages it's own media (see [FAQ#pjsua-lib-perf this FAQ entry]), application will need to use this callback to signal media processing that stream is about to be destroyed.
</li></ul><p>
Thanks Norman Franke and Truong Thanh Quang for the suggestions.
</p>
";}i:421;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/492";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/492";s:5:"title";s:98:"#492: Bug in strict route processing when challenged with 401/407 response (thanks Klaus Darilion)";s:11:"description";s:839:"<p>
Quoting Klaus email:
</p>
<p>
If I specify an outbound proxy (acc_cfg) as strict router (no "lr" parameter), then I observe the following behavior:
</p>
<ol><li>pjsua send REGISTER to outbound proxy (RURI and ROUTE is swapped due to strict routing) --&gt; correct
</li><li>pjsua receives 401
</li><li>pjsua resend the REGISTER with credentials, but it send it directly to the registrar (RURI and ROUTE are either "not swapped" or "swapped twice") <strong>--&gt; Bug</strong>
</li></ol><p>
This is because when PJSIP reinitialize the request to handle authentication challenge, it reuses the original SIP request, and while doing so it doesn't restore the Route header (for the strict route) to the original order. So when the request is sent, PJSIP will swap the Route header again because it detects strict route in the request.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/492#changelog";s:7:"summary";s:839:"<p>
Quoting Klaus email:
</p>
<p>
If I specify an outbound proxy (acc_cfg) as strict router (no "lr" parameter), then I observe the following behavior:
</p>
<ol><li>pjsua send REGISTER to outbound proxy (RURI and ROUTE is swapped due to strict routing) --&gt; correct
</li><li>pjsua receives 401
</li><li>pjsua resend the REGISTER with credentials, but it send it directly to the registrar (RURI and ROUTE are either "not swapped" or "swapped twice") <strong>--&gt; Bug</strong>
</li></ol><p>
This is because when PJSIP reinitialize the request to handle authentication challenge, it reuses the original SIP request, and while doing so it doesn't restore the Route header (for the strict route) to the original order. So when the request is sent, PJSIP will swap the Route header again because it detects strict route in the request.
</p>
";}i:422;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/493";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/493";s:5:"title";s:64:"#493: PocketPJ: a new and better sample application for PocketPC";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/493#changelog";}i:423;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/495";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/495";s:5:"title";s:84:"#495: Ability to specify different clock rate when opening sound device in PJSUA-LIB";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/495#changelog";}i:424;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/496";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/496";s:5:"title";s:73:"#496: Crash on sound port when only player is opened and delaybuf enabled";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/496#changelog";}i:425;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/497";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/497";s:5:"title";s:66:"#497: Waveform Similarity Based Overlap-Add (WSOLA) implementation";s:11:"description";s:216:"<p>
WSOLA is used to speed up or slow down audio playback without changing the pitch. We can use this functionality to get around audio drifts, and also as base implementation for packet lost concealment (PLC).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/497#changelog";s:7:"summary";s:216:"<p>
WSOLA is used to speed up or slow down audio playback without changing the pitch. We can use this functionality to get around audio drifts, and also as base implementation for packet lost concealment (PLC).
</p>
";}i:426;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/498";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/498";s:5:"title";s:82:"#498: Option in client registration to ignore Contact address in REGISTER response";s:11:"description";s:314:"<p>
Some registrar servers are not returning the same URI in the Contact header of REGISTER 200/OK response, and this will cause PJSIP registration client to think that it's being unregistered.
</p>
<p>
This ticket adds compile time and run-time setting to ignore Contact URIs returned in REGISTER response. 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/498#changelog";s:7:"summary";s:314:"<p>
Some registrar servers are not returning the same URI in the Contact header of REGISTER 200/OK response, and this will cause PJSIP registration client to think that it's being unregistered.
</p>
<p>
This ticket adds compile time and run-time setting to ignore Contact URIs returned in REGISTER response. 
</p>
";}i:427;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/499";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/499";s:5:"title";s:87:"#499: NULL frame transmission in conference bridge is not clocked at the right interval";s:11:"description";s:642:"<p>
When the port is not receiving signal from any other ports (e.g. when no other ports is transmitting to this port), the bridge periodically transmit NULL frame to the port to keep the port "alive" (for example, a stream port needs this heart-beat to periodically transmit silence frame to keep NAT binding alive).
</p>
<p>
This NULL frame should be sent to the port at the port's ptime rate. So if the port's ptime is greater than the bridge's ptime, the bridge needs to delay the NULL frame until it's the right time to do so.
</p>
<p>
This bug transmits NULL frame at the bridge's ptime interval and not the port's ptime interval.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/499#changelog";s:7:"summary";s:642:"<p>
When the port is not receiving signal from any other ports (e.g. when no other ports is transmitting to this port), the bridge periodically transmit NULL frame to the port to keep the port "alive" (for example, a stream port needs this heart-beat to periodically transmit silence frame to keep NAT binding alive).
</p>
<p>
This NULL frame should be sent to the port at the port's ptime rate. So if the port's ptime is greater than the bridge's ptime, the bridge needs to delay the NULL frame until it's the right time to do so.
</p>
<p>
This bug transmits NULL frame at the bridge's ptime interval and not the port's ptime interval.
</p>
";}i:428;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/500";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/500";s:5:"title";s:52:"#500: Added function to set thread priority in PJLIB";s:11:"description";s:188:"<p>
New function in PJLIB to control thread priority. For now, we can only set the priority to minimum or maximum, but this may be extended in the future to have finer grain control.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/500#changelog";s:7:"summary";s:188:"<p>
New function in PJLIB to control thread priority. For now, we can only set the priority to minimum or maximum, but this may be extended in the future to have finer grain control.
</p>
";}i:429;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/501";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/501";s:5:"title";s:66:"#501: Set master port worker thread priority to highest by default";s:11:"description";s:445:"<p>
Unless thread priority of master port is set to a high priority, media flow controlled by master port is easily disturbed, for example when one switch the focus to other application window.
</p>
<p>
So with this ticket, master port worker thread priority is set to highest value by default. If this is not desired, application can specify <tt>PJMEDIA_CLOCK_NO_HIGHEST_PRIO</tt> flag when creating the master port (or the clock object).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/501#changelog";s:7:"summary";s:445:"<p>
Unless thread priority of master port is set to a high priority, media flow controlled by master port is easily disturbed, for example when one switch the focus to other application window.
</p>
<p>
So with this ticket, master port worker thread priority is set to highest value by default. If this is not desired, application can specify <tt>PJMEDIA_CLOCK_NO_HIGHEST_PRIO</tt> flag when creating the master port (or the clock object).
</p>
";}i:430;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/504";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/504";s:5:"title";s:59:"#504: Fixed support for stereo audio all the way in pjmedia";s:11:"description";s:1821:"<p>
Identified issues:
</p>
<ol><li>The PA callbacks implementations contains wrong assertion, because of samples_per_frame misinterpretation (thanks Rodrigo Vega, <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/001974.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/001974.html</span></a>):
<ul><li>Soundport's samples_per_frame is total samples number per frame of ALL channels.
</li><li>While PA's frameCount refers to number of samples for EACH channel.
</li></ul></li><li>Lack of channel_count multiplication in samples_per_frame calculation in some parts of stream causing silence in stereo audio call.
</li><li>STEREO_DEMO in pjsua causing crash in PortAudio without call (perhaps because of some pointer to PA buffer get overwritten)
</li><li>Add <tt>channel_count</tt> field in <tt>pjsua_media_config</tt> to configure number of channels for both sound device and conference bridge. Add <tt>--stereo</tt> option in pjsua to change set this <tt>channel_count</tt> field to 2.
</li><li>Create two utility functions to:
<ol><li>convert one mono channel audio frame to N-channel audio frame. Just duplicate the sample to all channels.
</li><li>convert N-channel audio from to mono audio frame. The function should have an option to either mix sample from all the channels into one channel, or to just take audio samples from one of the channel.
To make the implementation simpler, we can just implement these two functions as inline functions in a new header file (e.g., <tt>stereo.h</tt>) rather than a media port.
</li></ol></li><li>Use these channel conversion functions in the conference bridge, to convert audio samples from media ports when the media port has different channel number with the conference bridge.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/504#changelog";s:7:"summary";s:1821:"<p>
Identified issues:
</p>
<ol><li>The PA callbacks implementations contains wrong assertion, because of samples_per_frame misinterpretation (thanks Rodrigo Vega, <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/001974.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/001974.html</span></a>):
<ul><li>Soundport's samples_per_frame is total samples number per frame of ALL channels.
</li><li>While PA's frameCount refers to number of samples for EACH channel.
</li></ul></li><li>Lack of channel_count multiplication in samples_per_frame calculation in some parts of stream causing silence in stereo audio call.
</li><li>STEREO_DEMO in pjsua causing crash in PortAudio without call (perhaps because of some pointer to PA buffer get overwritten)
</li><li>Add <tt>channel_count</tt> field in <tt>pjsua_media_config</tt> to configure number of channels for both sound device and conference bridge. Add <tt>--stereo</tt> option in pjsua to change set this <tt>channel_count</tt> field to 2.
</li><li>Create two utility functions to:
<ol><li>convert one mono channel audio frame to N-channel audio frame. Just duplicate the sample to all channels.
</li><li>convert N-channel audio from to mono audio frame. The function should have an option to either mix sample from all the channels into one channel, or to just take audio samples from one of the channel.
To make the implementation simpler, we can just implement these two functions as inline functions in a new header file (e.g., <tt>stereo.h</tt>) rather than a media port.
</li></ol></li><li>Use these channel conversion functions in the conference bridge, to convert audio samples from media ports when the media port has different channel number with the conference bridge.
</li></ol>";}i:431;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/505";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/505";s:5:"title";s:45:"#505: Optimize delay of current jitter buffer";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/505#changelog";}i:432;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/511";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/511";s:5:"title";s:65:"#511: Add --disable-oss option to disable OSS in configure script";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/511#changelog";}i:433;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/512";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/512";s:5:"title";s:93:"#512: Bug in select ioqueue causing unnecessary sleep() to be invoked (thanks Sergey Bakulin)";s:11:"description";s:870:"<p>
The pjsip endpoint will invoke <tt>pj_thread_sleep()</tt> if <tt>pj_ioqueue_poll()</tt> returns error:
</p>
<pre class="wiki">  c = pj_ioqueue_poll( endpt-&gt;ioqueue, &amp;timeout);
  if (c &lt; 0) {
    pj_thread_sleep(PJ_TIME_VAL_MSEC(timeout));
</pre><p>
Unfortunately, the select ioqueue may incorrectly return error when select actually returns timeout:
</p>
<pre class="wiki"> count = pj_sock_select(ioqueue-&gt;nfds+1, &amp;rfdset, &amp;wfdset, &amp;xfdset, timeout);
 if (count &lt;= 0)
   return -pj_get_netos_error();
</pre><p>
Because of this, application may sleep for longer than what's required.
</p>
<p>
Please see <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002054.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002054.html</span></a> for the details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/512#changelog";s:7:"summary";s:870:"<p>
The pjsip endpoint will invoke <tt>pj_thread_sleep()</tt> if <tt>pj_ioqueue_poll()</tt> returns error:
</p>
<pre class="wiki">  c = pj_ioqueue_poll( endpt-&gt;ioqueue, &amp;timeout);
  if (c &lt; 0) {
    pj_thread_sleep(PJ_TIME_VAL_MSEC(timeout));
</pre><p>
Unfortunately, the select ioqueue may incorrectly return error when select actually returns timeout:
</p>
<pre class="wiki"> count = pj_sock_select(ioqueue-&gt;nfds+1, &amp;rfdset, &amp;wfdset, &amp;xfdset, timeout);
 if (count &lt;= 0)
   return -pj_get_netos_error();
</pre><p>
Because of this, application may sleep for longer than what's required.
</p>
<p>
Please see <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002054.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002054.html</span></a> for the details.
</p>
";}i:434;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/513";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/513";s:5:"title";s:25:"#513: Support for RTCP XR";s:11:"description";s:3545:"<p>
Some specs:
</p>
<ol><li>The following RTCP XR block types shall be supported:
<ul><li>Receiver Reference Time Report Block
</li><li>DLRR Report Block
</li><li>Statistics Summary Report Block
</li><li>VoIP Metrics Report Block
</li></ul></li><li>XR packet source and destination (source -&gt; destination):
<ul><li>Receiver Reference Time Report Block: RTP receiver -&gt; RTP transmitter
</li><li>DLRR Report Block: RTP transmitter -&gt; RTP receiver
</li><li>Statistics Summary Report Block: RTP receiver -&gt; RTP transmitter or network management server
</li><li>VoIP Metrics Report Block: RTP receiver -&gt; RTP transmitter or network management server
</li></ul></li><li>In order to reduce XR traffic, Statistics Summary Report Block and VoIP Metrics Report Block shall always be stacked together and sent out in one RTCP XR packet.
</li><li>The period for sending Statistics Summary Report and VoIP Metrics Report shall be configurable.
</li><li>In addition to periodical reports, at the end of a call or PTT, the RTP receiver shall send out one XR packet containing the final Statistics Summary Report and VoIP Metrics Report.
</li><li>In order to allow enough time to measure round trip delay, the sending of Receiver Reference Time Report Block shall be scheduled to occur at least 500 msec before "each" periodical sending of Statistics Summary Report and VoIP Metrics Report.
</li><li>The destination where Statistics Summary Report and VoIP Metrics Report are sent shall be configurable:
<ul><li>either the RTP transmitter or network management server.
</li></ul></li><li>It shall be configurable to use either a fixed assigned number or a randomly generated number for the 32-bit RTP Synchronization Source (SSRC) used to identify each RTP end point.
<ul><li>In a closed system (such as P25 and OpenSky), it is preferred to assign each device with a unique SSRC (a combination of device type and device ID).  The advantages with assigned SSRC are that SSRC alone can be used to identify RTP end points and no two end points will use the same SSRC.
</li><li>With randomly generated SSRC, network management server will not know the end points of XR reports unless it also receives other info such as RTCP SDES packets.
</li></ul></li><li>The following fields in the Statistics Summary Report Block shall be supported:
<ul><li>begin_seq
</li><li>end_seq
</li><li>lost_packets (in the above sequence number interval)
</li><li>dup_packets (in the above sequence number interval)
</li><li>min_jitter (in the above sequence number interval)
</li><li>max_jitter (in the above sequence number interval)
</li><li>mean_jitter (in the above sequence number interval)
</li><li>dev_jitter (in the above sequence number interval)
</li></ul></li><li>The following fields in the VoIP Metrics Report Block shall be supported:
<ul><li>loss rate (accumulated since the beginning of a call)
</li><li>discard rate (accumulated since the beginning of a call)
</li><li>burst density (accumulated since the beginning of a call)
</li><li>gap density (accumulated since the beginning of a call)
</li><li>burst duration (accumulated since the beginning of a call)
</li><li>gap duration (accumulated since the beginning of a call)
</li><li>round trip delay (the most recently measured)
</li><li>end system delay (= JB nominal delay + 2 * audio frame size per RTP packet)
</li><li>Gmin (= 16)
</li><li>RX config (= PLC + adaptive or fixed jitter buffer)
</li><li>JB nominal (= initial jitter buffer delay if fixed jitter buffer is used)
</li></ul></li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/513#changelog";s:7:"summary";s:3545:"<p>
Some specs:
</p>
<ol><li>The following RTCP XR block types shall be supported:
<ul><li>Receiver Reference Time Report Block
</li><li>DLRR Report Block
</li><li>Statistics Summary Report Block
</li><li>VoIP Metrics Report Block
</li></ul></li><li>XR packet source and destination (source -&gt; destination):
<ul><li>Receiver Reference Time Report Block: RTP receiver -&gt; RTP transmitter
</li><li>DLRR Report Block: RTP transmitter -&gt; RTP receiver
</li><li>Statistics Summary Report Block: RTP receiver -&gt; RTP transmitter or network management server
</li><li>VoIP Metrics Report Block: RTP receiver -&gt; RTP transmitter or network management server
</li></ul></li><li>In order to reduce XR traffic, Statistics Summary Report Block and VoIP Metrics Report Block shall always be stacked together and sent out in one RTCP XR packet.
</li><li>The period for sending Statistics Summary Report and VoIP Metrics Report shall be configurable.
</li><li>In addition to periodical reports, at the end of a call or PTT, the RTP receiver shall send out one XR packet containing the final Statistics Summary Report and VoIP Metrics Report.
</li><li>In order to allow enough time to measure round trip delay, the sending of Receiver Reference Time Report Block shall be scheduled to occur at least 500 msec before "each" periodical sending of Statistics Summary Report and VoIP Metrics Report.
</li><li>The destination where Statistics Summary Report and VoIP Metrics Report are sent shall be configurable:
<ul><li>either the RTP transmitter or network management server.
</li></ul></li><li>It shall be configurable to use either a fixed assigned number or a randomly generated number for the 32-bit RTP Synchronization Source (SSRC) used to identify each RTP end point.
<ul><li>In a closed system (such as P25 and OpenSky), it is preferred to assign each device with a unique SSRC (a combination of device type and device ID).  The advantages with assigned SSRC are that SSRC alone can be used to identify RTP end points and no two end points will use the same SSRC.
</li><li>With randomly generated SSRC, network management server will not know the end points of XR reports unless it also receives other info such as RTCP SDES packets.
</li></ul></li><li>The following fields in the Statistics Summary Report Block shall be supported:
<ul><li>begin_seq
</li><li>end_seq
</li><li>lost_packets (in the above sequence number interval)
</li><li>dup_packets (in the above sequence number interval)
</li><li>min_jitter (in the above sequence number interval)
</li><li>max_jitter (in the above sequence number interval)
</li><li>mean_jitter (in the above sequence number interval)
</li><li>dev_jitter (in the above sequence number interval)
</li></ul></li><li>The following fields in the VoIP Metrics Report Block shall be supported:
<ul><li>loss rate (accumulated since the beginning of a call)
</li><li>discard rate (accumulated since the beginning of a call)
</li><li>burst density (accumulated since the beginning of a call)
</li><li>gap density (accumulated since the beginning of a call)
</li><li>burst duration (accumulated since the beginning of a call)
</li><li>gap duration (accumulated since the beginning of a call)
</li><li>round trip delay (the most recently measured)
</li><li>end system delay (= JB nominal delay + 2 * audio frame size per RTP packet)
</li><li>Gmin (= 16)
</li><li>RX config (= PLC + adaptive or fixed jitter buffer)
</li><li>JB nominal (= initial jitter buffer delay if fixed jitter buffer is used)
</li></ul></li></ol>";}i:435;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/514";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/514";s:5:"title";s:70:"#514: Bug with handling simultaneous re-INVITE (thanks Philippe Leuba)";s:11:"description";s:256:"<p>
The invite session (sip_inv.c) didn't save outgoing re-INVITE in inv-&gt;invite_tsx, hence it fails to detect that another INVITE transaction is in progress before it sends another re-INVITE.
</p>
<p>
Thanks Philippe Leuba for reporting this bug.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/514#changelog";s:7:"summary";s:256:"<p>
The invite session (sip_inv.c) didn't save outgoing re-INVITE in inv-&gt;invite_tsx, hence it fails to detect that another INVITE transaction is in progress before it sends another re-INVITE.
</p>
<p>
Thanks Philippe Leuba for reporting this bug.
</p>
";}i:436;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/515";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/515";s:5:"title";s:85:"#515: Update Contact header in REGISTER for TCP/TLS transport (thanks Klaus Darilion)";s:11:"description";s:727:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/381" title="Auto-update IP address/port in Contact header according to the IP  ... (closed)">#381</a> (released in version 0.8) added the ability to update Contact header of account registration for UDP transport. This is useful for clients that are behind symmetric NAT.
</p>
<p>
This ticket apply the same trick for TCP and TLS transport as well. Please see <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002178.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002178.html</span></a> for background discussion.
</p>
<p>
Thanks Klaus Darilion for the info.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/515#changelog";s:7:"summary";s:727:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/381" title="Auto-update IP address/port in Contact header according to the IP  ... (closed)">#381</a> (released in version 0.8) added the ability to update Contact header of account registration for UDP transport. This is useful for clients that are behind symmetric NAT.
</p>
<p>
This ticket apply the same trick for TCP and TLS transport as well. Please see <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002178.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002178.html</span></a> for background discussion.
</p>
<p>
Thanks Klaus Darilion for the info.
</p>
";}i:437;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/516";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/516";s:5:"title";s:102:"#516: Assertion in sound device when headset is plugged/unplugged in MacOS X (thanks Alexei Kuznetsov)";s:11:"description";s:451:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002183.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002183.html</span></a>
</p>
<p>
It seems <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/PortAudio" rel="nofollow">PortAudio?</a>/MacOS change the thread where audio callback called from, this new thread needs to be registered to PJLIB.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/516#changelog";s:7:"summary";s:451:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002183.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-March/002183.html</span></a>
</p>
<p>
It seems <a class="missing wiki" href="http://trac.pjsip.org/repos/wiki/PortAudio" rel="nofollow">PortAudio?</a>/MacOS change the thread where audio callback called from, this new thread needs to be registered to PJLIB.
</p>
";}i:438;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/517";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/517";s:5:"title";s:91:"#517: Invalid argument error when binding media transport on MacOS X (thanks Daniel Mikusa)";s:11:"description";s:311:"<p>
Running simpleua.c and siprtp.c samples on MacOS X give the following error:
</p>
<pre class="wiki"> 00:07:47.017     simpleua.c Unable to create media transport: Invalid argument [code=120022]
</pre><p>
This was caused by invalid value in the address length argument given to <tt>pj_sock_bind()</tt>.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/517#changelog";s:7:"summary";s:311:"<p>
Running simpleua.c and siprtp.c samples on MacOS X give the following error:
</p>
<pre class="wiki"> 00:07:47.017     simpleua.c Unable to create media transport: Invalid argument [code=120022]
</pre><p>
This was caused by invalid value in the address length argument given to <tt>pj_sock_bind()</tt>.
</p>
";}i:439;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/518";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/518";s:5:"title";s:39:"#518: Growing memory usage in PJSUA-LIB";s:11:"description";s:121:"<p>
Still some operations in PJSUA-LIB use the global pool which will not be destroyed until the application quits.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/518#changelog";s:7:"summary";s:121:"<p>
Still some operations in PJSUA-LIB use the global pool which will not be destroyed until the application quits.
</p>
";}i:440;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/519";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/519";s:5:"title";s:79:"#519: STUN request is not freed when transaction times out (thanks Amit Sharma)";s:11:"description";s:135:"<p>
When STUN transaction completes with timed out, memory leaks occurs because the request message is not freed in STUN session.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/519#changelog";s:7:"summary";s:135:"<p>
When STUN transaction completes with timed out, memory leaks occurs because the request message is not freed in STUN session.
</p>
";}i:441;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/520";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/520";s:5:"title";s:73:"#520: Race condition may cause ioqueue corruption (thanks Philippe Leuba)";s:11:"description";s:1116:"<p>
Quoting Philippe email:
</p>
<blockquote>
<p>
<i>When I destroy the transports, they call pj_ioqueue_unregister with the key as parameter. The function start by calling pj_list_erase(key), then decrement_counter when PJ_IOQUEUE_HAS_SAFE_UNREG is set. The problem is that decrement_counter call pj_list_erase(key) once again. Depending the timing between the main thread and the worker thread, this double call to pj_list_erase can corrupt the list, apparently because some element can be put in the closing_list in the meantime.</i>
</p>
</blockquote>
<blockquote>
<p>
<i>This is because pj_list_erase do not reset next and prev pointer of the key, but only link together the prev and next elements.</i>
</p>
</blockquote>
<blockquote>
<p>
<i>I fixed the problem by putting the pj_list_erase between ifdef:</i>
</p>
<pre class="wiki"> #if !PJ_IOQUEUE_HAS_SAFE_UNREG
    pj_list_erase(key);
 #endif
</pre></blockquote>
<blockquote>
<p>
<i>An other solution, more general would be to modify pj_list_erase in order reset the next and prev pointer of the key to itself like pj_list_init does.</i>
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/520#changelog";s:7:"summary";s:1116:"<p>
Quoting Philippe email:
</p>
<blockquote>
<p>
<i>When I destroy the transports, they call pj_ioqueue_unregister with the key as parameter. The function start by calling pj_list_erase(key), then decrement_counter when PJ_IOQUEUE_HAS_SAFE_UNREG is set. The problem is that decrement_counter call pj_list_erase(key) once again. Depending the timing between the main thread and the worker thread, this double call to pj_list_erase can corrupt the list, apparently because some element can be put in the closing_list in the meantime.</i>
</p>
</blockquote>
<blockquote>
<p>
<i>This is because pj_list_erase do not reset next and prev pointer of the key, but only link together the prev and next elements.</i>
</p>
</blockquote>
<blockquote>
<p>
<i>I fixed the problem by putting the pj_list_erase between ifdef:</i>
</p>
<pre class="wiki"> #if !PJ_IOQUEUE_HAS_SAFE_UNREG
    pj_list_erase(key);
 #endif
</pre></blockquote>
<blockquote>
<p>
<i>An other solution, more general would be to modify pj_list_erase in order reset the next and prev pointer of the key to itself like pj_list_init does.</i>
</p>
</blockquote>
";}i:442;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/521";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/521";s:5:"title";s:121:"#521: Duplicate Authorization header when PJSIP is configured to send empty Authorization header (thanks Roland Klabunde)";s:11:"description";s:306:"<p>
In IMS mode (--use-ims option in pjsua), PJSIP is configured to send an empty Authorization header which can be used to force server to use MD5 authentication. Unfortunately this will cause subsequent authentication retry to include duplicate Authorization headers as the old one was not removed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/521#changelog";s:7:"summary";s:306:"<p>
In IMS mode (--use-ims option in pjsua), PJSIP is configured to send an empty Authorization header which can be used to force server to use MD5 authentication. Unfortunately this will cause subsequent authentication retry to include duplicate Authorization headers as the old one was not removed.
</p>
";}i:443;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/522";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/522";s:5:"title";s:74:"#522: Enable keep-alive for UDP transport even when STUN is not configured";s:11:"description";s:492:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/407" title="Keep alive for UDP transport (closed)">#407</a> added keep-alive mechanism in PJSUA-LIB. Here we only enabled keep-alive when STUN is enabled, since we thought that keep-alive is only needed in Internet situation. But it has been discovered that Windows Firewall on WinXP also needs to be kept-alive, otherwise incoming packets will be dropped. 
</p>
<p>
Thanks Andreas Backman for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/522#changelog";s:7:"summary";s:492:"<p>
Ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/407" title="Keep alive for UDP transport (closed)">#407</a> added keep-alive mechanism in PJSUA-LIB. Here we only enabled keep-alive when STUN is enabled, since we thought that keep-alive is only needed in Internet situation. But it has been discovered that Windows Firewall on WinXP also needs to be kept-alive, otherwise incoming packets will be dropped. 
</p>
<p>
Thanks Andreas Backman for reporting this.
</p>
";}i:444;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/523";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/523";s:5:"title";s:63:"#523: Handle imprecise audio frame from sound device (e.g. OSS)";s:11:"description";s:194:"<p>
Sound sound device backend (such as OSS) may return audio frame that is shorter or longer than a full frame, and this currently is not handled (it will trigger assertion in pasound.c).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/523#changelog";s:7:"summary";s:194:"<p>
Sound sound device backend (such as OSS) may return audio frame that is shorter or longer than a full frame, and this currently is not handled (it will trigger assertion in pasound.c).
</p>
";}i:445;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/524";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/524";s:5:"title";s:73:"#524: Change base audio frame time from 10ms to 20ms for better stability";s:11:"description";s:471:"<p>
Currently the base audio frame time is 10ms to reduce latency. However this would cause few problems:
</p>
<ul><li>bad audio quality on Vista
</li><li>missing audio frames in OSS (ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/523" title="Handle imprecise audio frame from sound device (e.g. OSS) (closed)">#523</a>)
</li></ul><p>
According to reports and experimentation, changing the ptime to 20ms would fix or improve the situation.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/524#changelog";s:7:"summary";s:471:"<p>
Currently the base audio frame time is 10ms to reduce latency. However this would cause few problems:
</p>
<ul><li>bad audio quality on Vista
</li><li>missing audio frames in OSS (ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/523" title="Handle imprecise audio frame from sound device (e.g. OSS) (closed)">#523</a>)
</li></ul><p>
According to reports and experimentation, changing the ptime to 20ms would fix or improve the situation.
</p>
";}i:446;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/526";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/526";s:5:"title";s:91:"#526: Pjsua crash after wav player destroyed inside the eof callback (thanks Tanguy Floc'h)";s:11:"description";s:359:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-April/002513.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-April/002513.html</span></a>
after destroyed, wav player port get_frame() returns PJ_SUCCESS to conference, so the conference continue accessing the wav player port.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/526#changelog";s:7:"summary";s:359:"<p>
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-April/002513.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-April/002513.html</span></a>
after destroyed, wav player port get_frame() returns PJ_SUCCESS to conference, so the conference continue accessing the wav player port.
</p>
";}i:447;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/527";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/527";s:5:"title";s:33:"#527: More lenient SDP negotiator";s:11:"description";s:791:"<p>
Accept the following non-standard scenarios in the SDP negotiator:
</p>
<ol><li>Receiving answer with non-matching media lines (e.g. offer has m=audio and m=video lines, and answer only has m=audio line). In this case set the unmatched local media line with port zero.
</li><li>Generating subsequent offer using <tt>sdp_neg_modify_local_offer()</tt> with non-matching media lines (e.g. current/active SDP's have m=audio and m=video lines, and the new offer only has m=audio line). In this case, the negotiator will fix the new offer by adding the missing media line, with port number set to zero. Also the negotiator will overwrite the session ID and version number in the SDP origin field to make sure that the session ID stays the same and version number has been increased.
</li></ol>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/527#changelog";s:7:"summary";s:791:"<p>
Accept the following non-standard scenarios in the SDP negotiator:
</p>
<ol><li>Receiving answer with non-matching media lines (e.g. offer has m=audio and m=video lines, and answer only has m=audio line). In this case set the unmatched local media line with port zero.
</li><li>Generating subsequent offer using <tt>sdp_neg_modify_local_offer()</tt> with non-matching media lines (e.g. current/active SDP's have m=audio and m=video lines, and the new offer only has m=audio line). In this case, the negotiator will fix the new offer by adding the missing media line, with port number set to zero. Also the negotiator will overwrite the session ID and version number in the SDP origin field to make sure that the session ID stays the same and version number has been increased.
</li></ol>";}i:448;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/528";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/528";s:5:"title";s:76:"#528: Customizable destination address of RTCP delivery in pjmedia transport";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/528#changelog";}i:449;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/531";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/531";s:5:"title";s:66:"#531: Active socket abstraction to make ioqueue programming easier";s:11:"description";s:77:"<p>
Active socket abstracts ioqueue programming pattern into an object.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/531#changelog";s:7:"summary";s:77:"<p>
Active socket abstracts ioqueue programming pattern into an object.
</p>
";}i:450;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/533";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/533";s:5:"title";s:44:"#533: Support for parsing Retry-After header";s:11:"description";s:199:"<p>
Previously the parser only supports parsing simple integer value inside Retry-After header and will barf if the header contains comment. Thanks Samuel Vinson and Nigel Hsiung for reporting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/533#changelog";s:7:"summary";s:199:"<p>
Previously the parser only supports parsing simple integer value inside Retry-After header and will barf if the header contains comment. Thanks Samuel Vinson and Nigel Hsiung for reporting.
</p>
";}i:451;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/534";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/534";s:5:"title";s:75:"#534: Client register/registration support for various registrar brokenness";s:11:"description";s:3170:"<p>
Since circa version 0.8, the registration client session (pjsip_regc.c) has stricter checks on the Contact header(s) sent by registrar in the 200/OK response to REGISTER request. This is necessary to support multiple registrations (the same AOR is registered more than once in the server by multiple user agents), and this is how it is supposed to be done in the first place according to RFC 3261.
</p>
<p>
Unfortunately this breaks "compatibility" with some servers, because these servers incorrectly return different Contact header(s) in the response, causing PJSIP to fail to find it's registered Contact header. When this happens, PJSIP treated the response as unregistration response, regardless whether it's a successful (200 class) response. 
</p>
<p>
This ticket implements new expiration calculation algorithm to improve compatibility with these broken registrars. To calculate the expiration value, when successful response to registration is received:
</p>
<ol><li>First it tries to match the URI returned in the response using URI comparison rule in RFC 3261 Section 19.1.4. If application doesn't want this URI comparison, it can disable it by setting <tt>PJ_FALSE</tt> to <tt>pjsip_cfg()-&gt;regc.check_contact</tt> run-time setting or <tt>PJSIP_REGISTER_CLIENT_CHECK_CONTACT</tt>. However now it's not recommended to disable this checking since the algorithm will fallback to the processing below anyway.
</li><li>If it couldn't find the contact URI, and if <tt>pjsip_cfg()-&gt;regc.add_xuid_param</tt> is non-zero (default value is <tt>PJSIP_REGISTER_CLIENT_ADD_XUID_PARAM</tt>, which is zero), then the client registration will add an extension parameter to the contacts that it registers, then match the contacts in the response by just matching this parameter. So even when the registrar modifies the host part of the contact URI, it will still be matched as long as the registrar returns all the parameters in the URI unmodified.
This process is by default disabled since it adds non-standard extension parameter to the Contact, and it will cause incoming INVITE to the client to contain this additional parameter, which although is harmless, may not be expected by the client.
</li><li>If no matching contact is found, it checks whether the response contains same number of contacts as in the session. If it does, then assumes that we are the only user agent registering for the AOR, hence we can get the expiration value from the response.
</li><li>For all the steps above, the expiration value will be taken from the <tt>expires</tt> parameter of the Contact header. If no <tt>expires</tt> parameter is found, or if no matching contact is found at this stage, get the expiration value from <tt>Expires</tt> header if it's present, or from the expiration set in the request, or failing all that, set the expiration to 3600 (the default value for malformed REGISTER request/response according to RFC 3261).
</li></ol><p>
Thanks Alan J. Bond and Electrocut for the <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-May/002783.html"><span class="icon">discussions over this topic</span></a> on PJSIP list.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/534#changelog";s:7:"summary";s:3170:"<p>
Since circa version 0.8, the registration client session (pjsip_regc.c) has stricter checks on the Contact header(s) sent by registrar in the 200/OK response to REGISTER request. This is necessary to support multiple registrations (the same AOR is registered more than once in the server by multiple user agents), and this is how it is supposed to be done in the first place according to RFC 3261.
</p>
<p>
Unfortunately this breaks "compatibility" with some servers, because these servers incorrectly return different Contact header(s) in the response, causing PJSIP to fail to find it's registered Contact header. When this happens, PJSIP treated the response as unregistration response, regardless whether it's a successful (200 class) response. 
</p>
<p>
This ticket implements new expiration calculation algorithm to improve compatibility with these broken registrars. To calculate the expiration value, when successful response to registration is received:
</p>
<ol><li>First it tries to match the URI returned in the response using URI comparison rule in RFC 3261 Section 19.1.4. If application doesn't want this URI comparison, it can disable it by setting <tt>PJ_FALSE</tt> to <tt>pjsip_cfg()-&gt;regc.check_contact</tt> run-time setting or <tt>PJSIP_REGISTER_CLIENT_CHECK_CONTACT</tt>. However now it's not recommended to disable this checking since the algorithm will fallback to the processing below anyway.
</li><li>If it couldn't find the contact URI, and if <tt>pjsip_cfg()-&gt;regc.add_xuid_param</tt> is non-zero (default value is <tt>PJSIP_REGISTER_CLIENT_ADD_XUID_PARAM</tt>, which is zero), then the client registration will add an extension parameter to the contacts that it registers, then match the contacts in the response by just matching this parameter. So even when the registrar modifies the host part of the contact URI, it will still be matched as long as the registrar returns all the parameters in the URI unmodified.
This process is by default disabled since it adds non-standard extension parameter to the Contact, and it will cause incoming INVITE to the client to contain this additional parameter, which although is harmless, may not be expected by the client.
</li><li>If no matching contact is found, it checks whether the response contains same number of contacts as in the session. If it does, then assumes that we are the only user agent registering for the AOR, hence we can get the expiration value from the response.
</li><li>For all the steps above, the expiration value will be taken from the <tt>expires</tt> parameter of the Contact header. If no <tt>expires</tt> parameter is found, or if no matching contact is found at this stage, get the expiration value from <tt>Expires</tt> header if it's present, or from the expiration set in the request, or failing all that, set the expiration to 3600 (the default value for malformed REGISTER request/response according to RFC 3261).
</li></ol><p>
Thanks Alan J. Bond and Electrocut for the <a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-May/002783.html"><span class="icon">discussions over this topic</span></a> on PJSIP list.
</p>
";}i:452;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/535";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/535";s:5:"title";s:42:"#535: Add mathematics & statistics module.";s:11:"description";s:325:"<p>
This module is mostly needed by pjmedia, since some parts of pjmedia (e.g: RTCP, RTCP-XR, jbuf) do statistics calculations, it would be neater and easier to manage if statistics calculation is managed separately in specific module.
</p>
<p>
And for future use, this could be a plate for mathematics implementations.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/535#changelog";s:7:"summary";s:325:"<p>
This module is mostly needed by pjmedia, since some parts of pjmedia (e.g: RTCP, RTCP-XR, jbuf) do statistics calculations, it would be neater and easier to manage if statistics calculation is managed separately in specific module.
</p>
<p>
And for future use, this could be a plate for mathematics implementations.
</p>
";}i:453;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/536";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/536";s:5:"title";s:75:"#536: Resample may overwrite past destination buffer (thanks Pawe? Kierski)";s:11:"description";s:407:"<p>
When converting from 8000 to 44100, the SrcUp() function may write past the destination buffers. This was fixed in <a class="changeset" href="http://trac.pjsip.org/repos/changeset/287" title="Fixed bug where resample may write pass the output buffer">r287</a> but for some reason the fix was lost probably when we upgraded libresample to newer version.
</p>
<p>
Thanks Pawe? Kierski for reporting.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/536#changelog";s:7:"summary";s:407:"<p>
When converting from 8000 to 44100, the SrcUp() function may write past the destination buffers. This was fixed in <a class="changeset" href="http://trac.pjsip.org/repos/changeset/287" title="Fixed bug where resample may write pass the output buffer">r287</a> but for some reason the fix was lost probably when we upgraded libresample to newer version.
</p>
<p>
Thanks Pawe? Kierski for reporting.
</p>
";}i:454;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/537";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/537";s:5:"title";s:43:"#537: Simple DNS Server class (for testing)";s:11:"description";s:121:"<p>
A simple DNS server class with DNS A and SRV records support, mostly to be used by various internal test units.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/537#changelog";s:7:"summary";s:121:"<p>
A simple DNS server class with DNS A and SRV records support, mostly to be used by various internal test units.
</p>
";}i:455;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/542";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/542";s:5:"title";s:53:"#542: Enable setting sound device latency at runtime.";s:11:"description";s:362:"<p>
Some of unstable audio problems seem to be caused by latency set too low (current setting is PA's default low latency). Since the ideal sound device latency setting depends on many parameters (e.g: OS, hardware/sound card, CPU load), this setting should be able to be set at runtime, and default setting should be set as 'safe' as possible yet minimum.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/542#changelog";s:7:"summary";s:362:"<p>
Some of unstable audio problems seem to be caused by latency set too low (current setting is PA's default low latency). Since the ideal sound device latency setting depends on many parameters (e.g: OS, hardware/sound card, CPU load), this setting should be able to be set at runtime, and default setting should be set as 'safe' as possible yet minimum.
</p>
";}i:456;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/543";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/543";s:5:"title";s:30:"#543: Test framework for pjsua";s:11:"description";s:93:"<p>
Test framework for pjsua which automates testing of various settings and scenarios.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/543#changelog";s:7:"summary";s:93:"<p>
Test framework for pjsua which automates testing of various settings and scenarios.
</p>
";}i:457;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/544";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/544";s:5:"title";s:50:"#544: RTP/AVP/SAVP negotiation on UPDATE/re-INVITE";s:11:"description";s:282:"<p>
Case:
</p>
<ul><li>Caller is using RTP/SAVP, callee is using RTP/AVP
</li><li>Call establishment should be okay, callee will adjust to RTP/SAVP
</li><li>But when callee sends UPDATE, it sends it with RTP/AVP, which will be rejected by caller since it expects RTP/SAVP
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/544#changelog";s:7:"summary";s:282:"<p>
Case:
</p>
<ul><li>Caller is using RTP/SAVP, callee is using RTP/AVP
</li><li>Call establishment should be okay, callee will adjust to RTP/SAVP
</li><li>But when callee sends UPDATE, it sends it with RTP/AVP, which will be rejected by caller since it expects RTP/SAVP
</li></ul>";}i:458;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/546";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/546";s:5:"title";s:33:"#546: Send RTCP SDES and RTCP BYE";s:11:"description";s:105:"<p>
Send RTCP SDES containing CNAME when stream is created, and RTCP BYE when stream is destroyed. 
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/546#changelog";s:7:"summary";s:105:"<p>
Send RTCP SDES containing CNAME when stream is created, and RTCP BYE when stream is destroyed. 
</p>
";}i:459;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/548";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/548";s:5:"title";s:27:"#548: Validate memory usage";s:11:"description";s:27:"<p>
.. as part of QA.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/548#changelog";s:7:"summary";s:27:"<p>
.. as part of QA.
</p>
";}i:460;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/549";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/549";s:5:"title";s:80:"#549: Modification in media transport API to support more offer/answer scenarios";s:11:"description";s:539:"<p>
While the media transport API interface have changed significantly from 0.8 because of SRTP (ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/467" title="RTP/AVP vs RTP/SAVP negotiation (closed)">#467</a>), it still has some drawbacks, especially related to subsequent offer/answer. This ticket will make it right.
</p>
<p>
Some of the discussions for the draft modification is written here: <a class="wiki" href="http://trac.pjsip.org/repos/wiki/0.9/Media_Interface_Change">0.9/Media_Interface_Change</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/549#changelog";s:7:"summary";s:539:"<p>
While the media transport API interface have changed significantly from 0.8 because of SRTP (ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/467" title="RTP/AVP vs RTP/SAVP negotiation (closed)">#467</a>), it still has some drawbacks, especially related to subsequent offer/answer. This ticket will make it right.
</p>
<p>
Some of the discussions for the draft modification is written here: <a class="wiki" href="http://trac.pjsip.org/repos/wiki/0.9/Media_Interface_Change">0.9/Media_Interface_Change</a>
</p>
";}i:461;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/550";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/550";s:5:"title";s:68:"#550: PRACK is not re-sent on 401/407 challenge (thanks Josh Benson)";s:11:"description";s:92:"<p>
PJSIP is not retrying the PRACK request if it is challenged with 401/407 response.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/550#changelog";s:7:"summary";s:92:"<p>
PJSIP is not retrying the PRACK request if it is challenged with 401/407 response.
</p>
";}i:462;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/552";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/552";s:5:"title";s:133:"#552: Added TLS server name extension to support connecting to multi-hosted SIP TLS server (thanks Klaus Darilion for the suggestion)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/552#changelog";}i:463;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/553";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/553";s:5:"title";s:98:"#553: PUBLISH callback is not called when authentication fails (thanks Ruud Klaver for the report)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/553#changelog";}i:464;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/554";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/554";s:5:"title";s:221:"#554: Automatically detect the realm for authenticating against IMS servers, so that application/user doesn't have to fill in the realm value beforehand, to simplify provisioning (thanks Philippe Leuba for the suggestion)";s:11:"description";s:2224:"<p>
<strong>Problem description:</strong>
</p>
<blockquote>
<p>
In the old registration sequence, we sent a first REGISTER request without Authorization header that was challenged with a nonce and a second REGISTER request with username and response.
</p>
</blockquote>
<blockquote>
<p>
However in IMS, the server is unable to send the right nonce as long as it does not have received the private identity in the username. So the second REGISTER is rejected again with a new nonce.
</p>
</blockquote>
<blockquote>
<p>
With the pjsip_auth_clt_pref stucture, we can configure the initial REGISTER to contain an empty Authorization header, with just a realm, username and uri. This way the server can challenge it with the right nonce as it know the username and the second REGISTER request can succeed.
</p>
</blockquote>
<blockquote>
<p>
However, this sequence force the user to know the realm in advance as the ?*? wildcard can not be used here. This complicates the provisioning and is source of more problems of support.
</p>
</blockquote>
<p>
<strong>Basic Idea:</strong>
</p>
<p>
One way to prevent the provisioning of this realm:
</p>
<ul><li>Send a first REGISTER request without Authorization header
</li><li>Receive back the realm and a provisional nonce
</li><li>Send a second REGISTER request with Authorization header, filled with the username, realm, response, etc
</li><li>Receive back the realm and the definitive nonce associated with the username
</li><li>Send a third REGISTER request with Authorization header, filled with the username, realm, final response, etc
</li></ul><p>
<strong>Proposed solution:</strong>
</p>
<blockquote>
<p>
We can add support to putting wildcard ("*") for IMS, which will activate three stage auth as  explained above. So when sending empty Authorization setting is set and when the realm is wildcard, the auth framework will do the three stage auth as above.
</p>
</blockquote>
<p>
<strong>Drawback:</strong>
</p>
<blockquote>
<p>
With above, authentication for all requests will use three stage authentication, which will increase message round-trips. However this is deemed acceptable as it happens only when application specifies wild-card as the realm.
</p>
</blockquote>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/554#changelog";s:7:"summary";s:2224:"<p>
<strong>Problem description:</strong>
</p>
<blockquote>
<p>
In the old registration sequence, we sent a first REGISTER request without Authorization header that was challenged with a nonce and a second REGISTER request with username and response.
</p>
</blockquote>
<blockquote>
<p>
However in IMS, the server is unable to send the right nonce as long as it does not have received the private identity in the username. So the second REGISTER is rejected again with a new nonce.
</p>
</blockquote>
<blockquote>
<p>
With the pjsip_auth_clt_pref stucture, we can configure the initial REGISTER to contain an empty Authorization header, with just a realm, username and uri. This way the server can challenge it with the right nonce as it know the username and the second REGISTER request can succeed.
</p>
</blockquote>
<blockquote>
<p>
However, this sequence force the user to know the realm in advance as the ?*? wildcard can not be used here. This complicates the provisioning and is source of more problems of support.
</p>
</blockquote>
<p>
<strong>Basic Idea:</strong>
</p>
<p>
One way to prevent the provisioning of this realm:
</p>
<ul><li>Send a first REGISTER request without Authorization header
</li><li>Receive back the realm and a provisional nonce
</li><li>Send a second REGISTER request with Authorization header, filled with the username, realm, response, etc
</li><li>Receive back the realm and the definitive nonce associated with the username
</li><li>Send a third REGISTER request with Authorization header, filled with the username, realm, final response, etc
</li></ul><p>
<strong>Proposed solution:</strong>
</p>
<blockquote>
<p>
We can add support to putting wildcard ("*") for IMS, which will activate three stage auth as  explained above. So when sending empty Authorization setting is set and when the realm is wildcard, the auth framework will do the three stage auth as above.
</p>
</blockquote>
<p>
<strong>Drawback:</strong>
</p>
<blockquote>
<p>
With above, authentication for all requests will use three stage authentication, which will increase message round-trips. However this is deemed acceptable as it happens only when application specifies wild-card as the realm.
</p>
</blockquote>
";}i:465;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/555";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/555";s:5:"title";s:83:"#555: Small but otherwise incompatible changes to PJSUA instant messaging callbacks";s:11:"description";s:262:"<p>
Modifications below to make the API more usable:
</p>
<ul><li>add account ID to <tt>on_pager2()</tt> callback
</li><li>add account ID to <tt>on_pager_status2()</tt> callback
</li><li>add new callback <tt>on_typing2()</tt> with additional arguments
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/555#changelog";s:7:"summary";s:262:"<p>
Modifications below to make the API more usable:
</p>
<ul><li>add account ID to <tt>on_pager2()</tt> callback
</li><li>add account ID to <tt>on_pager_status2()</tt> callback
</li><li>add new callback <tt>on_typing2()</tt> with additional arguments
</li></ul>";}i:466;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/556";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/556";s:5:"title";s:58:"#556: New object oriented Python abstraction for pjsua API";s:11:"description";s:412:"<dl><dt>pjsua.py</dt><dd>
Implement new objected oriented Python wrapper for pjsua API. This is a new Python module, and it is implemented purely in Python, on top of the C module.
</dd></dl>
<dl><dt>_pjsua C python module</dt><dd>
This is the implementation of the Python C module. It is based on the old py_pjsua.c module with some changes and new features. The py_pjsua.c module is now deprecated.
</dd></dl>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/556#changelog";s:7:"summary";s:412:"<dl><dt>pjsua.py</dt><dd>
Implement new objected oriented Python wrapper for pjsua API. This is a new Python module, and it is implemented purely in Python, on top of the C module.
</dd></dl>
<dl><dt>_pjsua C python module</dt><dd>
This is the implementation of the Python C module. It is based on the old py_pjsua.c module with some changes and new features. The py_pjsua.c module is now deprecated.
</dd></dl>
";}i:467;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/557";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/557";s:5:"title";s:41:"#557: Memory leak in Speex echo canceller";s:11:"description";s:154:"<p>
Some Speex echo canceller (mdf.c) internal variables don't seem to get freed, causing memory leak. This has been reported to Speex mailing list.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/557#changelog";s:7:"summary";s:154:"<p>
Some Speex echo canceller (mdf.c) internal variables don't seem to get freed, causing memory leak. This has been reported to Speex mailing list.
</p>
";}i:468;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/558";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/558";s:5:"title";s:25:"#558: Memory leak in SRTP";s:11:"description";s:202:"<p>
The libSRTP's srtp_init() function allocates some variables which are not freed, causing memory leak.
</p>
<p>
The solution is to add srtp_deinit() function and register this with pj_atexit().
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/558#changelog";s:7:"summary";s:202:"<p>
The libSRTP's srtp_init() function allocates some variables which are not freed, causing memory leak.
</p>
<p>
The solution is to add srtp_deinit() function and register this with pj_atexit().
</p>
";}i:469;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/560";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/560";s:5:"title";s:47:"#560: Optimize the memory usage of DNS resolver";s:11:"description";s:949:"<p>
Previously, the DNS resolver (<tt>resolver.c</tt>) allocates memory for caching DNS answers from the resolver pool, and stores the unused entries in free list. This would cause memory to grow as much as the total number of unique names resolved, and this memory will not be released until the resolver is destroyed.
</p>
<p>
With the new approach, each DNS answer cache entry will have it's own pool, and when the answer/entry expires, the pool will be destroyed, thus releasing the memory back to the OS.
</p>
<p>
Also change the pool type used to store the entry. Previously entry uses a fixed size buffer to allocate the memory from, using fixed buffer pool (<tt>pool_buf.h</tt>. Because of this, entry is created with buffer that must be large enough to parse DNS answer, and if the answer is larger than the buffer size, parsing will fail.
</p>
<p>
This limitation will be gone when we change the pool type to use normal pool instead.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/560#changelog";s:7:"summary";s:949:"<p>
Previously, the DNS resolver (<tt>resolver.c</tt>) allocates memory for caching DNS answers from the resolver pool, and stores the unused entries in free list. This would cause memory to grow as much as the total number of unique names resolved, and this memory will not be released until the resolver is destroyed.
</p>
<p>
With the new approach, each DNS answer cache entry will have it's own pool, and when the answer/entry expires, the pool will be destroyed, thus releasing the memory back to the OS.
</p>
<p>
Also change the pool type used to store the entry. Previously entry uses a fixed size buffer to allocate the memory from, using fixed buffer pool (<tt>pool_buf.h</tt>. Because of this, entry is created with buffer that must be large enough to parse DNS answer, and if the answer is larger than the buffer size, parsing will fail.
</p>
<p>
This limitation will be gone when we change the pool type to use normal pool instead.
</p>
";}i:470;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/564";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/564";s:5:"title";s:56:"#564: Reduce the memory usage for default pjsip settings";s:11:"description";s:205:"<p>
The default PJSIP settings are set to handle many calls (16384 transactions and 16384 dialogs). This probably is too much for typical use of PJSIP, so reduce the default settings to lower values.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/564#changelog";s:7:"summary";s:205:"<p>
The default PJSIP settings are set to handle many calls (16384 transactions and 16384 dialogs). This probably is too much for typical use of PJSIP, so reduce the default settings to lower values.
</p>
";}i:471;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/565";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/565";s:5:"title";s:63:"#565: Call WSACleanup() when pj_shutdown() is called on Windows";s:11:"description";s:563:"<p>
Previously we disabled WSACleanup() because this may inadvertently cause application sockets to be closed. However without this call, we may leak some handles when application exits (some internal Windows Socket handles).
</p>
<p>
Now if application wants to work on sockets after pj_shutdown() is called, it must call WSAStartup() itself when the application is starting and WSACleanup() when application is quitting. This is possible since WSAStartup()/WSACleanup() may called multiple times and only the last WSACleanup() will cleanup Windows Socket.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/565#changelog";s:7:"summary";s:563:"<p>
Previously we disabled WSACleanup() because this may inadvertently cause application sockets to be closed. However without this call, we may leak some handles when application exits (some internal Windows Socket handles).
</p>
<p>
Now if application wants to work on sockets after pj_shutdown() is called, it must call WSAStartup() itself when the application is starting and WSACleanup() when application is quitting. This is possible since WSAStartup()/WSACleanup() may called multiple times and only the last WSACleanup() will cleanup Windows Socket.
</p>
";}i:472;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/566";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/566";s:5:"title";s:98:"#566: TURN session in PJSUA-LIB is not properly destroyed causing possible memory and handle leaks";s:11:"description";s:130:"<p>
After media subsystem is shutdown, events are not polled, causing TURN session pending destroy events to be unprocessed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/566#changelog";s:7:"summary";s:130:"<p>
After media subsystem is shutdown, events are not polled, causing TURN session pending destroy events to be unprocessed.
</p>
";}i:473;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/567";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/567";s:5:"title";s:143:"#567: Rare race condition causing crash in ICE stream transport when STUN Binding resolution callback is called before initialization completes";s:11:"description";s:293:"<p>
This happens when the callback is called before ICE stream transport initialization completes, causing the callback to not find the STUN srflx candidate in the component. 
</p>
<p>
This probably is a rare situation and it only happens e.g. when the main thread stops in a breakpoint.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/567#changelog";s:7:"summary";s:293:"<p>
This happens when the callback is called before ICE stream transport initialization completes, causing the callback to not find the STUN srflx candidate in the component. 
</p>
<p>
This probably is a rare situation and it only happens e.g. when the main thread stops in a breakpoint.
</p>
";}i:474;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/568";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/568";s:5:"title";s:168:"#568: The hash table ignores the last row of the table in hash table iteration, causing some memory leaks during shutdown routine because some objects are not destroyed";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/568#changelog";}i:475;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/569";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/569";s:5:"title";s:96:"#569: Non-uniform locking order between SRTP & its member transport (e.g:ICE) may cause deadlock";s:11:"description";s:424:"<p>
Sample case:
</p>
<ul><li>Worker thread is receiving an RTP packet, it gets the ICE lock and about to get the SRTP lock, other thread is trying to send an RTP packet, it successfully acquire the SRTP lock, but unable to acquire ICE lock since it is hold by the worker thread, deadlock.
</li></ul><p>
Solution:
</p>
<ul><li>Make the locking order between SRTP &amp; its member transport uniform or independent.
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/569#changelog";s:7:"summary";s:424:"<p>
Sample case:
</p>
<ul><li>Worker thread is receiving an RTP packet, it gets the ICE lock and about to get the SRTP lock, other thread is trying to send an RTP packet, it successfully acquire the SRTP lock, but unable to acquire ICE lock since it is hold by the worker thread, deadlock.
</li></ul><p>
Solution:
</p>
<ul><li>Make the locking order between SRTP &amp; its member transport uniform or independent.
</li></ul>";}i:476;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/570";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/570";s:5:"title";s:50:"#570: Out of array/buffer boundary access in WSOLA";s:11:"description";s:86:"<p>
Locations found:
</p>
<ul><li>in find_pitch()
</li><li>in overlap_add()
</li></ul>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/570#changelog";s:7:"summary";s:86:"<p>
Locations found:
</p>
<ul><li>in find_pitch()
</li><li>in overlap_add()
</li></ul>";}i:477;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/571";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/571";s:5:"title";s:99:"#571: Coloring for logs in Linux/UNIX, two more spaces in logs and runtime log colors configuration";s:11:"description";s:312:"<p>
I implemented log colors for Linux/UNIX console. As it is common to have consoles with light background it was needed to add support for runtime change of the colors as well.
</p>
<p>
I also added two more spaces between log headers and core log message for better readability as log decoration option.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/571#changelog";s:7:"summary";s:312:"<p>
I implemented log colors for Linux/UNIX console. As it is common to have consoles with light background it was needed to add support for runtime change of the colors as well.
</p>
<p>
I also added two more spaces between log headers and core log message for better readability as log decoration option.
</p>
";}i:478;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/573";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/573";s:5:"title";s:58:"#573: Handle receiving short version of Event header ("o")";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/573#changelog";}i:479;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/576";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/576";s:5:"title";s:48:"#576: Added user data in pjsua account and buddy";s:11:"description";s:80:"<p>
Added the capability to attach user data to account and buddy objects.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/576#changelog";s:7:"summary";s:80:"<p>
Added the capability to attach user data to account and buddy objects.
</p>
";}i:480;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/577";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/577";s:5:"title";s:75:"#577: Implement sound device wrapper using APS (Audio Proxy Server) for S60";s:11:"description";s:99:"<p>
Benefits of sound device wrapper using APS are: low latency &amp; enabling audio routing.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/577#changelog";s:7:"summary";s:99:"<p>
Benefits of sound device wrapper using APS are: low latency &amp; enabling audio routing.
</p>
";}i:481;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/578";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/578";s:5:"title";s:86:"#578: Bug in encoding ICE candidate type in SDP (thanks Ondrej Sterbak for the report)";s:11:"description";s:175:"<p>
The relay and peer-reflexive candidate is shown as "srflx" in SDP:
</p>
<pre class="wiki">a=candidate:R 2 UDP 14 64.g.h.i 49178 typ srflx raddr 78.a.b.c rport 58880
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/578#changelog";s:7:"summary";s:175:"<p>
The relay and peer-reflexive candidate is shown as "srflx" in SDP:
</p>
<pre class="wiki">a=candidate:R 2 UDP 14 64.g.h.i 49178 typ srflx raddr 78.a.b.c rport 58880
</pre>";}i:482;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/579";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/579";s:5:"title";s:68:"#579: Data loss with TCP sockets (thanks Helmut Wolf for the report)";s:11:"description";s:489:"<p>
It seems that nobody is checking whether the asynchronous send() operation only sent partial data when the operation completes. The ioqueue doesn't seem to handle it, nor the SIP transport. This would cause data loss on high traffic.
</p>
<p>
The best solution would be to handle this in the active socket object and modify the SIP transport to use active socket (rather than using the ioqueue directly). But this is quite a major modification and needs some more test framework.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/579#changelog";s:7:"summary";s:489:"<p>
It seems that nobody is checking whether the asynchronous send() operation only sent partial data when the operation completes. The ioqueue doesn't seem to handle it, nor the SIP transport. This would cause data loss on high traffic.
</p>
<p>
The best solution would be to handle this in the active socket object and modify the SIP transport to use active socket (rather than using the ioqueue directly). But this is quite a major modification and needs some more test framework.
</p>
";}i:483;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/580";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/580";s:5:"title";s:108:"#580: Incoming target refresh request does not update the Contact header (thanks Joel Dodson for the report)";s:11:"description";s:245:"<p>
The pjsip <tt>sip_dialog.c</tt> correctly updates the dialog target URI upon receiving 2xx response of an outgoing target refresh request, but it does not update the dialog target URI upon receiving the incoming target refresh request.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/580#changelog";s:7:"summary";s:245:"<p>
The pjsip <tt>sip_dialog.c</tt> correctly updates the dialog target URI upon receiving 2xx response of an outgoing target refresh request, but it does not update the dialog target URI upon receiving the incoming target refresh request.
</p>
";}i:484;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/581";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/581";s:5:"title";s:47:"#581: Fixed build dependencies in the makefiles";s:11:"description";s:152:"<p>
Some dependencies are not set properly, causing either stale build (application is not rebuilt when libraries changed) or unnecessary rebuild.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/581#changelog";s:7:"summary";s:152:"<p>
Some dependencies are not set properly, causing either stale build (application is not rebuilt when libraries changed) or unnecessary rebuild.
</p>
";}i:485;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/582";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/582";s:5:"title";s:107:"#582: Presence extended status is not sent in initial NOTIFY request (thanks Joseph Maiquez for the report)";s:11:"description";s:106:"<p>
This would cause the subscriber to not get the extended/RPID status in the initial notification.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/582#changelog";s:7:"summary";s:106:"<p>
This would cause the subscriber to not get the extended/RPID status in the initial notification.
</p>
";}i:486;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/14";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/14";s:5:"title";s:44:"#14: Don't change RTP/RTCP SSRC on re-INVITE";s:11:"description";s:202:"<p>
Currently re-INVITE will cause a completely new media session to be created. Ideally some properties of the old session (such as SSRC) should be maintained throughout the duration of the call.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/14#changelog";s:7:"summary";s:202:"<p>
Currently re-INVITE will cause a completely new media session to be created. Ideally some properties of the old session (such as SSRC) should be maintained throughout the duration of the call.
</p>
";}i:487;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/19";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/19";s:5:"title";s:37:"#19: Enhancement for PDA applications";s:11:"description";s:91:"<p>
Some more features would be great for the PDA application (such as registration).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/19#changelog";s:7:"summary";s:91:"<p>
Some more features would be great for the PDA application (such as registration).
</p>
";}i:488;a:5:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/27";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/27";s:5:"title";s:60:"#27: PortAudio device open log shows incorrect channel count";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/27#changelog";}i:489;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/32";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/32";s:5:"title";s:61:"#32: sndtest sample doesn't display the device name correctly";s:11:"description";s:163:"<p>
When -1 is specified as device ID, sndtest will correctly select the default device on the platform but it doesn't display the correct device in the log.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/32#changelog";s:7:"summary";s:163:"<p>
When -1 is specified as device ID, sndtest will correctly select the default device on the platform but it doesn't display the correct device in the log.
</p>
";}i:490;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/33";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/33";s:5:"title";s:51:"#33: Add socket handles to UDP media transport info";s:11:"description";s:95:"<p>
Some application wants to do something with the sockets, so they need to be explosed.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/33#changelog";s:7:"summary";s:95:"<p>
Some application wants to do something with the sockets, so they need to be explosed.
</p>
";}i:491;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/34";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/34";s:5:"title";s:48:"#34: Unable to send registration in the callback";s:11:"description";s:434:"<p>
The client registration temporarily increases the pending_tsx flag before calling the callback. This is intended to prevent application from deleting the registration while it's in the callback. Unfortunately this also prevents application from sending another REGISTER request before the pending_tsx flag is not zero.
</p>
<p>
The solution for this is to separate the has_pending_tsx flag with the flag to prevent deletion.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/34#changelog";s:7:"summary";s:434:"<p>
The client registration temporarily increases the pending_tsx flag before calling the callback. This is intended to prevent application from deleting the registration while it's in the callback. Unfortunately this also prevents application from sending another REGISTER request before the pending_tsx flag is not zero.
</p>
<p>
The solution for this is to separate the has_pending_tsx flag with the flag to prevent deletion.
</p>
";}i:492;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/37";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/37";s:5:"title";s:83:"#37: RTCP discard statistic should be increased when invalid RTP packet is received";s:11:"description";s:680:"<p>
Some application uses the RTCP RX statistic to detect whether remote call has disappeared, i.e. when no packet is received for some time then application assumes that remote call has gone missing. 
</p>
<p>
Some user agents (X-Lite in this case) send a one byte packet when the call is on-hold to keep the call running. So the receipt of such packet can be used to prevent application from deleting the call.
</p>
<p>
Unfortunately, this one byte packet will not count on any RX statistic since it was not an RTP packet, so it doesn't pass the rtp_decode() function.
</p>
<p>
The correct behavior (probably) is to count this invalid RTP packets as the discarded packets.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/37#changelog";s:7:"summary";s:680:"<p>
Some application uses the RTCP RX statistic to detect whether remote call has disappeared, i.e. when no packet is received for some time then application assumes that remote call has gone missing. 
</p>
<p>
Some user agents (X-Lite in this case) send a one byte packet when the call is on-hold to keep the call running. So the receipt of such packet can be used to prevent application from deleting the call.
</p>
<p>
Unfortunately, this one byte packet will not count on any RX statistic since it was not an RTP packet, so it doesn't pass the rtp_decode() function.
</p>
<p>
The correct behavior (probably) is to count this invalid RTP packets as the discarded packets.
</p>
";}i:493;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/38";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/38";s:5:"title";s:46:"#38: Inaccurate error message when making call";s:11:"description";s:340:"<p>
When the destination URI of <tt>pjsua_call_make_call()</tt> is not valid, an error is printed:
</p>
<pre class="wiki">  09:46:56.216   pjsua_call.c Unable to generate Contact header: Invalid URI 
(PJSIP_EINVALIDURI) [status=171039]
</pre><p>
This is misleading since the invalid URI is in the destination URI, not the Contact URI.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/38#changelog";s:7:"summary";s:340:"<p>
When the destination URI of <tt>pjsua_call_make_call()</tt> is not valid, an error is printed:
</p>
<pre class="wiki">  09:46:56.216   pjsua_call.c Unable to generate Contact header: Invalid URI 
(PJSIP_EINVALIDURI) [status=171039]
</pre><p>
This is misleading since the invalid URI is in the destination URI, not the Contact URI.
</p>
";}i:494;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/39";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/39";s:5:"title";s:47:"#39: Add incoming URI string in pjsua_call_info";s:11:"description";s:164:"<p>
It will be useful if application can inspect the incoming URI in the pjsua_call_info, since this URI now is only available in on_incoming_call() callback.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/39#changelog";s:7:"summary";s:164:"<p>
It will be useful if application can inspect the incoming URI in the pjsua_call_info, since this URI now is only available in on_incoming_call() callback.
</p>
";}i:495;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/43";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/43";s:5:"title";s:61:"#43: Echo suppressor definition doesn't match the declaration";s:11:"description";s:823:"<pre class="wiki">the declaration of fun echo_supp_create in file
pjproject-0.5.9\pjmedia\src\pjmedia\echo_suppress.c
has only 6 parameters;
 
PJ_DECL(pj_status_t) echo_supp_create(pj_pool_t *pool,
          unsigned clock_rate,
          unsigned samples_per_frame,
          unsigned tail_ms,
          unsigned options,
          void **p_state );
 
 
However, there are 7 parameters in the declaration in file
pjproject-0.5.9\pjmedia\src\pjmedia\echo_common.c
 
PJ_DECL(pj_status_t) echo_supp_create(pj_pool_t *pool,
          unsigned clock_rate,
          unsigned samples_per_frame,
          unsigned tail_ms,
          unsigned latency_ms,            // not appear in echo_suppress.c
          unsigned options,
          void **p_state );
 
No error appear when compling and linking, but not run correctly;
</pre>";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/43#changelog";s:7:"summary";s:823:"<pre class="wiki">the declaration of fun echo_supp_create in file
pjproject-0.5.9\pjmedia\src\pjmedia\echo_suppress.c
has only 6 parameters;
 
PJ_DECL(pj_status_t) echo_supp_create(pj_pool_t *pool,
          unsigned clock_rate,
          unsigned samples_per_frame,
          unsigned tail_ms,
          unsigned options,
          void **p_state );
 
 
However, there are 7 parameters in the declaration in file
pjproject-0.5.9\pjmedia\src\pjmedia\echo_common.c
 
PJ_DECL(pj_status_t) echo_supp_create(pj_pool_t *pool,
          unsigned clock_rate,
          unsigned samples_per_frame,
          unsigned tail_ms,
          unsigned latency_ms,            // not appear in echo_suppress.c
          unsigned options,
          void **p_state );
 
No error appear when compling and linking, but not run correctly;
</pre>";}i:496;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/46";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/46";s:5:"title";s:45:"#46: Added recording capability in streamutil";s:11:"description";s:77:"<p>
Added recording of incoming RTP stream into WAV file in streamutil.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/46#changelog";s:7:"summary";s:77:"<p>
Added recording of incoming RTP stream into WAV file in streamutil.
</p>
";}i:497;a:5:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/52";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/52";s:5:"title";s:60:"#52: Functions to retrieve media port of player and recorder";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/52#changelog";}i:498;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/70";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/70";s:5:"title";s:45:"#70: Frame timestamp not propagated correctly";s:11:"description";s:574:"<p>
The timestamp of outgoing media is always generated by the sound device, and it should be propagated throughout the components until the last downstream component, the media transport.
</p>
<p>
Unfortunately some components doesn't seem to propagate this information properly to downstream. Example of such components are conference bridge (there may be more).
</p>
<p>
In addition, the conference bridge should adjust the timestamp when the frame is going through a resampling algorithm (i.e. the timestamp should be adjusted according to sample rate conversion).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/70#changelog";s:7:"summary";s:574:"<p>
The timestamp of outgoing media is always generated by the sound device, and it should be propagated throughout the components until the last downstream component, the media transport.
</p>
<p>
Unfortunately some components doesn't seem to propagate this information properly to downstream. Example of such components are conference bridge (there may be more).
</p>
<p>
In addition, the conference bridge should adjust the timestamp when the frame is going through a resampling algorithm (i.e. the timestamp should be adjusted according to sample rate conversion).
</p>
";}i:499;a:7:{s:4:"link";s:37:"http://trac.pjsip.org/repos/ticket/80";s:4:"guid";s:37:"http://trac.pjsip.org/repos/ticket/80";s:5:"title";s:60:"#80: Return correct error code when pj_gethostbyname() fails";s:11:"description";s:118:"<p>
Currently it will always return PJ_ERESOLVE, but it should return the appropriate native error code instead.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:47:"http://trac.pjsip.org/repos/ticket/80#changelog";s:7:"summary";s:118:"<p>
Currently it will always return PJ_ERESOLVE, but it should return the appropriate native error code instead.
</p>
";}i:500;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/161";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/161";s:5:"title";s:60:"#161: Assertion on thread creation on Win32 with log level 6";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/161#changelog";}i:501;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/162";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/162";s:5:"title";s:60:"#162: Assertion on thread creation on Win32 with log level 6";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/162#changelog";}i:502;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/176";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/176";s:5:"title";s:66:"#176: RTP port number is not reset in pjsua media (thanks Binu KS)";s:11:"description";s:347:"<p>
The RTP port number uses a static variable to keep track next available port to use, and the value is not cleared on <tt>pjsua_destroy()</tt>.
</p>
<p>
This would cause next <tt>pjsua_init()</tt> after <tt>pjsua_destroy()</tt> to not use the RTP starting port setting.
</p>
<p>
Thanks Binu K S &lt;binuks at gmail&gt; for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/176#changelog";s:7:"summary";s:347:"<p>
The RTP port number uses a static variable to keep track next available port to use, and the value is not cleared on <tt>pjsua_destroy()</tt>.
</p>
<p>
This would cause next <tt>pjsua_init()</tt> after <tt>pjsua_destroy()</tt> to not use the RTP starting port setting.
</p>
<p>
Thanks Binu K S &lt;binuks at gmail&gt; for reporting this.
</p>
";}i:503;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/177";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/177";s:5:"title";s:66:"#177: RTP port number is not reset in pjsua media (thanks Binu KS)";s:11:"description";s:191:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/176" title="RTP port number is not reset in pjsua media (thanks Binu KS) (closed)">#176</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/177#changelog";s:7:"summary";s:191:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/176" title="RTP port number is not reset in pjsua media (thanks Binu KS) (closed)">#176</a> for details.
</p>
";}i:504;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/184";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/184";s:5:"title";s:65:"#184: Added pj_file_flush() to file I/O API to flush file buffers";s:11:"description";s:80:"<p>
.. and changed pjsua-lib to flush the file whenever it writes the log.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/184#changelog";s:7:"summary";s:80:"<p>
.. and changed pjsua-lib to flush the file whenever it writes the log.
</p>
";}i:505;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/185";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/185";s:5:"title";s:65:"#185: Added pj_file_flush() to file I/O API to flush file buffers";s:11:"description";s:190:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/184" title="Added pj_file_flush() to file I/O API to flush file buffers (closed)">#184</a> for details.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/185#changelog";s:7:"summary";s:190:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/184" title="Added pj_file_flush() to file I/O API to flush file buffers (closed)">#184</a> for details.
</p>
";}i:506;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/207";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/207";s:5:"title";s:70:"#207: Added XMLNS for attribute for PIDF document (thanks Tory Patnoe)";s:11:"description";s:73:"<p>
Thanks Tory Patnoe &lt;tpatnoe at jabber com&gt; for the patch!
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/207#changelog";s:7:"summary";s:73:"<p>
Thanks Tory Patnoe &lt;tpatnoe at jabber com&gt; for the patch!
</p>
";}i:507;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/235";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/235";s:5:"title";s:94:"#235: Crash in console application when invalid command line is given (thanks Roland Klabunde)";s:11:"description";s:232:"<p>
This is because when invalid command line is given, getopt() will return '?' (ASCII 63) character, which happens to be the option index for --play-file.
</p>
<p>
Thanks Roland Klabunde &lt;roland.klabunde at freenet de&gt;
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/235#changelog";s:7:"summary";s:232:"<p>
This is because when invalid command line is given, getopt() will return '?' (ASCII 63) character, which happens to be the option index for --play-file.
</p>
<p>
Thanks Roland Klabunde &lt;roland.klabunde at freenet de&gt;
</p>
";}i:508;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/272";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/272";s:5:"title";s:90:"#272: The From parameter on_pager() callback contains Contact instead (thanks Nicholas Xu)";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/272#changelog";}i:509;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/273";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/273";s:5:"title";s:90:"#273: The From parameter on_pager() callback contains Contact instead (thanks Nicholas Xu)";s:11:"description";s:194:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/272" title="The From parameter on_pager() callback contains Contact instead (thanks  ... (closed)">#272</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/273#changelog";s:7:"summary";s:194:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/272" title="The From parameter on_pager() callback contains Contact instead (thanks  ... (closed)">#272</a>
</p>
";}i:510;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/274";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/274";s:5:"title";s:90:"#274: The From parameter on_pager() callback contains Contact instead (thanks Nicholas Xu)";s:11:"description";s:194:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/272" title="The From parameter on_pager() callback contains Contact instead (thanks  ... (closed)">#272</a>
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/274#changelog";s:7:"summary";s:194:"<p>
See ticket <a class="closed ticket" href="http://trac.pjsip.org/repos/ticket/272" title="The From parameter on_pager() callback contains Contact instead (thanks  ... (closed)">#272</a>
</p>
";}i:511;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/293";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/293";s:5:"title";s:72:"#293: Uninitialized memory read reported by Purify in SIP authentication";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/293#changelog";}i:512;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/294";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/294";s:5:"title";s:72:"#294: Uninitialized memory read reported by Purify in SIP authentication";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/294#changelog";}i:513;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/295";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/295";s:5:"title";s:66:"#295: Uninitialized memory read reported by Purify in sound device";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/295#changelog";}i:514;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/296";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/296";s:5:"title";s:66:"#296: Uninitialized memory read reported by Purify in sound device";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/296#changelog";}i:515;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/431";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/431";s:5:"title";s:78:"#431: Empty Authorization header is not removed when the actual header is sent";s:11:"description";s:373:"<p>
Changeset <a class="changeset" href="http://trac.pjsip.org/repos/changeset/1561" title="- Added option to send empty Authorization header in outgoing requests
-  ...">r1561</a> added option to send empty Authorization header, to work with IMS. But it is reported that this empty Authorization header is not removed once the actual Authorization header is created.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/431#changelog";s:7:"summary";s:373:"<p>
Changeset <a class="changeset" href="http://trac.pjsip.org/repos/changeset/1561" title="- Added option to send empty Authorization header in outgoing requests
-  ...">r1561</a> added option to send empty Authorization header, to work with IMS. But it is reported that this empty Authorization header is not removed once the actual Authorization header is created.
</p>
";}i:516;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/453";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/453";s:5:"title";s:61:"#453: Log level is not set in PJSUA-LIB (thanks Simon Farmer)";s:11:"description";s:160:"<p>
The log level setting in <tt>pjsua_logging_config</tt> in PJSUA-LIB is not applied to logging at all.
</p>
<p>
Thanks Simon Farmer for reporting this.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/453#changelog";s:7:"summary";s:160:"<p>
The log level setting in <tt>pjsua_logging_config</tt> in PJSUA-LIB is not applied to logging at all.
</p>
<p>
Thanks Simon Farmer for reporting this.
</p>
";}i:517;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/463";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/463";s:5:"title";s:71:"#463: Configuration option to have external sound device implementation";s:11:"description";s:749:"<p>
Currently pjmedia allows selection of audio backend via build settings (the PJMEDIA_SOUND_IMPLEMENTATION macro), and with this setting one can select either of this backend implementation:
</p>
<ul><li>PortAudio (the default)
</li><li>DirectSound (deprecated)
</li><li>Null device (just to let the build process go through).
</li></ul><p>
This implies that new sound backend implementation must create a new configuration macro, which is not ideal since it requires modification to the source.
</p>
<p>
With the "external" option, no sound device backend will be provided in pjmedia library, so this would enable application to provide it's own sound device backend implementation (by just linking the application with the implementation).
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/463#changelog";s:7:"summary";s:749:"<p>
Currently pjmedia allows selection of audio backend via build settings (the PJMEDIA_SOUND_IMPLEMENTATION macro), and with this setting one can select either of this backend implementation:
</p>
<ul><li>PortAudio (the default)
</li><li>DirectSound (deprecated)
</li><li>Null device (just to let the build process go through).
</li></ul><p>
This implies that new sound backend implementation must create a new configuration macro, which is not ideal since it requires modification to the source.
</p>
<p>
With the "external" option, no sound device backend will be provided in pjmedia library, so this would enable application to provide it's own sound device backend implementation (by just linking the application with the implementation).
</p>
";}i:518;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/479";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/479";s:5:"title";s:65:"#479: Allow transport framework to return transport specific info";s:11:"description";s:489:"<p>
Currently, media transport info only return socket info, this is
considered to be insufficient since specific transport info could not be fetched.
</p>
<p>
This enhancement will also answer a feature request about SRTP status retrieval.
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-February/001700.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-February/001700.html</span></a>
(thanks Klaus Darilion)
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/479#changelog";s:7:"summary";s:489:"<p>
Currently, media transport info only return socket info, this is
considered to be insufficient since specific transport info could not be fetched.
</p>
<p>
This enhancement will also answer a feature request about SRTP status retrieval.
<a class="ext-link" href="http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-February/001700.html"><span class="icon">http://lists.pjsip.org/pipermail/pjsip_lists.pjsip.org/2008-February/001700.html</span></a>
(thanks Klaus Darilion)
</p>
";}i:519;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/507";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/507";s:5:"title";s:44:"#507: G.722 codec implementation and support";s:11:"description";s:138:"<p>
Implement an experimental G.722 codec in pjmedia-codec. We'll just concentrate on having it done for now, and optimize it later.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/507#changelog";s:7:"summary";s:138:"<p>
Implement an experimental G.722 codec in pjmedia-codec. We'll just concentrate on having it done for now, and optimize it later.
</p>
";}i:520;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/559";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/559";s:5:"title";s:75:"#559: Update the pool alternative API (pool_alt.h) with the latest pool API";s:11:"description";s:448:"<p>
The pool's alternative API (<tt>pool_alt.h</tt>) allows completely different pool back-ends to be used, and in pjlib's distribution, we have malloc() based pool where each <tt>pj_pool_alloc()</tt> call will call <tt>malloc()</tt>. This is useful for checking the memory integrity of the library using tools such as Valgrind or Purify.
</p>
<p>
This alternative API has not been used for long time and needs updating to make it compilable.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/559#changelog";s:7:"summary";s:448:"<p>
The pool's alternative API (<tt>pool_alt.h</tt>) allows completely different pool back-ends to be used, and in pjlib's distribution, we have malloc() based pool where each <tt>pj_pool_alloc()</tt> call will call <tt>malloc()</tt>. This is useful for checking the memory integrity of the library using tools such as Valgrind or Purify.
</p>
<p>
This alternative API has not been used for long time and needs updating to make it compilable.
</p>
";}i:521;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/561";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/561";s:5:"title";s:92:"#561: select() ioqueue default concurrency setting is not initialized with the default value";s:11:"description";s:235:"<p>
The <tt>ioqueue-&gt;default_concurrency</tt> (boolean) is never initialized for socket ioqueue. This shouldn't be a major problem, since if application wants to explicitly disable concurrency it will set the setting manually.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/561#changelog";s:7:"summary";s:235:"<p>
The <tt>ioqueue-&gt;default_concurrency</tt> (boolean) is never initialized for socket ioqueue. This shouldn't be a major problem, since if application wants to explicitly disable concurrency it will set the setting manually.
</p>
";}i:522;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/562";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/562";s:5:"title";s:142:"#562: In TURN client sample application, when STUN server is specified, contact the STUN server on default STUN port rather than the TURN port";s:11:"description";s:206:"<p>
In the TURN client sample application, when STUN server is specified (with -S option), previously the application will contact the STUN server using the port that is specified for the TURN server.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/562#changelog";s:7:"summary";s:206:"<p>
In the TURN client sample application, when STUN server is specified (with -S option), previously the application will contact the STUN server using the port that is specified for the TURN server.
</p>
";}i:523;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/572";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/572";s:5:"title";s:115:"#572: New PJSIP pjsip_msg_find_hdr_by_names() API to find SIP header by either header name or the short header name";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/572#changelog";}i:524;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/574";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/574";s:5:"title";s:77:"#574: Add new API to know why the outgoing subscription request is terminated";s:11:"description";s:117:"<p>
Add new API to know why the outgoing subscription request is terminated (e.g. unauthorized, rejected, etc.)
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/574#changelog";s:7:"summary";s:117:"<p>
Add new API to know why the outgoing subscription request is terminated (e.g. unauthorized, rejected, etc.)
</p>
";}i:525;a:5:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/468";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/468";s:5:"title";s:55:"#468: Support for non-looping playback in memory player";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/468#changelog";}i:526;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/494";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/494";s:5:"title";s:62:"#494: Configuration option to use high quality tone generation";s:11:"description";s:811:"<p>
The tone generator heavily depends on the quality of sine wave generation, and PJMEDIA uses a sine wave emulation which previously thought to give good balance between quality and speed. With this method, speed definitely is much better than using &lt;math.h&gt;, but quality, well turns out not to be perfect.
</p>
<p>
Norman Franke reported on pjsip list:
</p>
<blockquote>
<p>
<i>Perhaps there should be an option to use a better one, since this one is incompatible with some remote systems. Oddly, it seemed some digits would work, like zero. Nine seemed to be a constant problem, which uses a higher frequency</i>
</p>
</blockquote>
<p>
We should have something like <tt>PJMEDIA_USE_HIGH_QUALITY_TONEGEN</tt> to activate the tonegen generation using &lt;math.h&gt;, and default should be enabled.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/494#changelog";s:7:"summary";s:811:"<p>
The tone generator heavily depends on the quality of sine wave generation, and PJMEDIA uses a sine wave emulation which previously thought to give good balance between quality and speed. With this method, speed definitely is much better than using &lt;math.h&gt;, but quality, well turns out not to be perfect.
</p>
<p>
Norman Franke reported on pjsip list:
</p>
<blockquote>
<p>
<i>Perhaps there should be an option to use a better one, since this one is incompatible with some remote systems. Oddly, it seemed some digits would work, like zero. Nine seemed to be a constant problem, which uses a higher frequency</i>
</p>
</blockquote>
<p>
We should have something like <tt>PJMEDIA_USE_HIGH_QUALITY_TONEGEN</tt> to activate the tonegen generation using &lt;math.h&gt;, and default should be enabled.
</p>
";}i:527;a:7:{s:4:"link";s:38:"http://trac.pjsip.org/repos/ticket/502";s:4:"guid";s:38:"http://trac.pjsip.org/repos/ticket/502";s:5:"title";s:54:"#502: New packet lost concealment (PLC) implementation";s:11:"description";s:94:"<p>
Implement new packet loss concealment (PLC) module based on the new WSOLA algorithm.
</p>
";s:8:"category";s:7:"Tickets";s:8:"comments";s:48:"http://trac.pjsip.org/repos/ticket/502#changelog";s:7:"summary";s:94:"<p>
Implement new packet loss concealment (PLC) module based on the new WSOLA algorithm.
</p>
";}}s:7:"channel";a:6:{s:5:"title";s:19:"PJSIP: Ticket Query";s:4:"link";s:57:"http://trac.pjsip.org/repos/query?status=closed&verbose=1";s:11:"description";s:5:"PJSIP";s:8:"language";s:5:"en-US";s:9:"generator";s:12:"Trac v0.10.5";s:7:"tagline";s:5:"PJSIP";}s:9:"textinput";a:0:{}s:5:"image";a:3:{s:5:"title";s:5:"PJSIP";s:3:"url";s:46:"http://trac.pjsip.org/repos/chrome/site/pj.jpg";s:4:"link";s:57:"http://trac.pjsip.org/repos/query?status=closed&verbose=1";}s:9:"feed_type";s:3:"RSS";s:12:"feed_version";s:3:"2.0";s:8:"encoding";s:10:"ISO-8859-1";s:16:"_source_encoding";s:0:"";s:5:"ERROR";s:0:"";s:7:"WARNING";s:0:"";s:19:"_CONTENT_CONSTRUCTS";a:6:{i:0;s:7:"content";i:1;s:7:"summary";i:2;s:4:"info";i:3;s:5:"title";i:4;s:7:"tagline";i:5;s:9:"copyright";}s:16:"_KNOWN_ENCODINGS";a:3:{i:0;s:5:"UTF-8";i:1;s:8:"US-ASCII";i:2;s:10:"ISO-8859-1";}s:5:"stack";a:0:{}s:9:"inchannel";b:0;s:6:"initem";b:0;s:9:"incontent";b:0;s:11:"intextinput";b:0;s:7:"inimage";b:0;s:17:"current_namespace";b:0;}