<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ICE Session (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<TABLE border=0 width="90%"><TR><TD>
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; <A HREF="/pjnath/docs/html/index.htm">PJNATH Reference</A></p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ICE Session<div class="ingroups"><a class="el" href="group__PJNATH.htm">NAT Traversal Helper Library</a> &raquo; <a class="el" href="group__PJNATH__ICE.htm">ICE: Interactive Connectivity Establishment</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Transport Independent ICE Session.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__comp.htm">pj_ice_sess_comp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__msg__data.htm">pj_ice_msg_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__check.htm">pj_ice_sess_check</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__checklist.htm">pj_ice_sess_checklist</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__rx__check.htm">pj_ice_rx_check</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaf1efc18bd5354bbb7e31f2d538590195"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a> { <br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#ggaf1efc18bd5354bbb7e31f2d538590195ab0d5685346080516dfd851b7d795da4a">PJ_ICE_CAND_TYPE_HOST</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#ggaf1efc18bd5354bbb7e31f2d538590195ab1b228669c93311321c56d7ffcd3720a">PJ_ICE_CAND_TYPE_SRFLX</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#ggaf1efc18bd5354bbb7e31f2d538590195a781d3f8b892a5e8ef2e949e6b3f6ab6c">PJ_ICE_CAND_TYPE_PRFLX</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#ggaf1efc18bd5354bbb7e31f2d538590195a175a194dc076f6c35fb7cd0a094e7207">PJ_ICE_CAND_TYPE_RELAYED</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#ggaf1efc18bd5354bbb7e31f2d538590195a0c5911b7351c658165203a8ac947cdea">PJ_ICE_CAND_TYPE_MAX</a>
<br />
 }</td></tr>
<tr class="separator:gaf1efc18bd5354bbb7e31f2d538590195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95e83706882f6df82253a96978cb9f95"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga95e83706882f6df82253a96978cb9f95">pj_ice_sess_check_state</a> { <br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga95e83706882f6df82253a96978cb9f95ad34f96adb70060d37d049821b0556c0a">PJ_ICE_SESS_CHECK_STATE_FROZEN</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga95e83706882f6df82253a96978cb9f95a35ebf5af4cab1aaac022cd7e8b950779">PJ_ICE_SESS_CHECK_STATE_WAITING</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga95e83706882f6df82253a96978cb9f95a1035a80420eb534f29de5325fca6e65b">PJ_ICE_SESS_CHECK_STATE_IN_PROGRESS</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga95e83706882f6df82253a96978cb9f95af2e8117b3e9bb9524ef8cacd6c4ddcbf">PJ_ICE_SESS_CHECK_STATE_SUCCEEDED</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga95e83706882f6df82253a96978cb9f95a59d46061551f63bf01102724fc78a692">PJ_ICE_SESS_CHECK_STATE_FAILED</a>
<br />
 }</td></tr>
<tr class="separator:ga95e83706882f6df82253a96978cb9f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19dac31520f06372af6b6f51dcf87067"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga19dac31520f06372af6b6f51dcf87067">pj_ice_sess_checklist_state</a> { <br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga19dac31520f06372af6b6f51dcf87067a97d7a7f5a2a85c93fd4036dac777e58a">PJ_ICE_SESS_CHECKLIST_ST_IDLE</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga19dac31520f06372af6b6f51dcf87067a98f4119b8465605e66baad82cb4204c7">PJ_ICE_SESS_CHECKLIST_ST_RUNNING</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga19dac31520f06372af6b6f51dcf87067a9720334d73272d58f466908b78187530">PJ_ICE_SESS_CHECKLIST_ST_COMPLETED</a>
<br />
 }</td></tr>
<tr class="separator:ga19dac31520f06372af6b6f51dcf87067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d005022224e45654bcdef0eeafae217"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a> { <br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga1d005022224e45654bcdef0eeafae217a1513fa3b134a0784bfab297f995c0f3e">PJ_ICE_SESS_ROLE_UNKNOWN</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga1d005022224e45654bcdef0eeafae217adf65b85e5be9f6e1e22aa0e06c64476c">PJ_ICE_SESS_ROLE_CONTROLLED</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga1d005022224e45654bcdef0eeafae217a5b0145b939df96bee579f4d368203b8c">PJ_ICE_SESS_ROLE_CONTROLLING</a>
<br />
 }</td></tr>
<tr class="separator:ga1d005022224e45654bcdef0eeafae217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0402facec0fb557e1ebe82ce1da85dec"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga0402facec0fb557e1ebe82ce1da85dec">pj_ice_sess_trickle</a> { <br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga0402facec0fb557e1ebe82ce1da85decaa0a2ac5f3a27e27d747e4f66dfb04011">PJ_ICE_SESS_TRICKLE_DISABLED</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga0402facec0fb557e1ebe82ce1da85decacf97bb2e56800044869504a9233ba30f">PJ_ICE_SESS_TRICKLE_HALF</a>, 
<br />
&#160;&#160;<a class="el" href="group__PJNATH__ICE__SESSION.htm#gga0402facec0fb557e1ebe82ce1da85deca1aaebf999f208ccc1cdf859fa256afe2">PJ_ICE_SESS_TRICKLE_FULL</a>
<br />
 }</td></tr>
<tr class="separator:ga0402facec0fb557e1ebe82ce1da85dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga18fd89ecc361d0d0282b856ef62814c1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga18fd89ecc361d0d0282b856ef62814c1">pj_ice_get_cand_type_name</a> (<a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a> type)</td></tr>
<tr class="separator:ga18fd89ecc361d0d0282b856ef62814c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06cb4ce81895ab34f06943ae30860f1a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga06cb4ce81895ab34f06943ae30860f1a">pj_ice_sess_role_name</a> (<a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a> role)</td></tr>
<tr class="separator:ga06cb4ce81895ab34f06943ae30860f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf86099f9ea896cafadceaa223b929a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaaf86099f9ea896cafadceaa223b929a6">pj_ice_calc_foundation</a> (<a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *foundation, <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a> type, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/unionpj__sockaddr.htm">pj_sockaddr</a> *base_addr)</td></tr>
<tr class="separator:gaaf86099f9ea896cafadceaa223b929a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a7278988931dd6ab04c10d6d936e972"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga3a7278988931dd6ab04c10d6d936e972">pj_ice_sess_options_default</a> (<a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *opt)</td></tr>
<tr class="separator:ga3a7278988931dd6ab04c10d6d936e972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68627f100f7a316645ca534e18a5477d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga68627f100f7a316645ca534e18a5477d">pj_ice_sess_create</a> (<a class="el" href="structpj__stun__config.htm">pj_stun_config</a> *stun_cfg, const char *name, <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a> role, unsigned comp_cnt, const <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a> *cb, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *local_ufrag, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *local_passwd, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gadf42a33e518aa8df09d5a11429e8a41a">pj_grp_lock_t</a> *grp_lock, <a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> **p_ice)</td></tr>
<tr class="separator:ga68627f100f7a316645ca534e18a5477d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf49d920b20f3d0f8833531cb98a7fb84"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf49d920b20f3d0f8833531cb98a7fb84">pj_ice_sess_get_options</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, <a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *opt)</td></tr>
<tr class="separator:gaf49d920b20f3d0f8833531cb98a7fb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c61188a773832277c8559fe0713946f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga0c61188a773832277c8559fe0713946f">pj_ice_sess_set_options</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, const <a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *opt)</td></tr>
<tr class="separator:ga0c61188a773832277c8559fe0713946f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03fd34476c67664933d855171381cc75"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga03fd34476c67664933d855171381cc75">pj_ice_sess_detach_grp_lock</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__GRP__LOCK.htm#ga89dc8ec4916876fab51db5178209a7dd">pj_grp_lock_handler</a> *handler)</td></tr>
<tr class="separator:ga03fd34476c67664933d855171381cc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac96792c078b5d9eed6f20d0747a291f0"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gac96792c078b5d9eed6f20d0747a291f0">pj_ice_sess_destroy</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice)</td></tr>
<tr class="separator:gac96792c078b5d9eed6f20d0747a291f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e8c53cb47d14494080a93715b185480"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga8e8c53cb47d14494080a93715b185480">pj_ice_sess_change_role</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a> new_role)</td></tr>
<tr class="separator:ga8e8c53cb47d14494080a93715b185480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga819f43e9f3690174c3f0f011b2ad8e9e"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga819f43e9f3690174c3f0f011b2ad8e9e">pj_ice_sess_set_prefs</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a> prefs[4])</td></tr>
<tr class="separator:ga819f43e9f3690174c3f0f011b2ad8e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca953988f0f3a0580c189218996b7ece"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaca953988f0f3a0580c189218996b7ece">pj_ice_sess_add_cand</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, unsigned comp_id, unsigned transport_id, <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a> type, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a> local_pref, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *foundation, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *addr, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *base_addr, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *rel_addr, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> addr_len, unsigned *p_cand_id)</td></tr>
<tr class="separator:gaca953988f0f3a0580c189218996b7ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd6f2284b80728cf3077a6dc007b5911"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gacd6f2284b80728cf3077a6dc007b5911">pj_ice_sess_find_default_cand</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, unsigned comp_id, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *p_cand_id)</td></tr>
<tr class="separator:gacd6f2284b80728cf3077a6dc007b5911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8efccb541d729c38fb975d1f56fb3f8"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf8efccb541d729c38fb975d1f56fb3f8">pj_ice_sess_create_check_list</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *rem_ufrag, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *rem_passwd, unsigned rem_cand_cnt, const <a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a> rem_cand[])</td></tr>
<tr class="separator:gaf8efccb541d729c38fb975d1f56fb3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7303bbad368ca33bace7073819492df7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga7303bbad368ca33bace7073819492df7">pj_ice_sess_update_check_list</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *rem_ufrag, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *rem_passwd, unsigned rem_cand_cnt, const <a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a> rem_cand[], <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> trickle_done)</td></tr>
<tr class="separator:ga7303bbad368ca33bace7073819492df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f65ac601ea1b86ef2b17fa4c7ef902a"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga9f65ac601ea1b86ef2b17fa4c7ef902a">pj_ice_sess_start_check</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice)</td></tr>
<tr class="separator:ga9f65ac601ea1b86ef2b17fa4c7ef902a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafadfb77d6a0cff9434f8d6a9943a803e"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gafadfb77d6a0cff9434f8d6a9943a803e">pj_ice_sess_send_data</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, unsigned comp_id, const void *data, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> data_len)</td></tr>
<tr class="separator:gafadfb77d6a0cff9434f8d6a9943a803e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27c9da6a420cd0d1c8a3e2fd7136165f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga27c9da6a420cd0d1c8a3e2fd7136165f">pj_ice_sess_on_rx_pkt</a> (<a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *ice, unsigned comp_id, unsigned transport_id, void *pkt, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a> pkt_size, const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *src_addr, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> src_addr_len)</td></tr>
<tr class="separator:ga27c9da6a420cd0d1c8a3e2fd7136165f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module describes <a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a>, a transport independent ICE session, part of PJNATH - the Open Source NAT helper library.</p>
<h1><a class="anchor" id="pj_ice_sess_sec"></a>
ICE Session</h1>
<p>An ICE session, represented by <a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> structure, is the lowest abstraction of ICE in PJNATH, and it is used to perform and manage connectivity checks of transport address candidates <b>within a single media stream</b> (note: this differs from what is described in ICE draft, where an ICE session manages the whole media sessions rather than just a single stream).</p>
<p>The ICE session described here is independent from any transports, meaning that the actual network I/O for this session would have to be performed by the application, or higher layer abstraction. Using this framework, application would give any incoming packets to the ICE session, and it would provide the ICE session with a callback to send outgoing message.</p>
<p>For higher abstraction of ICE where transport is included, please see <a class="el" href="group__PJNATH__ICE__STREAM__TRANSPORT.htm">ICE stream transport</a>.</p>
<h2><a class="anchor" id="pj_ice_sess_using_sec"></a>
Using The ICE Session</h2>
<p>The steps below describe how to use ICE session. Alternatively application can use the higher level ICE API, <a class="el" href="group__PJNATH__ICE__STREAM__TRANSPORT.htm">ICE stream transport</a>, which has provided the integration of ICE with socket transport.</p>
<p>The steps to use ICE session is similar for both offerer and answerer:</p><ul>
<li>create ICE session with <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga68627f100f7a316645ca534e18a5477d">pj_ice_sess_create()</a>. Among other things, application needs to specify:<ul>
<li>STUN configuration (<a class="el" href="structpj__stun__config.htm">pj_stun_config</a>), containing STUN settings such as timeout values and the instances of timer heap and ioqueue.</li>
<li>Session name, useful for identifying this session in the log.</li>
<li>Initial ICE role (<a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a>). The role can be changed at later time with <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga8e8c53cb47d14494080a93715b185480">pj_ice_sess_change_role()</a>, and ICE session can also change its role automatically when it detects role conflict.</li>
<li>Number of components in the media session.</li>
<li>Callback to receive ICE events (<a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a>)</li>
<li>Optional local ICE username and password. If these arguments are NULL, they will be generated randomly.</li>
</ul>
</li>
<li>Add local candidates for each component, with <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaca953988f0f3a0580c189218996b7ece">pj_ice_sess_add_cand()</a>. A candidate is represented with <a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a> structure. Each component must be provided with at least one candidate, and all components must have the same number of candidates. Failing to comply with this will cause failure during pairing process.</li>
<li>Create offer to describe local ICE candidates. ICE session does not provide a function to create such offer, but application should be able to create one since it knows about all components and candidates. If application uses <a class="el" href="group__PJNATH__ICE__STREAM__TRANSPORT.htm">ICE stream transport</a>, it can enumerate local candidates by calling <a class="el" href="group__PJNATH__ICE__STREAM__TRANSPORT.htm#ga597a3c3493038d8b37ff0a63e8ad93e5">pj_ice_strans_enum_cands()</a>. Application may use <a class="el" href="group__PJNATH__ICE__SESSION.htm#gacd6f2284b80728cf3077a6dc007b5911">pj_ice_sess_find_default_cand()</a> to let ICE session chooses the default transport address to be used in SDP c= and m= lines.</li>
<li>Send the offer to remote endpoint using signaling such as SIP.</li>
<li>Once application has received the answer, it should parse this answer, build array of remote candidates, and create check lists by calling <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf8efccb541d729c38fb975d1f56fb3f8">pj_ice_sess_create_check_list()</a>. This process is known as pairing the candidates, and will result in the creation of check lists.</li>
<li>Once checklist has been created, application then can call <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga9f65ac601ea1b86ef2b17fa4c7ef902a">pj_ice_sess_start_check()</a> to instruct ICE session to start performing connectivity checks. The ICE session performs the connectivity checks by processing each check in the checklists.</li>
<li>Application will be notified about the result of ICE connectivity checks via the callback that was given in <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga68627f100f7a316645ca534e18a5477d">pj_ice_sess_create()</a> above.</li>
</ul>
<p>To send data, application calls <a class="el" href="group__PJNATH__ICE__SESSION.htm#gafadfb77d6a0cff9434f8d6a9943a803e">pj_ice_sess_send_data()</a>. If ICE negotiation has not completed, ICE session would simply drop the data, and return error to caller. If ICE negotiation has completed successfully, ICE session will in turn call the <em>on_tx_pkt</em> callback of <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a> instance that was previously registered in <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga68627f100f7a316645ca534e18a5477d">pj_ice_sess_create()</a> above.</p>
<p>When application receives any packets on the underlying sockets, it must call <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga27c9da6a420cd0d1c8a3e2fd7136165f">pj_ice_sess_on_rx_pkt()</a>. The ICE session will inspect the packet to decide whether to process it locally (if the packet is a STUN message and is part of ICE session) or otherwise pass it back to application via <em>on_rx_data</em> callback. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaf1efc18bd5354bbb7e31f2d538590195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1efc18bd5354bbb7e31f2d538590195">&#9670;&nbsp;</a></span>pj_ice_cand_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration describes the type of an ICE candidate. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaf1efc18bd5354bbb7e31f2d538590195ab0d5685346080516dfd851b7d795da4a"></a>PJ_ICE_CAND_TYPE_HOST&#160;</td><td class="fielddoc"><p>ICE host candidate. A host candidate represents the actual local transport address in the host. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf1efc18bd5354bbb7e31f2d538590195ab1b228669c93311321c56d7ffcd3720a"></a>PJ_ICE_CAND_TYPE_SRFLX&#160;</td><td class="fielddoc"><p>ICE server reflexive candidate, which represents the public mapped address of the local address, and is obtained by sending STUN Binding request from the host candidate to a STUN server. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf1efc18bd5354bbb7e31f2d538590195a781d3f8b892a5e8ef2e949e6b3f6ab6c"></a>PJ_ICE_CAND_TYPE_PRFLX&#160;</td><td class="fielddoc"><p>ICE peer reflexive candidate, which is the address as seen by peer agent during connectivity check. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf1efc18bd5354bbb7e31f2d538590195a175a194dc076f6c35fb7cd0a094e7207"></a>PJ_ICE_CAND_TYPE_RELAYED&#160;</td><td class="fielddoc"><p>ICE relayed candidate, which represents the address allocated in TURN server. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf1efc18bd5354bbb7e31f2d538590195a0c5911b7351c658165203a8ac947cdea"></a>PJ_ICE_CAND_TYPE_MAX&#160;</td><td class="fielddoc"><p>Number of defined ICE candidate types. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga95e83706882f6df82253a96978cb9f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95e83706882f6df82253a96978cb9f95">&#9670;&nbsp;</a></span>pj_ice_sess_check_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga95e83706882f6df82253a96978cb9f95">pj_ice_sess_check_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration describes the state of ICE check. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga95e83706882f6df82253a96978cb9f95ad34f96adb70060d37d049821b0556c0a"></a>PJ_ICE_SESS_CHECK_STATE_FROZEN&#160;</td><td class="fielddoc"><p>A check for this pair hasn't been performed, and it can't yet be performed until some other check succeeds, allowing this pair to unfreeze and move into the Waiting state. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga95e83706882f6df82253a96978cb9f95a35ebf5af4cab1aaac022cd7e8b950779"></a>PJ_ICE_SESS_CHECK_STATE_WAITING&#160;</td><td class="fielddoc"><p>A check has not been performed for this pair, and can be performed as soon as it is the highest priority Waiting pair on the check list. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga95e83706882f6df82253a96978cb9f95a1035a80420eb534f29de5325fca6e65b"></a>PJ_ICE_SESS_CHECK_STATE_IN_PROGRESS&#160;</td><td class="fielddoc"><p>A check has not been performed for this pair, and can be performed as soon as it is the highest priority Waiting pair on the check list. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga95e83706882f6df82253a96978cb9f95af2e8117b3e9bb9524ef8cacd6c4ddcbf"></a>PJ_ICE_SESS_CHECK_STATE_SUCCEEDED&#160;</td><td class="fielddoc"><p>A check has not been performed for this pair, and can be performed as soon as it is the highest priority Waiting pair on the check list. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga95e83706882f6df82253a96978cb9f95a59d46061551f63bf01102724fc78a692"></a>PJ_ICE_SESS_CHECK_STATE_FAILED&#160;</td><td class="fielddoc"><p>A check for this pair was already done and failed, either never producing any response or producing an unrecoverable failure response. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga19dac31520f06372af6b6f51dcf87067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19dac31520f06372af6b6f51dcf87067">&#9670;&nbsp;</a></span>pj_ice_sess_checklist_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga19dac31520f06372af6b6f51dcf87067">pj_ice_sess_checklist_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration describes ICE checklist state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga19dac31520f06372af6b6f51dcf87067a97d7a7f5a2a85c93fd4036dac777e58a"></a>PJ_ICE_SESS_CHECKLIST_ST_IDLE&#160;</td><td class="fielddoc"><p>The checklist is not yet running. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga19dac31520f06372af6b6f51dcf87067a98f4119b8465605e66baad82cb4204c7"></a>PJ_ICE_SESS_CHECKLIST_ST_RUNNING&#160;</td><td class="fielddoc"><p>In this state, ICE checks are still in progress for this media stream. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga19dac31520f06372af6b6f51dcf87067a9720334d73272d58f466908b78187530"></a>PJ_ICE_SESS_CHECKLIST_ST_COMPLETED&#160;</td><td class="fielddoc"><p>In this state, ICE checks have completed for this media stream, either successfully or with failure. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga1d005022224e45654bcdef0eeafae217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d005022224e45654bcdef0eeafae217">&#9670;&nbsp;</a></span>pj_ice_sess_role</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration describes the role of the ICE agent. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1d005022224e45654bcdef0eeafae217a1513fa3b134a0784bfab297f995c0f3e"></a>PJ_ICE_SESS_ROLE_UNKNOWN&#160;</td><td class="fielddoc"><p>The role is unknown. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1d005022224e45654bcdef0eeafae217adf65b85e5be9f6e1e22aa0e06c64476c"></a>PJ_ICE_SESS_ROLE_CONTROLLED&#160;</td><td class="fielddoc"><p>The ICE agent is in controlled role. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1d005022224e45654bcdef0eeafae217a5b0145b939df96bee579f4d368203b8c"></a>PJ_ICE_SESS_ROLE_CONTROLLING&#160;</td><td class="fielddoc"><p>The ICE agent is in controlling role. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga0402facec0fb557e1ebe82ce1da85dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0402facec0fb557e1ebe82ce1da85dec">&#9670;&nbsp;</a></span>pj_ice_sess_trickle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga0402facec0fb557e1ebe82ce1da85dec">pj_ice_sess_trickle</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration describes the modes of trickle ICE. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0402facec0fb557e1ebe82ce1da85decaa0a2ac5f3a27e27d747e4f66dfb04011"></a>PJ_ICE_SESS_TRICKLE_DISABLED&#160;</td><td class="fielddoc"><p>Trickle ICE is disabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0402facec0fb557e1ebe82ce1da85decacf97bb2e56800044869504a9233ba30f"></a>PJ_ICE_SESS_TRICKLE_HALF&#160;</td><td class="fielddoc"><p>Half trickle ICE. This mode has better interoperability when remote capability of ICE trickle is unknown at ICE initialization.</p>
<p>As ICE initiator, it will convey all local ICE candidates to remote (just like regular ICE) and be ready to receive either response, trickle or regular ICE. As ICE answerer, it will do trickle ICE if it receives an offer with trickle ICE indication, otherwise it will do regular ICE. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0402facec0fb557e1ebe82ce1da85deca1aaebf999f208ccc1cdf859fa256afe2"></a>PJ_ICE_SESS_TRICKLE_FULL&#160;</td><td class="fielddoc"><p>Full trickle ICE. Only use this mode if it is known that that remote supports trickle ICE. The discovery whether remote supports trickle ICE should be done prior to ICE initialization and done by application (ICE does not provide the discovery mechanism). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaaf86099f9ea896cafadceaa223b929a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf86099f9ea896cafadceaa223b929a6">&#9670;&nbsp;</a></span>pj_ice_calc_foundation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pj_ice_calc_foundation </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>foundation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/unionpj__sockaddr.htm">pj_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>base_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a utility function to calculate the foundation identification for a candidate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate the foundation string. </td></tr>
    <tr><td class="paramname">foundation</td><td>Pointer to receive the foundation string. </td></tr>
    <tr><td class="paramname">type</td><td>Candidate type. </td></tr>
    <tr><td class="paramname">base_addr</td><td>Base address of the candidate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga18fd89ecc361d0d0282b856ef62814c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18fd89ecc361d0d0282b856ef62814c1">&#9670;&nbsp;</a></span>pj_ice_get_cand_type_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* pj_ice_get_cand_type_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a utility function to retrieve the string name for the particular candidate type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Candidate type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the candidate type. </dd></dl>

</div>
</div>
<a id="gaca953988f0f3a0580c189218996b7ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca953988f0f3a0580c189218996b7ece">&#9670;&nbsp;</a></span>pj_ice_sess_add_cand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_add_cand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>comp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>transport_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf1efc18bd5354bbb7e31f2d538590195">pj_ice_cand_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga47506d8dde1056c5c96d62f0df6ddf28">pj_uint16_t</a>&#160;</td>
          <td class="paramname"><em>local_pref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>foundation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>base_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>rel_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&#160;</td>
          <td class="paramname"><em>addr_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>p_cand_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a candidate to this ICE session. Application must add candidates for each components ID before it can start pairing the candidates and performing connectivity checks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>ICE session instance. </td></tr>
    <tr><td class="paramname">comp_id</td><td>Component ID of this candidate. </td></tr>
    <tr><td class="paramname">transport_id</td><td>Transport ID to be used to send packets for this candidate. </td></tr>
    <tr><td class="paramname">type</td><td>Candidate type. </td></tr>
    <tr><td class="paramname">local_pref</td><td>Local preference for this candidate, which normally should be set to 65535. </td></tr>
    <tr><td class="paramname">foundation</td><td>Foundation identification. </td></tr>
    <tr><td class="paramname">addr</td><td>The candidate address. </td></tr>
    <tr><td class="paramname">base_addr</td><td>The candidate's base address. </td></tr>
    <tr><td class="paramname">rel_addr</td><td>Optional related address. </td></tr>
    <tr><td class="paramname">addr_len</td><td>Length of addresses. </td></tr>
    <tr><td class="paramname">p_cand_id</td><td>Optional pointer to receive the candidate ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if candidate is successfully added. </dd></dl>

</div>
</div>
<a id="ga8e8c53cb47d14494080a93715b185480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e8c53cb47d14494080a93715b185480">&#9670;&nbsp;</a></span>pj_ice_sess_change_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_change_role </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a>&#160;</td>
          <td class="paramname"><em>new_role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change session role. This happens for example when ICE session was created with controlled role when receiving an offer, but it turns out that the offer contains "a=ice-lite" attribute when the SDP gets inspected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">new_role</td><td>The new role to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error. </dd></dl>

</div>
</div>
<a id="ga68627f100f7a316645ca534e18a5477d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68627f100f7a316645ca534e18a5477d">&#9670;&nbsp;</a></span>pj_ice_sess_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__stun__config.htm">pj_stun_config</a> *&#160;</td>
          <td class="paramname"><em>stun_cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a>&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>comp_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>local_ufrag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>local_passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gadf42a33e518aa8df09d5a11429e8a41a">pj_grp_lock_t</a> *&#160;</td>
          <td class="paramname"><em>grp_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> **&#160;</td>
          <td class="paramname"><em>p_ice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create ICE session with the specified role and number of components. Application would typically need to create an ICE session before sending an offer or upon receiving one. After the session is created, application can register candidates to the ICE session by calling <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaca953988f0f3a0580c189218996b7ece">pj_ice_sess_add_cand()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stun_cfg</td><td>The STUN configuration settings, containing among other things the timer heap instance to be used by the ICE session. </td></tr>
    <tr><td class="paramname">name</td><td>Optional name to identify this ICE instance in the log file. </td></tr>
    <tr><td class="paramname">role</td><td>ICE role. </td></tr>
    <tr><td class="paramname">comp_cnt</td><td>Number of components. </td></tr>
    <tr><td class="paramname">cb</td><td>ICE callback. </td></tr>
    <tr><td class="paramname">local_ufrag</td><td>Optional string to be used as local username to authenticate incoming STUN binding request. If the value is NULL, a random string will be generated. </td></tr>
    <tr><td class="paramname">local_passwd</td><td>Optional string to be used as local password. </td></tr>
    <tr><td class="paramname">grp_lock</td><td>Optional group lock to be used by this session. If NULL, the session will create one itself. </td></tr>
    <tr><td class="paramname">p_ice</td><td>Pointer to receive the ICE session instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if ICE session is created successfully. </dd></dl>

</div>
</div>
<a id="gaf8efccb541d729c38fb975d1f56fb3f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8efccb541d729c38fb975d1f56fb3f8">&#9670;&nbsp;</a></span>pj_ice_sess_create_check_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_create_check_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>rem_ufrag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>rem_passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>rem_cand_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a>&#160;</td>
          <td class="paramname"><em>rem_cand</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pair the local and remote candidates to create check list. Application typically would call this function after receiving SDP containing ICE candidates from the remote host (either upon receiving the initial offer, for UAS, or upon receiving the answer, for UAC).</p>
<p>Note that ICE connectivity check will not start until application calls <a class="el" href="group__PJNATH__ICE__SESSION.htm#ga9f65ac601ea1b86ef2b17fa4c7ef902a">pj_ice_sess_start_check()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>ICE session instance. </td></tr>
    <tr><td class="paramname">rem_ufrag</td><td>Remote ufrag, as seen in the SDP received from the remote agent. </td></tr>
    <tr><td class="paramname">rem_passwd</td><td>Remote password, as seen in the SDP received from the remote agent. </td></tr>
    <tr><td class="paramname">rem_cand_cnt</td><td>Number of remote candidates. </td></tr>
    <tr><td class="paramname">rem_cand</td><td>Remote candidate array. Remote candidates are gathered from the SDP received from the remote agent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gac96792c078b5d9eed6f20d0747a291f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac96792c078b5d9eed6f20d0747a291f0">&#9670;&nbsp;</a></span>pj_ice_sess_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy ICE session. This will cancel any connectivity checks currently running, if any, and any other events scheduled by this session, as well as all memory resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>ICE session instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga03fd34476c67664933d855171381cc75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03fd34476c67664933d855171381cc75">&#9670;&nbsp;</a></span>pj_ice_sess_detach_grp_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_detach_grp_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__GRP__LOCK.htm#ga89dc8ec4916876fab51db5178209a7dd">pj_grp_lock_handler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detach ICE session from group lock. This will delete ICE session group lock handler.</p>
<p>This function is useful when application creates an ICE session with group lock and later it needs to recreate ICE session (e.g: for ICE restart) so the previous ICE session resources can be released manually (by calling the group lock handler) without waiting for the group lock destroy to avoid memory bloat.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>ICE session instance. </td></tr>
    <tr><td class="paramname">handler</td><td>Pointer to receive the group lock handler of this ICE session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gacd6f2284b80728cf3077a6dc007b5911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd6f2284b80728cf3077a6dc007b5911">&#9670;&nbsp;</a></span>pj_ice_sess_find_default_cand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_find_default_cand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>comp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> *&#160;</td>
          <td class="paramname"><em>p_cand_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find default candidate for the specified component ID, using this rule:</p><ul>
<li>if the component has a successful candidate pair, then the local candidate of this pair will be returned.</li>
<li>otherwise a relay, reflexive, or host candidate will be selected on that specified order.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session instance. </td></tr>
    <tr><td class="paramname">comp_id</td><td>The component ID. </td></tr>
    <tr><td class="paramname">p_cand_id</td><td>Pointer to receive the candidate ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if a candidate has been selected. </dd></dl>

</div>
</div>
<a id="gaf49d920b20f3d0f8833531cb98a7fb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf49d920b20f3d0f8833531cb98a7fb84">&#9670;&nbsp;</a></span>pj_ice_sess_get_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_get_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of various options of the ICE session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">opt</td><td>The options to be initialized with the values from the ICE session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error. </dd></dl>

</div>
</div>
<a id="ga27c9da6a420cd0d1c8a3e2fd7136165f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27c9da6a420cd0d1c8a3e2fd7136165f">&#9670;&nbsp;</a></span>pj_ice_sess_on_rx_pkt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_on_rx_pkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>comp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>transport_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&#160;</td>
          <td class="paramname"><em>pkt_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab18aea853290263f8563e171cde31514">pj_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&#160;</td>
          <td class="paramname"><em>src_addr_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Report the arrival of packet to the ICE session. Since ICE session itself doesn't have any transports, it relies on application or higher layer component to give incoming packets to the ICE session. If the packet is not a STUN packet, this packet will be given back to application via <em>on_rx_data()</em> callback in <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">comp_id</td><td>Component ID. </td></tr>
    <tr><td class="paramname">transport_id</td><td>Number to identify where this packet was received from. This parameter will be returned back to application in <em>on_tx_pkt()</em> callback. </td></tr>
    <tr><td class="paramname">pkt</td><td>Incoming packet. </td></tr>
    <tr><td class="paramname">pkt_size</td><td>Size of incoming packet. </td></tr>
    <tr><td class="paramname">src_addr</td><td>Source address of the packet. </td></tr>
    <tr><td class="paramname">src_addr_len</td><td>Length of the address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga3a7278988931dd6ab04c10d6d936e972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a7278988931dd6ab04c10d6d936e972">&#9670;&nbsp;</a></span>pj_ice_sess_options_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pj_ice_sess_options_default </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize ICE session options with library default values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>ICE session options. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga06cb4ce81895ab34f06943ae30860f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06cb4ce81895ab34f06943ae30860f1a">&#9670;&nbsp;</a></span>pj_ice_sess_role_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* pj_ice_sess_role_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJNATH__ICE__SESSION.htm#ga1d005022224e45654bcdef0eeafae217">pj_ice_sess_role</a>&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a utility function to retrieve the string name for the particular role type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role</td><td>Role type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The string representation of the role. </dd></dl>

</div>
</div>
<a id="gafadfb77d6a0cff9434f8d6a9943a803e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafadfb77d6a0cff9434f8d6a9943a803e">&#9670;&nbsp;</a></span>pj_ice_sess_send_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_send_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>comp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga9fdb3ceb491cd888cd30ca30d78026e8">pj_size_t</a>&#160;</td>
          <td class="paramname"><em>data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send data using this ICE session. If ICE checks have not produced a valid check for the specified component ID, this function will return with failure. Otherwise ICE session will send the packet to remote destination using the nominated local candidate for the specified component.</p>
<p>This function will in turn call <em>on_tx_pkt</em> function in <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a> callback to actually send the packet to the wire.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">comp_id</td><td>Component ID. </td></tr>
    <tr><td class="paramname">data</td><td>The data or packet to be sent. </td></tr>
    <tr><td class="paramname">data_len</td><td>Size of data or packet, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the callback <em>on_tx_pkt()</em> is called, this will contain the return value of the callback. Otherwise, it will indicate failure with the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga0c61188a773832277c8559fe0713946f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c61188a773832277c8559fe0713946f">&#9670;&nbsp;</a></span>pj_ice_sess_set_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_set_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__ice__sess__options.htm">pj_ice_sess_options</a> *&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specify various options for this ICE session. Application MUST only call this function after the ICE session has been created but before any connectivity check is started.</p>
<p>Application should call <a class="el" href="group__PJNATH__ICE__SESSION.htm#gaf49d920b20f3d0f8833531cb98a7fb84">pj_ice_sess_get_options()</a> to initialize the options with their default values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">opt</td><td>Options to be applied to the ICE session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error. </dd></dl>

</div>
</div>
<a id="ga819f43e9f3690174c3f0f011b2ad8e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga819f43e9f3690174c3f0f011b2ad8e9e">&#9670;&nbsp;</a></span>pj_ice_sess_set_prefs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_set_prefs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga03cd006c29b1d24580f5df4db912749e">pj_uint8_t</a>&#160;</td>
          <td class="paramname"><em>prefs</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign a custom preference values for ICE candidate types. By assigning custom preference value, application can control the order of candidates to be checked first. The default preference settings is to use 126 for host candidates, 100 for server reflexive candidates, 110 for peer reflexive candidates, an 0 for relayed candidates.</p>
<p>Note that this function must be called before any candidates are added to the ICE session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session. </td></tr>
    <tr><td class="paramname">prefs</td><td>Array of candidate preference value. The values are put in the array indexed by the candidate type as specified in pj_ice_cand_type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga9f65ac601ea1b86ef2b17fa4c7ef902a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f65ac601ea1b86ef2b17fa4c7ef902a">&#9670;&nbsp;</a></span>pj_ice_sess_start_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_start_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start ICE periodic check. This function will return immediately, and application will be notified about the connectivity check status in <a class="el" href="structpj__ice__sess__cb.htm">pj_ice_sess_cb</a> callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>The ICE session instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga7303bbad368ca33bace7073819492df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7303bbad368ca33bace7073819492df7">&#9670;&nbsp;</a></span>pj_ice_sess_update_check_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pj_ice_sess_update_check_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpj__ice__sess.htm">pj_ice_sess</a> *&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>rem_ufrag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>rem_passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>rem_cand_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpj__ice__sess__cand.htm">pj_ice_sess_cand</a>&#160;</td>
          <td class="paramname"><em>rem_cand</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>trickle_done</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update check list after receiving new remote ICE candidates or after new local ICE candidates are found and conveyed to remote. This function can also be called to indicate that trickling has completed, i.e: local candidates gathering completed and remote has sent end-of-candidate indication.</p>
<p>This function is only applicable when trickle ICE is not disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ice</td><td>ICE session instance. </td></tr>
    <tr><td class="paramname">rem_ufrag</td><td>Remote ufrag, as seen in the SDP received from the remote agent. </td></tr>
    <tr><td class="paramname">rem_passwd</td><td>Remote password, as seen in the SDP received from the remote agent. </td></tr>
    <tr><td class="paramname">rem_cand_cnt</td><td>Number of remote candidates. </td></tr>
    <tr><td class="paramname">rem_cand</td><td>Remote candidate array. Remote candidates are gathered from the SDP received from the remote agent. </td></tr>
    <tr><td class="paramname">trickle_done</td><td>Flag to indicate end of trickling, set to PJ_TRUE after all local candidates have been gathered AND after receiving end-of-candidate indication from remote.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
	</TD></TD></TABLE>
<p>&nbsp;</p>
<hr><center>
PJNATH - Open Source NAT traversal helper library supporting STUN, TURN, and ICE<br>
Copyright (C) 2006-2009 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
