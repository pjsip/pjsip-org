<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJMEDIA Reference: ICE Media Transport (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->

	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>ICE Media Transport<br/>
<small>
[<a class="el" href="group__PJMEDIA__TRANSPORT.htm">Media Transport</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Interactive Connectivity Establishment (ICE) transport.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__ice__cb.htm">pjmedia_ice_cb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjmedia__ice__transport__info.htm">pjmedia_ice_transport_info</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga35428f21de358f7820048df1e5ded93e">pjmedia_transport_ice_options</a> { <a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#gga35428f21de358f7820048df1e5ded93eaa8001adc144e75d5836c4597993fd828">PJMEDIA_ICE_NO_SRC_ADDR_CHECKING</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga530e03d57f088c670cb91372c29ad6a4">pjmedia_ice_create</a> (<a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *endpt, const char *name, unsigned comp_cnt, const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__ice__strans__cfg.htm">pj_ice_strans_cfg</a> *cfg, const <a class="el" href="structpjmedia__ice__cb.htm">pjmedia_ice_cb</a> *cb, <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **p_tp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga671b3c3dc0fe51f6b311c5be31b8f8d6">pjmedia_ice_create2</a> (<a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *endpt, const char *name, unsigned comp_cnt, const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__ice__strans__cfg.htm">pj_ice_strans_cfg</a> *cfg, const <a class="el" href="structpjmedia__ice__cb.htm">pjmedia_ice_cb</a> *cb, unsigned options, <a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **p_tp)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This describes the implementation of media transport using Interactive Connectivity Establishment (ICE) protocol. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga35428f21de358f7820048df1e5ded93e"></a><!-- doxytag: member="transport_ice.h::pjmedia_transport_ice_options" ref="ga35428f21de358f7820048df1e5ded93e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga35428f21de358f7820048df1e5ded93e">pjmedia_transport_ice_options</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Options that can be specified when creating ICE transport. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga35428f21de358f7820048df1e5ded93eaa8001adc144e75d5836c4597993fd828"></a><!-- doxytag: member="PJMEDIA_ICE_NO_SRC_ADDR_CHECKING" ref="gga35428f21de358f7820048df1e5ded93eaa8001adc144e75d5836c4597993fd828" args="" -->PJMEDIA_ICE_NO_SRC_ADDR_CHECKING</em>&nbsp;</td><td>
<p>Normally when remote doesn't use ICE, the ICE transport will continuously check the source address of incoming packets to see if it is different than the configured remote address, and switch the remote address to the source address of the packet if they are different after several packets are received. Specifying this option will disable this feature. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga530e03d57f088c670cb91372c29ad6a4"></a><!-- doxytag: member="transport_ice.h::pjmedia_ice_create" ref="ga530e03d57f088c670cb91372c29ad6a4" args="(pjmedia_endpt *endpt, const char *name, unsigned comp_cnt, const pj_ice_strans_cfg *cfg, const pjmedia_ice_cb *cb, pjmedia_transport **p_tp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_ice_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *&nbsp;</td>
          <td class="paramname"> <em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>comp_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__ice__strans__cfg.htm">pj_ice_strans_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__ice__cb.htm">pjmedia_ice_cb</a> *&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **&nbsp;</td>
          <td class="paramname"> <em>p_tp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create the Interactive Connectivity Establishment (ICE) media transport using the specified configuration. When STUN or TURN (or both) is used, the creation operation will complete asynchronously, when STUN resolution and TURN allocation completes. When the initialization completes, the <em>on_ice_complete()</em> complete will be called with <em>op</em> parameter equal to PJ_ICE_STRANS_OP_INIT.</p>
<p>In addition, this transport will also notify the application about the result of ICE negotiation, also in <em>on_ice_complete()</em> callback. In this case the callback will be called with <em>op</em> parameter equal to PJ_ICE_STRANS_OP_NEGOTIATION.</p>
<p>Other than this, application should use the <a class="el" href="group__PJMEDIA__TRANSPORT.htm">Media Transport</a> API to manipulate this media transport.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>endpt</em>&nbsp;</td><td>The media endpoint. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Optional name to identify this ICE media transport for logging purposes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comp_cnt</em>&nbsp;</td><td>Number of components to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>Pointer to configuration settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>Optional structure containing ICE specific callbacks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_tp</em>&nbsp;</td><td>Pointer to receive the media transport instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga671b3c3dc0fe51f6b311c5be31b8f8d6"></a><!-- doxytag: member="transport_ice.h::pjmedia_ice_create2" ref="ga671b3c3dc0fe51f6b311c5be31b8f8d6" args="(pjmedia_endpt *endpt, const char *name, unsigned comp_cnt, const pj_ice_strans_cfg *cfg, const pjmedia_ice_cb *cb, unsigned options, pjmedia_transport **p_tp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_ice_create2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *&nbsp;</td>
          <td class="paramname"> <em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>comp_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="pjnath.tag:../../../pjnath/docs/html/" href="../../../pjnath/docs/html/structpj__ice__strans__cfg.htm">pj_ice_strans_cfg</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__ice__cb.htm">pjmedia_ice_cb</a> *&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__transport.htm">pjmedia_transport</a> **&nbsp;</td>
          <td class="paramname"> <em>p_tp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The same as <a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga530e03d57f088c670cb91372c29ad6a4">pjmedia_ice_create()</a> with additional <em>options</em> param.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>endpt</em>&nbsp;</td><td>The media endpoint. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Optional name to identify this ICE media transport for logging purposes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comp_cnt</em>&nbsp;</td><td>Number of components to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>Pointer to configuration settings. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>Optional structure containing ICE specific callbacks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>Options, see <a class="el" href="group__PJMEDIA__TRANSPORT__ICE.htm#ga35428f21de358f7820048df1e5ded93e">pjmedia_transport_ice_options</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_tp</em>&nbsp;</td><td>Pointer to receive the media transport instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
