<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Video source duplicator (2.13)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Video source duplicator<div class="ingroups"><a class="el" href="group__PJMEDIA__PORT.htm">Media Ports Framework</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Duplicate video data from a media port into multiple media port destinations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga70a9f028d7b54620ea19264a62282b9f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__VID__TEE.htm#ga70a9f028d7b54620ea19264a62282b9f">pjmedia_vid_tee_flag</a> { <a class="el" href="group__PJMEDIA__VID__TEE.htm#gga70a9f028d7b54620ea19264a62282b9fa9bd40f7bde34832e467e4f3f5aff8d72">PJMEDIA_VID_TEE_DST_DO_IN_PLACE_PROC</a> = 4
 }</td></tr>
<tr class="separator:ga70a9f028d7b54620ea19264a62282b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga25bfd61637a08446b48d721d58178eec"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__VID__TEE.htm#ga25bfd61637a08446b48d721d58178eec">pjmedia_vid_tee_create</a> (<a class="elRef" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, const <a class="el" href="structpjmedia__format.htm">pjmedia_format</a> *fmt, unsigned max_dst_cnt, <a class="el" href="structpjmedia__port.htm">pjmedia_port</a> **p_vid_tee)</td></tr>
<tr class="separator:ga25bfd61637a08446b48d721d58178eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga883bc6dd934ac79f9c4cceecb4833656"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__VID__TEE.htm#ga883bc6dd934ac79f9c4cceecb4833656">pjmedia_vid_tee_add_dst_port</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *vid_tee, unsigned option, <a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port)</td></tr>
<tr class="separator:ga883bc6dd934ac79f9c4cceecb4833656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf11329665d03aa036805f87121822e0f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__VID__TEE.htm#gaf11329665d03aa036805f87121822e0f">pjmedia_vid_tee_add_dst_port2</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *vid_tee, unsigned option, <a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port)</td></tr>
<tr class="separator:gaf11329665d03aa036805f87121822e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae33b9896746e7aaabd6768e4ef36ad48"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMEDIA__VID__TEE.htm#gae33b9896746e7aaabd6768e4ef36ad48">pjmedia_vid_tee_remove_dst_port</a> (<a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *vid_tee, <a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *port)</td></tr>
<tr class="separator:gae33b9896746e7aaabd6768e4ef36ad48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >This section describes media port to duplicate video data in the stream.</p>
<p >A video tee branches video stream flow from one source port to multiple destination ports by simply duplicating the video data supplied by the source port and delivering the copy to all registered destinations.</p>
<p >The video tee is a unidirectional port, i.e: data flows from source port to destination ports only. Also, the video source port MUST actively call <a class="el" href="group__PJMEDIA__PORT.htm#ga2b756e0f480cdd3d73d952fa368b352f">pjmedia_port_put_frame()</a> to the video tee and the video destination ports MUST NEVER call <a class="el" href="group__PJMEDIA__PORT.htm#gabb664bcbd6c07ac3b0b4793a68c9a757">pjmedia_port_get_frame()</a> to the video tee. Please note that there is no specific order of which destination port will receive a frame from the video tee.</p>
<p >The video tee is not thread-safe, so it is application responsibility to synchronize video tee operations, e.g: make sure the source port is paused during adding or removing a destination port. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga70a9f028d7b54620ea19264a62282b9f" name="ga70a9f028d7b54620ea19264a62282b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70a9f028d7b54620ea19264a62282b9f">&#9670;&nbsp;</a></span>pjmedia_vid_tee_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMEDIA__VID__TEE.htm#ga70a9f028d7b54620ea19264a62282b9f">pjmedia_vid_tee_flag</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Enumeration of video tee flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga70a9f028d7b54620ea19264a62282b9fa9bd40f7bde34832e467e4f3f5aff8d72" name="gga70a9f028d7b54620ea19264a62282b9fa9bd40f7bde34832e467e4f3f5aff8d72"></a>PJMEDIA_VID_TEE_DST_DO_IN_PLACE_PROC&#160;</td><td class="fielddoc"><p >Tell the video tee that the destination port will do in-place processing, so the delivered data may be modified by this port. If this flag is used, buffer will be copied before being given to the destination port. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga25bfd61637a08446b48d721d58178eec" name="ga25bfd61637a08446b48d721d58178eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25bfd61637a08446b48d721d58178eec">&#9670;&nbsp;</a></span>pjmedia_vid_tee_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_vid_tee_create </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjmedia__format.htm">pjmedia_format</a> *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>max_dst_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> **&#160;</td>
          <td class="paramname"><em>p_vid_tee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Create a video tee port with the specified source media port. Application should destroy the tee with <a class="el" href="group__PJMEDIA__PORT.htm#ga2d9ea1ac22e90437ef5d6471ef912d4b">pjmedia_port_destroy()</a> as usual. Note that destroying the tee does not destroy its destination ports.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool. </td></tr>
    <tr><td class="paramname">fmt</td><td>The source media port's format. </td></tr>
    <tr><td class="paramname">max_dst_cnt</td><td>The maximum number of destination ports supported. </td></tr>
    <tr><td class="paramname">p_vid_tee</td><td>Pointer to receive the video tee port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga883bc6dd934ac79f9c4cceecb4833656" name="ga883bc6dd934ac79f9c4cceecb4833656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga883bc6dd934ac79f9c4cceecb4833656">&#9670;&nbsp;</a></span>pjmedia_vid_tee_add_dst_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_vid_tee_add_dst_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>vid_tee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add a destination media port to the video tee. For this function, the destination port's media format must match the source format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid_tee</td><td>The video tee. </td></tr>
    <tr><td class="paramname">option</td><td>Video tee option, see pjmedia_vid_tee_flag. </td></tr>
    <tr><td class="paramname">port</td><td>The destination media port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gaf11329665d03aa036805f87121822e0f" name="gaf11329665d03aa036805f87121822e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf11329665d03aa036805f87121822e0f">&#9670;&nbsp;</a></span>pjmedia_vid_tee_add_dst_port2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_vid_tee_add_dst_port2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>vid_tee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add a destination media port to the video tee. This function will also create a converter if the destination port's media format does not match the source format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid_tee</td><td>The video tee. </td></tr>
    <tr><td class="paramname">option</td><td>Video tee option, see pjmedia_vid_tee_flag. </td></tr>
    <tr><td class="paramname">port</td><td>The destination media port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a id="gae33b9896746e7aaabd6768e4ef36ad48" name="gae33b9896746e7aaabd6768e4ef36ad48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae33b9896746e7aaabd6768e4ef36ad48">&#9670;&nbsp;</a></span>pjmedia_vid_tee_remove_dst_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_vid_tee_remove_dst_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>vid_tee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjmedia__port.htm">pjmedia_port</a> *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove a destination media port from the video tee.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid_tee</td><td>The video tee. </td></tr>
    <tr><td class="paramname">port</td><td>The destination media port to be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

<p class="reference">References <a class="elRef" href="../../../pjlib/docs/html/group__pj__config.htm#gac961f7d199eeed7666ab3ec2442c1b00">PJ_END_DECL</a>.</p>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
