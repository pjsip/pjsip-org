<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIP User Agent Module (2.13)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">SIP User Agent Module<div class="ingroups"><a class="el" href="group__PJSIP__UA.htm">Base User Agent Layer/Common Dialog Layer</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Provides dialog management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__ua__init__param.htm">pjsip_ua_init_param</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga444b57c13a6e8ac9131bd2c2ff6356ed"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#ga444b57c13a6e8ac9131bd2c2ff6356ed">pjsip_ua_init_module</a> (<a class="el" href="group__PJSIP__TYPES.htm#ga2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt, const <a class="el" href="structpjsip__ua__init__param.htm">pjsip_ua_init_param</a> *prm)</td></tr>
<tr class="separator:ga444b57c13a6e8ac9131bd2c2ff6356ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa93511d019413f32d600660494ecc7d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJSIP__TYPES.htm#ga85d96ea717d96ccf4308123410deeb8d">pjsip_user_agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#gaa93511d019413f32d600660494ecc7d1">pjsip_ua_instance</a> (void)</td></tr>
<tr class="separator:gaa93511d019413f32d600660494ecc7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5285bfef75964687c90171ec873692b"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gafbfd2fd08c6041ea3cb217310c0b5b48">pj_uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#gab5285bfef75964687c90171ec873692b">pjsip_ua_get_dlg_set_count</a> (void)</td></tr>
<tr class="separator:gab5285bfef75964687c90171ec873692b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2435663da9cbffc5d3abe94cfe0bf95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#gac2435663da9cbffc5d3abe94cfe0bf95">pjsip_ua_find_dialog</a> (const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *call_id, const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *local_tag, const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *remote_tag, <a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> lock_dialog)</td></tr>
<tr class="separator:gac2435663da9cbffc5d3abe94cfe0bf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0334d72b8c03415fb505ae396e308df7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#ga0334d72b8c03415fb505ae396e308df7">pjsip_ua_destroy</a> (void)</td></tr>
<tr class="separator:ga0334d72b8c03415fb505ae396e308df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f2c3cf8260554eb3cf93f9ae60005b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#ga8f2c3cf8260554eb3cf93f9ae60005b1">pjsip_ua_dump</a> (<a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> detail)</td></tr>
<tr class="separator:ga8f2c3cf8260554eb3cf93f9ae60005b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3592a7d0275617a6743fd4befe2d9454"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__PJSIP__TYPES.htm#ga2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSUA__UA.htm#ga3592a7d0275617a6743fd4befe2d9454">pjsip_ua_get_endpt</a> (<a class="el" href="group__PJSIP__TYPES.htm#ga85d96ea717d96ccf4308123410deeb8d">pjsip_user_agent</a> *ua)</td></tr>
<tr class="separator:ga3592a7d0275617a6743fd4befe2d9454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Application MUST initialize the user agent layer module by calling <a class="el" href="group__PJSUA__UA.htm#ga444b57c13a6e8ac9131bd2c2ff6356ed">pjsip_ua_init_module()</a> before using any of the dialog API, and link the application with with <b>pjsip-core</b> library. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga444b57c13a6e8ac9131bd2c2ff6356ed" name="ga444b57c13a6e8ac9131bd2c2ff6356ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga444b57c13a6e8ac9131bd2c2ff6356ed">&#9670;&nbsp;</a></span>pjsip_ua_init_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_ua_init_module </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJSIP__TYPES.htm#ga2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__ua__init__param.htm">pjsip_ua_init_param</a> *&#160;</td>
          <td class="paramname"><em>prm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize user agent layer and register it to the specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The endpoint where the user agent will be registered. </td></tr>
    <tr><td class="paramname">prm</td><td>UA initialization parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="gaa93511d019413f32d600660494ecc7d1" name="gaa93511d019413f32d600660494ecc7d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa93511d019413f32d600660494ecc7d1">&#9670;&nbsp;</a></span>pjsip_ua_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJSIP__TYPES.htm#ga85d96ea717d96ccf4308123410deeb8d">pjsip_user_agent</a> * pjsip_ua_instance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the instance of the user agent.</p>
<dl class="section return"><dt>Returns</dt><dd>The user agent module instance. </dd></dl>

</div>
</div>
<a id="gab5285bfef75964687c90171ec873692b" name="gab5285bfef75964687c90171ec873692b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5285bfef75964687c90171ec873692b">&#9670;&nbsp;</a></span>pjsip_ua_get_dlg_set_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gafbfd2fd08c6041ea3cb217310c0b5b48">pj_uint32_t</a> pjsip_ua_get_dlg_set_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve the current number of dialog-set currently registered in the hash table. Note that dialog-set is different than dialog when the request forks. In this case, all dialogs created from the original request will belong to the same dialog set. When no forking occurs, the number of dialog sets will be equal to the number of dialogs.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of dialog sets. </dd></dl>

</div>
</div>
<a id="gac2435663da9cbffc5d3abe94cfe0bf95" name="gac2435663da9cbffc5d3abe94cfe0bf95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2435663da9cbffc5d3abe94cfe0bf95">&#9670;&nbsp;</a></span>pjsip_ua_find_dialog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__dialog.htm">pjsip_dialog</a> * pjsip_ua_find_dialog </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>call_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>local_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&#160;</td>
          <td class="paramname"><em>remote_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>lock_dialog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Find a dialog with the specified Call-ID and tags properties. This function may optionally lock the matching dialog instance before returning it back to the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">call_id</td><td>The call ID to be matched. </td></tr>
    <tr><td class="paramname">local_tag</td><td>The local tag to be matched. </td></tr>
    <tr><td class="paramname">remote_tag</td><td>The remote tag to be matched. </td></tr>
    <tr><td class="paramname">lock_dialog</td><td>If non-zero, instruct the function to lock the matching dialog with <a class="el" href="group__PJSIP__DIALOG.htm#ga5d87304615303ffbe20a09e0a3ff59df">pjsip_dlg_inc_lock()</a>. Application is responsible to release the dialog's lock after it has finished manipulating the dialog, by calling <a class="el" href="group__PJSIP__DIALOG.htm#ga3283f8502b1df5d37914668338351a4f">pjsip_dlg_dec_lock()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The matching dialog instance, or NULL if no matching dialog is found. </dd></dl>

</div>
</div>
<a id="ga0334d72b8c03415fb505ae396e308df7" name="ga0334d72b8c03415fb505ae396e308df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0334d72b8c03415fb505ae396e308df7">&#9670;&nbsp;</a></span>pjsip_ua_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_ua_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Destroy the user agent layer.</p>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga8f2c3cf8260554eb3cf93f9ae60005b1" name="ga8f2c3cf8260554eb3cf93f9ae60005b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f2c3cf8260554eb3cf93f9ae60005b1">&#9670;&nbsp;</a></span>pjsip_ua_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_ua_dump </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>detail</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Dump user agent contents (e.g. all dialogs).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">detail</td><td>If non-zero, list of dialogs will be printed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3592a7d0275617a6743fd4befe2d9454" name="ga3592a7d0275617a6743fd4befe2d9454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3592a7d0275617a6743fd4befe2d9454">&#9670;&nbsp;</a></span>pjsip_ua_get_endpt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PJSIP__TYPES.htm#ga2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> * pjsip_ua_get_endpt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJSIP__TYPES.htm#ga85d96ea717d96ccf4308123410deeb8d">pjsip_user_agent</a> *&#160;</td>
          <td class="paramname"><em>ua</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the endpoint instance of a user agent module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ua</td><td>The user agent instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The endpoint instance where the user agent is registered. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
