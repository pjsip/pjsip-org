<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Waveform Similarity Based Overlap-Add (WSOLA) (2.12)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Waveform Similarity Based Overlap-Add (WSOLA)<div class="ingroups"><a class="el" href="group__PJMEDIA__FRAME__OP.htm">Audio Manipulation Algorithms</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Time-scale modification to audio without affecting the pitch.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0500d7b4fa31c2d481d53b176ee2425e"><td class="memItemLeft" align="right" valign="top">typedef typedefPJ_BEGIN_DECL struct <a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a></td></tr>
<tr class="separator:ga0500d7b4fa31c2d481d53b176ee2425e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gafc23fa13bb115f75b30d37791a6d30da"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#gafc23fa13bb115f75b30d37791a6d30da">pjmedia_wsola_option</a> { <br />
&#160;&#160;<a class="el" href="group__PJMED__WSOLA.htm#ggafc23fa13bb115f75b30d37791a6d30daa913f3badf6fdf31e732b2a145b8a0769">PJMEDIA_WSOLA_NO_HANNING</a> = 1, 
<br />
&#160;&#160;<a class="el" href="group__PJMED__WSOLA.htm#ggafc23fa13bb115f75b30d37791a6d30daa003aa9b356a21fff57fbaa1892dbb812">PJMEDIA_WSOLA_NO_PLC</a> = 2, 
<br />
&#160;&#160;<a class="el" href="group__PJMED__WSOLA.htm#ggafc23fa13bb115f75b30d37791a6d30daaa29b6b53a0da6285381673db6dd3ec4f">PJMEDIA_WSOLA_NO_DISCARD</a> = 4, 
<br />
&#160;&#160;<a class="el" href="group__PJMED__WSOLA.htm#ggafc23fa13bb115f75b30d37791a6d30daaafed428aee557de710230e53231d2242">PJMEDIA_WSOLA_NO_FADING</a> = 8
<br />
 }</td></tr>
<tr class="separator:gafc23fa13bb115f75b30d37791a6d30da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga88ff2af0659f702f147701a6b242acfc"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga88ff2af0659f702f147701a6b242acfc">pjmedia_wsola_create</a> (<a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, unsigned clock_rate, unsigned samples_per_frame, unsigned channel_count, unsigned options, <a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> **p_wsola)</td></tr>
<tr class="separator:ga88ff2af0659f702f147701a6b242acfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60b9c278b43323bb1e7427e0ed2cbcbe"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga60b9c278b43323bb1e7427e0ed2cbcbe">pjmedia_wsola_set_max_expand</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola, unsigned msec)</td></tr>
<tr class="separator:ga60b9c278b43323bb1e7427e0ed2cbcbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab683616094ea607549eaabd446100ab"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#gaab683616094ea607549eaabd446100ab">pjmedia_wsola_destroy</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola)</td></tr>
<tr class="separator:gaab683616094ea607549eaabd446100ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0a0aad1b52c6f0b5d4dbf9253b30c93"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#gac0a0aad1b52c6f0b5d4dbf9253b30c93">pjmedia_wsola_reset</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola, unsigned options)</td></tr>
<tr class="separator:gac0a0aad1b52c6f0b5d4dbf9253b30c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e49f0dd4dd7e562623964a36ef527ec"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga4e49f0dd4dd7e562623964a36ef527ec">pjmedia_wsola_save</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a> frm[], <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> prev_lost)</td></tr>
<tr class="separator:ga4e49f0dd4dd7e562623964a36ef527ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ff0a16ce4e258d69654890cad11483e"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga8ff0a16ce4e258d69654890cad11483e">pjmedia_wsola_generate</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a> frm[])</td></tr>
<tr class="separator:ga8ff0a16ce4e258d69654890cad11483e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03253639cec631f0741fb9522e575169"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__WSOLA.htm#ga03253639cec631f0741fb9522e575169">pjmedia_wsola_discard</a> (<a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *wsola, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a> buf1[], unsigned buf1_cnt, <a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a> buf2[], unsigned buf2_cnt, unsigned *erase_cnt)</td></tr>
<tr class="separator:ga03253639cec631f0741fb9522e575169"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This section describes Waveform Similarity Based Overlap-Add (WSOLA) implementation in PJMEDIA. The WSOLA API here can be used both to compress (speed-up) and stretch (expand, slow down) audio playback without altering the pitch, or as a mean for performing packet loss concealment (WSOLA).</p>
<p>The WSOLA implementation is used by <a class="el" href="group__PJMED__DELAYBUF.htm">Adaptive Delay Buffer</a> and <a class="el" href="group__PJMED__PLC.htm">Packet Lost Concealment (PLC)</a>. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga0500d7b4fa31c2d481d53b176ee2425e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0500d7b4fa31c2d481d53b176ee2425e">&#9670;&nbsp;</a></span>pjmedia_wsola</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef typedefPJ_BEGIN_DECL struct <a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> <a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque declaration for WSOLA structure. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gafc23fa13bb115f75b30d37791a6d30da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc23fa13bb115f75b30d37791a6d30da">&#9670;&nbsp;</a></span>pjmedia_wsola_option</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJMED__WSOLA.htm#gafc23fa13bb115f75b30d37791a6d30da">pjmedia_wsola_option</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>WSOLA options, can be combined with bitmask operation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafc23fa13bb115f75b30d37791a6d30daa913f3badf6fdf31e732b2a145b8a0769"></a>PJMEDIA_WSOLA_NO_HANNING&#160;</td><td class="fielddoc"><p>Disable Hanning window to conserve memory. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc23fa13bb115f75b30d37791a6d30daa003aa9b356a21fff57fbaa1892dbb812"></a>PJMEDIA_WSOLA_NO_PLC&#160;</td><td class="fielddoc"><p>Specify that the WSOLA will not be used for PLC. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc23fa13bb115f75b30d37791a6d30daaa29b6b53a0da6285381673db6dd3ec4f"></a>PJMEDIA_WSOLA_NO_DISCARD&#160;</td><td class="fielddoc"><p>Specify that the WSOLA will not be used to discard frames in non-contiguous buffer. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc23fa13bb115f75b30d37791a6d30daaafed428aee557de710230e53231d2242"></a>PJMEDIA_WSOLA_NO_FADING&#160;</td><td class="fielddoc"><p>Disable fade-in and fade-out feature in the transition between actual and synthetic frames in WSOLA. With fade feature enabled, WSOLA will only generate a limited number of synthetic frames (configurable with <a class="el" href="group__PJMED__WSOLA.htm#ga60b9c278b43323bb1e7427e0ed2cbcbe">pjmedia_wsola_set_max_expand()</a>), fading out the volume on every more samples it generates, and when it reaches the limit it will only generate silence. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga88ff2af0659f702f147701a6b242acfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88ff2af0659f702f147701a6b242acfc">&#9670;&nbsp;</a></span>pjmedia_wsola_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_create </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>clock_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>samples_per_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>channel_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> **&#160;</td>
          <td class="paramname"><em>p_wsola</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and initialize WSOLA.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate memory for WSOLA. </td></tr>
    <tr><td class="paramname">clock_rate</td><td>Sampling rate of audio playback. </td></tr>
    <tr><td class="paramname">samples_per_frame</td><td>Number of samples per frame. </td></tr>
    <tr><td class="paramname">channel_count</td><td>Number of channels. </td></tr>
    <tr><td class="paramname">options</td><td>Option flags, bitmask combination of <a class="el" href="group__PJMED__WSOLA.htm#gafc23fa13bb115f75b30d37791a6d30da">pjmedia_wsola_option</a>. </td></tr>
    <tr><td class="paramname">p_wsola</td><td>Pointer to receive WSOLA structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a id="ga60b9c278b43323bb1e7427e0ed2cbcbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60b9c278b43323bb1e7427e0ed2cbcbe">&#9670;&nbsp;</a></span>pjmedia_wsola_set_max_expand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_set_max_expand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>msec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specify maximum number of continuous synthetic frames that can be generated by WSOLA, in milliseconds. This option will only take effect if fading is not disabled via the option when the WSOLA session was created. Default value is PJMEDIA_WSOLA_MAX_EXPAND_MSEC (see also the documentation of PJMEDIA_WSOLA_MAX_EXPAND_MSEC for more information).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>The WSOLA session </td></tr>
    <tr><td class="paramname">msec</td><td>The duration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS normally. </dd></dl>

</div>
</div>
<a id="gaab683616094ea607549eaabd446100ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab683616094ea607549eaabd446100ab">&#9670;&nbsp;</a></span>pjmedia_wsola_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy WSOLA.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>WSOLA session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS normally. </dd></dl>

</div>
</div>
<a id="gac0a0aad1b52c6f0b5d4dbf9253b30c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0a0aad1b52c6f0b5d4dbf9253b30c93">&#9670;&nbsp;</a></span>pjmedia_wsola_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the buffer contents of WSOLA.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>WSOLA session. </td></tr>
    <tr><td class="paramname">options</td><td>Reset options, must be zero for now.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS normally. </dd></dl>

</div>
</div>
<a id="ga4e49f0dd4dd7e562623964a36ef527ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e49f0dd4dd7e562623964a36ef527ec">&#9670;&nbsp;</a></span>pjmedia_wsola_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a>&#160;</td>
          <td class="paramname"><em>frm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&#160;</td>
          <td class="paramname"><em>prev_lost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Give one good frame to WSOLA to be kept as reference. Application must continuously give WSOLA good frames to keep its session up to date with current playback. Depending on the WSOLA implementation, this function may modify the content of the frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>WSOLA session. </td></tr>
    <tr><td class="paramname">frm</td><td>The frame, which length must match the samples per frame setting of the WSOLA session. </td></tr>
    <tr><td class="paramname">prev_lost</td><td>If application previously generated a synthetic frame with <a class="el" href="group__PJMED__WSOLA.htm#ga8ff0a16ce4e258d69654890cad11483e">pjmedia_wsola_generate()</a> before calling this function, specify whether that was because of packet lost. If so, set this parameter to PJ_TRUE to make WSOLA interpolate this frame with its buffer. Otherwise if this value is PJ_FALSE, WSOLA will just append this frame to the end of its buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS normally. </dd></dl>

</div>
</div>
<a id="ga8ff0a16ce4e258d69654890cad11483e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ff0a16ce4e258d69654890cad11483e">&#9670;&nbsp;</a></span>pjmedia_wsola_generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_generate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a>&#160;</td>
          <td class="paramname"><em>frm</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate one synthetic frame from WSOLA.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>WSOLA session. </td></tr>
    <tr><td class="paramname">frm</td><td>Buffer to receive the frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS normally. </dd></dl>

</div>
</div>
<a id="ga03253639cec631f0741fb9522e575169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03253639cec631f0741fb9522e575169">&#9670;&nbsp;</a></span>pjmedia_wsola_discard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_wsola_discard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMED__WSOLA.htm#ga0500d7b4fa31c2d481d53b176ee2425e">pjmedia_wsola</a> *&#160;</td>
          <td class="paramname"><em>wsola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a>&#160;</td>
          <td class="paramname"><em>buf1</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>buf1_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/nn/projects/pjproject/pjlib/docs/pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1bc332ac2d70cd1a23adef144571790f">pj_int16_t</a>&#160;</td>
          <td class="paramname"><em>buf2</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>buf2_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>erase_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compress or compact the specified buffer by removing some audio samples from the buffer, without altering the pitch. For this function to work, total length of the buffer must be more than twice <em>erase_cnt</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wsola</td><td>WSOLA session. </td></tr>
    <tr><td class="paramname">buf1</td><td>Pointer to buffer. </td></tr>
    <tr><td class="paramname">buf1_cnt</td><td>Number of samples in the buffer. </td></tr>
    <tr><td class="paramname">buf2</td><td>Pointer to second buffer, if the buffer is not contiguous. Otherwise this parameter must be NULL. </td></tr>
    <tr><td class="paramname">buf2_cnt</td><td>Number of samples in the second buffer, if the buffer is not contiguous. Otherwise this parameter should be zero. </td></tr>
    <tr><td class="paramname">erase_cnt</td><td>On input, specify the number of samples to be erased. This function may erase more or less than the requested number, and the actual number of samples erased will be given on this argument upon returning from the function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS if some samples have been erased, PJ_ETOOSMALL if buffer is too small to be reduced, PJ_EINVAL if any of the parameters are not valid. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
