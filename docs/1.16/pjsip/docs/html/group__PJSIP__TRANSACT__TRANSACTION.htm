<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PJSIP Reference: Transaction (1.16)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJSIP Reference</p>

<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.htm"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.htm"><span>Modules</span></a></li>
      <li><a href="annotated.htm"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Transaction<br/>
<small>
[<a class="el" href="group__PJSIP__TRANSACT.htm">Transaction Layer</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Transaction instance for all types of SIP transactions.The <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> describes SIP transaction, and is used for both INVITE and non-INVITE, UAC or UAS. Application must register the transaction layer module with <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga98b6d8edf24b82c6cbc6afbdf274cdf1">pjsip_tsx_layer_init_module()</a> before performing any stateful operations.  
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gaf361da71faf4b6d47ca50db1b43e95b7">pjsip_tsx_state_e</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7ad2a5792589a5bd2f35fa50a9f6bb8ba2">PJSIP_TSX_STATE_NULL</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7a4df011c6e64bbe1550ca7b7fe7c67b89">PJSIP_TSX_STATE_CALLING</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7ac050f749ffcf161c6b95fadf40842968">PJSIP_TSX_STATE_TRYING</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7a60ce900a007c074eab992d65dc6e3f07">PJSIP_TSX_STATE_PROCEEDING</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7adea6edaf4e6382e18913d6d98443bea0">PJSIP_TSX_STATE_COMPLETED</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7a648a4a0676b3c10cb2fad9f562d3befd">PJSIP_TSX_STATE_CONFIRMED</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7af394413f4682ed002b8527de702e8ee9">PJSIP_TSX_STATE_TERMINATED</a>, 
<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7ae63bf8a258d7738415d53aacc2ef7391">PJSIP_TSX_STATE_DESTROYED</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ggaf361da71faf4b6d47ca50db1b43e95b7a766dcc13f13a29c0e5c8cd16f5ce114c">PJSIP_TSX_STATE_MAX</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga98b6d8edf24b82c6cbc6afbdf274cdf1">pjsip_tsx_layer_init_module</a> (<a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *endpt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga2bea6da8cd162ade25d9e182829e73d1">pjsip_tsx_layer_instance</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga11f1e4922c831dca2b8c3a342db1846f">pjsip_tsx_layer_destroy</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga72b7dc6e0f9d8225bbb7d4f97ce5be45">pjsip_tsx_layer_get_tsx_count</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga14c7c2baa52e59e5b676cb1881087b9d">pjsip_tsx_layer_find_tsx</a> (const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *key, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a> lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga668082f69563fb0e609b8692783288fb">pjsip_tsx_create_uac</a> (<a class="el" href="structpjsip__module.htm">pjsip_module</a> *tsx_user, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata, <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> **p_tsx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga3d91aa95b2b1c561a26452dad58e7dea">pjsip_tsx_create_uas</a> (<a class="el" href="structpjsip__module.htm">pjsip_module</a> *tsx_user, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata, <a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> **p_tsx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga0a9499ba68a066e998e76e99da80cd72">pjsip_tsx_set_transport</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, const <a class="el" href="structpjsip__tpselector.htm">pjsip_tpselector</a> *sel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gaa5d24d997aabab0d50c2af87055c34bd">pjsip_tsx_recv_msg</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gae8656195e02e1059dcddf94e5218c4f2">pjsip_tsx_send_msg</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gaab6a83e6dbf726110e6ad60d89438efd">pjsip_tsx_retransmit_no_state</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *tdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga3098550af065696fdc9ad4a3d9fe3a1d">pjsip_tsx_create_key</a> (<a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *pool, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *key, <a class="el" href="sip__types_8h.htm#a1a2637e9a3a7d4cd160dd608c02bf5a9">pjsip_role_e</a> role, const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *method, const <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga838bd435451cb82fec1276edf02d3bf3">pjsip_tsx_terminate</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a> code)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga10e7740a51f4df7ffc7a3973ba9247f8">pjsip_tsx_stop_retransmit</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga92e51f879d0a7ced95722aeb679dd6df">pjsip_tsx_set_timeout</a> (<a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *tsx, unsigned millisec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga0986013fc64382f90f7d21ecc1efb614">pjsip_rdata_get_tsx</a> (<a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *rdata)</td></tr>
</table>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaf361da71faf4b6d47ca50db1b43e95b7"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_state_e" ref="gaf361da71faf4b6d47ca50db1b43e95b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gaf361da71faf4b6d47ca50db1b43e95b7">pjsip_tsx_state_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This enumeration represents transaction state. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7ad2a5792589a5bd2f35fa50a9f6bb8ba2"></a><!-- doxytag: member="PJSIP_TSX_STATE_NULL" ref="ggaf361da71faf4b6d47ca50db1b43e95b7ad2a5792589a5bd2f35fa50a9f6bb8ba2" args="" -->PJSIP_TSX_STATE_NULL</em>&nbsp;</td><td>
<p>For UAC, before any message is sent. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7a4df011c6e64bbe1550ca7b7fe7c67b89"></a><!-- doxytag: member="PJSIP_TSX_STATE_CALLING" ref="ggaf361da71faf4b6d47ca50db1b43e95b7a4df011c6e64bbe1550ca7b7fe7c67b89" args="" -->PJSIP_TSX_STATE_CALLING</em>&nbsp;</td><td>
<p>For UAC, just after request is sent. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7ac050f749ffcf161c6b95fadf40842968"></a><!-- doxytag: member="PJSIP_TSX_STATE_TRYING" ref="ggaf361da71faf4b6d47ca50db1b43e95b7ac050f749ffcf161c6b95fadf40842968" args="" -->PJSIP_TSX_STATE_TRYING</em>&nbsp;</td><td>
<p>For UAS, just after request is received. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7a60ce900a007c074eab992d65dc6e3f07"></a><!-- doxytag: member="PJSIP_TSX_STATE_PROCEEDING" ref="ggaf361da71faf4b6d47ca50db1b43e95b7a60ce900a007c074eab992d65dc6e3f07" args="" -->PJSIP_TSX_STATE_PROCEEDING</em>&nbsp;</td><td>
<p>For UAS/UAC, after provisional response. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7adea6edaf4e6382e18913d6d98443bea0"></a><!-- doxytag: member="PJSIP_TSX_STATE_COMPLETED" ref="ggaf361da71faf4b6d47ca50db1b43e95b7adea6edaf4e6382e18913d6d98443bea0" args="" -->PJSIP_TSX_STATE_COMPLETED</em>&nbsp;</td><td>
<p>For UAS/UAC, after final response. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7a648a4a0676b3c10cb2fad9f562d3befd"></a><!-- doxytag: member="PJSIP_TSX_STATE_CONFIRMED" ref="ggaf361da71faf4b6d47ca50db1b43e95b7a648a4a0676b3c10cb2fad9f562d3befd" args="" -->PJSIP_TSX_STATE_CONFIRMED</em>&nbsp;</td><td>
<p>For UAS, after ACK is received. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7af394413f4682ed002b8527de702e8ee9"></a><!-- doxytag: member="PJSIP_TSX_STATE_TERMINATED" ref="ggaf361da71faf4b6d47ca50db1b43e95b7af394413f4682ed002b8527de702e8ee9" args="" -->PJSIP_TSX_STATE_TERMINATED</em>&nbsp;</td><td>
<p>For UAS/UAC, before it's destroyed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7ae63bf8a258d7738415d53aacc2ef7391"></a><!-- doxytag: member="PJSIP_TSX_STATE_DESTROYED" ref="ggaf361da71faf4b6d47ca50db1b43e95b7ae63bf8a258d7738415d53aacc2ef7391" args="" -->PJSIP_TSX_STATE_DESTROYED</em>&nbsp;</td><td>
<p>For UAS/UAC, will be destroyed now. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf361da71faf4b6d47ca50db1b43e95b7a766dcc13f13a29c0e5c8cd16f5ce114c"></a><!-- doxytag: member="PJSIP_TSX_STATE_MAX" ref="ggaf361da71faf4b6d47ca50db1b43e95b7a766dcc13f13a29c0e5c8cd16f5ce114c" args="" -->PJSIP_TSX_STATE_MAX</em>&nbsp;</td><td>
<p>Number of states. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga98b6d8edf24b82c6cbc6afbdf274cdf1"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_layer_init_module" ref="ga98b6d8edf24b82c6cbc6afbdf274cdf1" args="(pjsip_endpoint *endpt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_layer_init_module </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a2b184bd797bb08929129539d9dddd329">pjsip_endpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>endpt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create and register transaction layer module to the specified endpoint.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>endpt</em>&nbsp;</td><td>The endpoint instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2bea6da8cd162ade25d9e182829e73d1"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_layer_instance" ref="ga2bea6da8cd162ade25d9e182829e73d1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__module.htm">pjsip_module</a>* pjsip_tsx_layer_instance </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the instance of the transaction layer module.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The transaction layer module. </dd></dl>

</div>
</div>
<a class="anchor" id="ga11f1e4922c831dca2b8c3a342db1846f"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_layer_destroy" ref="ga11f1e4922c831dca2b8c3a342db1846f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_layer_destroy </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unregister and destroy transaction layer module.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga72b7dc6e0f9d8225bbb7d4f97ce5be45"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_layer_get_tsx_count" ref="ga72b7dc6e0f9d8225bbb7d4f97ce5be45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned pjsip_tsx_layer_get_tsx_count </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the current number of transactions currently registered in the hash table.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of transactions. </dd></dl>

</div>
</div>
<a class="anchor" id="ga14c7c2baa52e59e5b676cb1881087b9d"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_layer_find_tsx" ref="ga14c7c2baa52e59e5b676cb1881087b9d" args="(const pj_str_t *key, pj_bool_t lock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a>* pjsip_tsx_layer_find_tsx </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#ga1dc7a356fb36bd2dee2bc7d6c7e817e4">pj_bool_t</a>&nbsp;</td>
          <td class="paramname"> <em>lock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find a transaction with the specified key. The transaction key normally is created by calling <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga3098550af065696fdc9ad4a3d9fe3a1d">pjsip_tsx_create_key()</a> from an incoming message.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>The key string to find the transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>If non-zero, transaction will be locked before the function returns, to make sure that it's not deleted by other threads.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The matching transaction instance, or NULL if transaction can not be found. </dd></dl>

</div>
</div>
<a class="anchor" id="ga668082f69563fb0e609b8692783288fb"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_create_uac" ref="ga668082f69563fb0e609b8692783288fb" args="(pjsip_module *tsx_user, pjsip_tx_data *tdata, pjsip_transaction **p_tsx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_create_uac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> **&nbsp;</td>
          <td class="paramname"> <em>p_tsx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create, initialize, and register a new transaction as UAC from the specified transmit data (<code>tdata</code>). The transmit data must have a valid <code>Request-Line</code> and <code>CSeq</code> header.</p>
<p>If <code>Via</code> header does not exist, it will be created along with a unique <code>branch</code> parameter. If it exists and contains branch parameter, then the <code>branch</code> parameter will be used as is as the transaction key. If it exists but branch parameter doesn't exist, a unique branch parameter will be created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx_user</em>&nbsp;</td><td>Module to be registered as transaction user of the new transaction, which will receive notification from the transaction via on_tsx_state() callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The outgoing request message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_tsx</em>&nbsp;</td><td>On return will contain the new transaction instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3d91aa95b2b1c561a26452dad58e7dea"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_create_uas" ref="ga3d91aa95b2b1c561a26452dad58e7dea" args="(pjsip_module *tsx_user, pjsip_rx_data *rdata, pjsip_transaction **p_tsx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_create_uas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__module.htm">pjsip_module</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> **&nbsp;</td>
          <td class="paramname"> <em>p_tsx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create, initialize, and register a new transaction as UAS from the specified incoming request in <code>rdata</code>. After calling this function, application MUST call <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#gaa5d24d997aabab0d50c2af87055c34bd">pjsip_tsx_recv_msg()</a> so that transaction moves from state NULL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx_user</em>&nbsp;</td><td>Module to be registered as transaction user of the new transaction, which will receive notification from the transaction via on_tsx_state() callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The received incoming request. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_tsx</em>&nbsp;</td><td>On return will contain the new transaction instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0a9499ba68a066e998e76e99da80cd72"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_set_transport" ref="ga0a9499ba68a066e998e76e99da80cd72" args="(pjsip_transaction *tsx, const pjsip_tpselector *sel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_set_transport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__tpselector.htm">pjsip_tpselector</a> *&nbsp;</td>
          <td class="paramname"> <em>sel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lock/bind transaction to a specific transport/listener. This is optional, as normally transport will be selected automatically based on the destination of the message upon resolver completion.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>Transport selector containing the specification of transport or listener to be used by this transaction to send requests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS on success, or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa5d24d997aabab0d50c2af87055c34bd"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_recv_msg" ref="gaa5d24d997aabab0d50c2af87055c34bd" args="(pjsip_transaction *tsx, pjsip_rx_data *rdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pjsip_tsx_recv_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Call this function to manually feed a message to the transaction. For UAS transaction, application MUST call this function after UAS transaction has been created.</p>
<p>This function SHOULD only be called to pass initial request message to UAS transaction. Before this function returns, on_tsx_state() callback of the transaction user will be called. If response message is passed to this function, then on_rx_response() will also be called before on_tsx_state().</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae8656195e02e1059dcddf94e5218c4f2"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_send_msg" ref="gae8656195e02e1059dcddf94e5218c4f2" args="(pjsip_transaction *tsx, pjsip_tx_data *tdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_send_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Transmit message in tdata with this transaction. It is possible to pass NULL in tdata for UAC transaction, which in this case the last message transmitted, or the request message which was specified when calling <a class="el" href="group__PJSIP__TRANSACT__TRANSACTION.htm#ga668082f69563fb0e609b8692783288fb">pjsip_tsx_create_uac()</a>, will be sent.</p>
<p>This function decrements the reference counter of the transmit buffer only when it returns PJ_SUCCESS;</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The outgoing message. If NULL is specified, then the last message transmitted (or the message specified in UAC initialization) will be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successfull. </dd></dl>

</div>
</div>
<a class="anchor" id="gaab6a83e6dbf726110e6ad60d89438efd"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_retransmit_no_state" ref="gaab6a83e6dbf726110e6ad60d89438efd" args="(pjsip_transaction *tsx, pjsip_tx_data *tdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_retransmit_no_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpjsip__tx__data.htm">pjsip_tx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>tdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Manually retransmit the last message transmitted by this transaction, without updating the transaction state. This function is useful when TU wants to maintain the retransmision by itself (for example, retransmitting reliable provisional response).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tdata</em>&nbsp;</td><td>The outgoing message. If NULL is specified, then the last message transmitted (or the message specified in UAC initialization) will be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3098550af065696fdc9ad4a3d9fe3a1d"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_create_key" ref="ga3098550af065696fdc9ad4a3d9fe3a1d" args="(pj_pool_t *pool, pj_str_t *key, pjsip_role_e role, const pjsip_method *method, const pjsip_rx_data *rdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_create_key </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__pool__t.htm">pj_pool_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/structpj__str__t.htm">pj_str_t</a> *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sip__types_8h.htm#a1a2637e9a3a7d4cd160dd608c02bf5a9">pjsip_role_e</a>&nbsp;</td>
          <td class="paramname"> <em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__method.htm">pjsip_method</a> *&nbsp;</td>
          <td class="paramname"> <em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create transaction key, which is used to match incoming requests or response (retransmissions) against transactions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The pool </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>Output key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>role</em>&nbsp;</td><td>The role of the transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>The method to be put as a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The received data to calculate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga838bd435451cb82fec1276edf02d3bf3"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_terminate" ref="ga838bd435451cb82fec1276edf02d3bf3" args="(pjsip_transaction *tsx, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_terminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__THREAD.htm#gab600dc33a20a0f36550a4538506d020e">int</a>&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Force terminate transaction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>The status code to report. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga10e7740a51f4df7ffc7a3973ba9247f8"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_stop_retransmit" ref="ga10e7740a51f4df7ffc7a3973ba9247f8" args="(pjsip_transaction *tsx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_stop_retransmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cease retransmission on the UAC transaction. The UAC transaction is still considered running, and it will complete when either final response is received or the transaction times out.</p>
<p>This operation normally is used for INVITE transaction only, when the transaction is cancelled before any provisional response has been received.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga92e51f879d0a7ced95722aeb679dd6df"></a><!-- doxytag: member="sip_transaction.h::pjsip_tsx_set_timeout" ref="ga92e51f879d0a7ced95722aeb679dd6df" args="(pjsip_transaction *tsx, unsigned millisec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="pjlib.tag:../../../pjlib/docs/html/" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjsip_tsx_set_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a> *&nbsp;</td>
          <td class="paramname"> <em>tsx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>millisec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start a timer to terminate transaction after the specified time has elapsed. This function is only valid for INVITE transaction, and only before final response is received for the INVITE transaction. It is normally called after the UAC has sent CANCEL for this INVITE transaction.</p>
<p>The purpose of this function is to terminate the transaction if UAS does not send final response to this INVITE transaction even after it sends 200/OK to CANCEL (for example when the UAS complies to RFC 2543).</p>
<p>Once this timer is set, the transaction will be terminated either when a final response is received or the timer expires.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tsx</em>&nbsp;</td><td>The transaction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>millisec</em>&nbsp;</td><td>Timeout value in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>PJ_SUCCESS or the appropriate error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0986013fc64382f90f7d21ecc1efb614"></a><!-- doxytag: member="sip_transaction.h::pjsip_rdata_get_tsx" ref="ga0986013fc64382f90f7d21ecc1efb614" args="(pjsip_rx_data *rdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpjsip__transaction.htm">pjsip_transaction</a>* pjsip_rdata_get_tsx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpjsip__rx__data.htm">pjsip_rx_data</a> *&nbsp;</td>
          <td class="paramname"> <em>rdata</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the transaction instance in the incoming message. If the message has a corresponding transaction, this function will return non NULL value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>The incoming message buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The transaction instance associated with this message, or NULL if the message doesn't match any transactions. </dd></dl>

</div>
</div>
</div>
<p>&nbsp;</p>
<hr><center>
PJSIP Open Source, high performance, small footprint, and very very portable SIP stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->

</BODY>
</HTML>
