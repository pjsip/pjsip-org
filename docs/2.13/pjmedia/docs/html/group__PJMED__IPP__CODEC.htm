<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPP Codecs (2.13)</title>
<link href="/style/style.css" rel="stylesheet" type="text/css">
</head><body>
	<!--#include virtual="/header.html" -->
	<p><A HREF="/">Home</A> --&gt; <A HREF="/docs.htm">Documentations</A> --&gt; PJMEDIA Reference</p>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">IPP Codecs<div class="ingroups"><a class="el" href="group__PJMEDIA__CODEC.htm">Codec Framework</a> &raquo; <a class="el" href="group__PJMEDIA__CODEC__CODECS.htm">Supported codecs</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of IPP codecs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab2541318174d7253a6bd04dd308210a7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__IPP__CODEC.htm#gab2541318174d7253a6bd04dd308210a7">pjmedia_codec_ipp_init</a> (<a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *endpt)</td></tr>
<tr class="separator:gab2541318174d7253a6bd04dd308210a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a81333aa267916ce66dbea1d6475696"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PJMED__IPP__CODEC.htm#ga4a81333aa267916ce66dbea1d6475696">pjmedia_codec_ipp_deinit</a> (void)</td></tr>
<tr class="separator:ga4a81333aa267916ce66dbea1d6475696"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >This section describes functions to initialize and register IPP codec factory to the codec manager. After the codec factory has been registered, application can use <a class="el" href="group__PJMEDIA__CODEC.htm">Codec Framework</a> API to manipulate the codec.</p>
<p >This codec factory contains various codecs, i.e: G.729, G.723.1, G.726, G.728, G.722.1, AMR, and AMR-WB.</p>
<h1><a class="anchor" id="pjmedia_codec_ipp_g729"></a>
IPP G.729</h1>
<p >IPP G.729 is compliant with ITU-T G.729 and Annexes A, B, C, C+, D, E, I specifications. However, currently the pjmedia implementation is using Annexes A and B only.</p>
<p >IPP G.729 supports 16-bit PCM audio signal with sampling rate 8000Hz, frame length 10ms, and resulting in bitrate 8000bps (annexes D and E introduce bitrates 6400bps and 11800bps).</p>
<h2><a class="anchor" id="ipp_g729_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<p >Note that G.729 VAD status should be signalled in SDP, see more description below.</p>
<h3><a class="anchor" id="ipp_g729_annexb"></a>
Annex B</h3>
<p >The capability of VAD/DTX is specified in Annex B.</p>
<p >By default, Annex B is enabled. This default setting of Annex B can be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>.</p>
<p >In <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>, Annex B is configured via VAD setting and format parameter "annexb" in the SDP "a=fmtp" attribute in decoding fmtp field. Valid values are "yes" and "no", the implementation default is "yes". When this parameter is omitted in the SDP, the value will be "yes" (RFC 4856 Section 2.1.9).</p>
<p >Here is an example of modifying default setting of Annex B to be disabled using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> param;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__PJMEDIA__CODEC.htm#ga7766eaa06db1ec402540cefe1b329af1">pjmedia_codec_mgr_get_default_param</a>(.., &amp;param);</div>
<div class="line">...</div>
<div class="line"><span class="comment">// Set VAD</span></div>
<div class="line">param.setting.vad = 0;</div>
<div class="line"><span class="comment">// Set SDP format parameter</span></div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a127c3ffcbfe5b927edf2c4f9ff18c882">cnt</a> = 1;</div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[0].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#af7323aa6141b024071e64b00ef294af1">name</a> = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;annexb&quot;</span>);</div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[0].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#a5e283ff0035328a2b3b749fe420b544f">val</a>  = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">...</div>
<div class="line">pjmedia_codec_mgr_set_default_param(.., &amp;param);</div>
<div class="ttc" id="agroup__PJMEDIA__CODEC_htm_ga7766eaa06db1ec402540cefe1b329af1"><div class="ttname"><a href="group__PJMEDIA__CODEC.htm#ga7766eaa06db1ec402540cefe1b329af1">pjmedia_codec_mgr_get_default_param</a></div><div class="ttdeci">pj_status_t pjmedia_codec_mgr_get_default_param(pjmedia_codec_mgr *mgr, const pjmedia_codec_info *info, pjmedia_codec_param *param)</div></div>
<div class="ttc" id="agroup__PJ__PSTR_htm_ga20fa0c4d9ccddd0822a775730cf4a867"><div class="ttname"><a href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a></div><div class="ttdeci">pj_str_t pj_str(char *str)</div></div>
<div class="ttc" id="astructpjmedia__codec__fmtp_1_1param_htm_a5e283ff0035328a2b3b749fe420b544f"><div class="ttname"><a href="structpjmedia__codec__fmtp_1_1param.htm#a5e283ff0035328a2b3b749fe420b544f">pjmedia_codec_fmtp::param::val</a></div><div class="ttdeci">pj_str_t val</div><div class="ttdef"><b>Definition:</b> codec.h:253</div></div>
<div class="ttc" id="astructpjmedia__codec__fmtp_1_1param_htm_af7323aa6141b024071e64b00ef294af1"><div class="ttname"><a href="structpjmedia__codec__fmtp_1_1param.htm#af7323aa6141b024071e64b00ef294af1">pjmedia_codec_fmtp::param::name</a></div><div class="ttdeci">pj_str_t name</div><div class="ttdef"><b>Definition:</b> codec.h:252</div></div>
<div class="ttc" id="astructpjmedia__codec__fmtp_htm_a127c3ffcbfe5b927edf2c4f9ff18c882"><div class="ttname"><a href="structpjmedia__codec__fmtp.htm#a127c3ffcbfe5b927edf2c4f9ff18c882">pjmedia_codec_fmtp::cnt</a></div><div class="ttdeci">pj_uint8_t cnt</div><div class="ttdef"><b>Definition:</b> codec.h:250</div></div>
<div class="ttc" id="astructpjmedia__codec__fmtp_htm_a95e2b82546ed6e082dd32d2beb79159d"><div class="ttname"><a href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">pjmedia_codec_fmtp::param</a></div><div class="ttdeci">struct pjmedia_codec_fmtp::param param[PJMEDIA_CODEC_MAX_FMTP_CNT]</div></div>
<div class="ttc" id="astructpjmedia__codec__param_htm"><div class="ttname"><a href="structpjmedia__codec__param.htm">pjmedia_codec_param</a></div><div class="ttdef"><b>Definition:</b> codec.h:268</div></div>
<div class="ttc" id="astructpjmedia__codec__param_htm_a2d891e3d98021f471cfaa05c647d8c3f"><div class="ttname"><a href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">pjmedia_codec_param::dec_fmtp</a></div><div class="ttdeci">pjmedia_codec_fmtp dec_fmtp</div><div class="ttdef"><b>Definition:</b> codec.h:306</div></div>
<div class="ttc" id="astructpjmedia__codec__param_htm_aa993e8d826729b61da6276a97247c384"><div class="ttname"><a href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">pjmedia_codec_param::setting</a></div><div class="ttdeci">struct pjmedia_codec_param::@9 setting</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The difference of Annex B status in SDP offer/answer may be considered as incompatible codec in SDP negotiation.</dd></dl>
<h1><a class="anchor" id="pjmedia_codec_ipp_g7231"></a>
IPP G.723.1</h1>
<p >IPP G.723.1 speech codec is compliant with ITU-T G.723.1 and Annex A specifications.</p>
<p >IPP G.723.1 supports 16-bit PCM audio signal with sampling rate 8000Hz, frame length 30ms, and resulting in bitrates 5300bps and 6300bps.</p>
<p >By default, pjmedia implementation uses encoding bitrate of 6300bps. The bitrate is signalled in-band in G.723.1 frames and interoperable.</p>
<h2><a class="anchor" id="ipp_g723_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h1><a class="anchor" id="pjmedia_codec_ipp_g726"></a>
IPP G.726</h1>
<p >IPP G.726 is compliant with ITU-T G.726 and G.726 Annex A specifications.</p>
<p >IPP G.726 supports 16-bit PCM audio signal with sampling rate 8000Hz, 10ms frame length and producing 16kbps, 24kbps, 32kbps, 48kbps bitrates. The bitrate is specified explicitly in its encoding name, i.e: G726-16, G726-24, G726-32, G726-48.</p>
<h2><a class="anchor" id="ipp_g726_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h1><a class="anchor" id="pjmedia_codec_ipp_g728"></a>
IPP G.728</h1>
<p >IPP G.728 is compliant with ITU-T G.728 with I, G, H Appendixes specifications for Low-Delay CELP coder.</p>
<p >IPP G.728 supports 16-bit PCM audio signal with sampling rate 8000Hz, 20ms frame length and producing 9.6kbps, 12.8kbps, and 16kbps bitrates.</p>
<p >The pjmedia implementation currently uses 16kbps bitrate only.</p>
<h2><a class="anchor" id="ipp_g728_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h1><a class="anchor" id="pjmedia_codec_ipp_g7221"></a>
IPP G.722.1</h1>
<p >The pjmedia implementation of IPP G.722.1 supports 16-bit PCM audio signal with sampling rate 16000Hz, 20ms frame length and producing 16kbps, 24kbps, and 32kbps bitrates.</p>
<h2><a class="anchor" id="ipp_g7221_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h3><a class="anchor" id="ipp_g7221_bitrate"></a>
Bitrate</h3>
<p >The codec implementation supports only standard bitrates, i.e: 24kbps and 32kbps. Both are enabled by default.</p>
<dl class="section remark"><dt>Remarks</dt><dd>There is a flaw in the codec manager as currently it could not differentiate G.722.1 codecs by bitrates, hence invoking <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a> may only affect a G.722.1 codec with the highest priority (or first index found in codec enumeration when they have same priority) and invoking <a class="el" href="group__PJMEDIA__CODEC.htm#gacfc4266d50474b348c8c7a0bf9d54abb">pjmedia_codec_mgr_set_codec_priority()</a> will set priority of all G.722.1 codecs with sampling rate as specified.</dd></dl>
<h1><a class="anchor" id="pjmedia_codec_ipp_amr"></a>
IPP AMR</h1>
<p >The IPP AMR is compliant with GSM06.90-94 specifications for GSM Adaptive Multi-Rate codec.</p>
<p >IPP AMR supports 16-bit PCM audio signal with sampling rate 8000Hz, 20ms frame length and producing various bitrates that ranges from 4.75kbps to 12.2kbps.</p>
<h2><a class="anchor" id="ipp_amr_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h3><a class="anchor" id="ipp_amr_bitrate"></a>
Bitrate</h3>
<p >By default, encoding bitrate is 7400bps. This default setting can be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a> by specifying prefered AMR bitrate in field <code>info::avg_bps</code> of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Valid bitrates could be seen in <a class="el" href="group__PJMED__AMR__CODEC__HELPER.htm#ga3ca0bc42de0aefd4d05a7d5c3d85b39c">pjmedia_codec_amrnb_bitrates</a>.</p>
<h3><a class="anchor" id="ipp_amr_payload_format"></a>
Payload Format</h3>
<p >There are two AMR payload format types, bandwidth-efficient and octet-aligned. Default setting is using octet-aligned. This default payload format can be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>.</p>
<p >In <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>, payload format can be set by specifying SDP format parameters "octet-align" in the SDP "a=fmtp" attribute for decoding direction. Valid values are "0" (for bandwidth efficient mode) and "1" (for octet-aligned mode).</p>
<h3><a class="anchor" id="ipp_amr_mode_set"></a>
Mode-Set</h3>
<p >Mode-set is used for restricting AMR modes in decoding direction.</p>
<p >By default, no mode-set restriction applied. This default setting can be be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>.</p>
<p >In <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>, mode-set could be specified via format parameters "mode-set" in the SDP "a=fmtp" attribute for decoding direction. Valid value is a comma separated list of modes from the set 0 - 7, e.g: "4,5,6,7". When this parameter is omitted, no mode-set restrictions applied.</p>
<p >Here is an example of modifying AMR default codec param: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> param;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__PJMEDIA__CODEC.htm#ga7766eaa06db1ec402540cefe1b329af1">pjmedia_codec_mgr_get_default_param</a>(.., &amp;param);</div>
<div class="line">...</div>
<div class="line"><span class="comment">// set default encoding bitrate to the highest 12.2kbps</span></div>
<div class="line">param.info.avg_bps = 12200;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// restrict decoding bitrate to 10.2kbps and 12.2kbps only</span></div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[0].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#af7323aa6141b024071e64b00ef294af1">name</a> = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;mode-set&quot;</span>);</div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[0].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#a5e283ff0035328a2b3b749fe420b544f">val</a>  = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;6,7&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// also set to use bandwidth-efficient payload format</span></div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[1].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#af7323aa6141b024071e64b00ef294af1">name</a> = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;octet-align&quot;</span>);</div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a95e2b82546ed6e082dd32d2beb79159d">param</a>[1].<a class="code hl_variable" href="structpjmedia__codec__fmtp_1_1param.htm#a5e283ff0035328a2b3b749fe420b544f">val</a>  = <a class="code hl_functionRef" href="../../../pjlib/docs/html/group__PJ__PSTR.htm#ga20fa0c4d9ccddd0822a775730cf4a867">pj_str</a>(<span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"> </div>
<div class="line">param.<a class="code hl_variable" href="structpjmedia__codec__param.htm#aa993e8d826729b61da6276a97247c384">setting</a>.<a class="code hl_variable" href="structpjmedia__codec__param.htm#a2d891e3d98021f471cfaa05c647d8c3f">dec_fmtp</a>.<a class="code hl_variable" href="structpjmedia__codec__fmtp.htm#a127c3ffcbfe5b927edf2c4f9ff18c882">cnt</a> = 2;</div>
<div class="line">...</div>
<div class="line">pjmedia_codec_mgr_set_default_param(.., &amp;param);</div>
</div><!-- fragment --><h1><a class="anchor" id="pjmedia_codec_ipp_amrwb"></a>
IPP AMR-WB</h1>
<p >The IPP AMR-WB is compliant with 3GPP TS 26.190-192, 194, 201 specifications for Adaptive Multi-Rate WideBand codec.</p>
<p >IPP AMR-WB supports 16-bit PCM audio signal with sampling rate 16000Hz, 20ms frame length and producing various bitrates. Valid bitrates could be seen in <a class="el" href="group__PJMED__AMR__CODEC__HELPER.htm#gafe27ee332912677dca4dd7118ff44a8b">pjmedia_codec_amrwb_bitrates</a>. The pjmedia implementation default bitrate is 15850bps.</p>
<h2><a class="anchor" id="ipp_amrwb_codec_setting"></a>
Codec Settings</h2>
<p >General codec settings for this codec such as VAD and PLC can be manipulated through the <code>setting</code> field in <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>. Please see the documentation of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a> for more info.</p>
<h3><a class="anchor" id="ipp_amrwb_bitrate"></a>
Bitrate</h3>
<p >By default, encoding bitrate is 15850bps. This default setting can be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a> by specifying prefered AMR bitrate in field <code>info::avg_bps</code> of <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>.</p>
<h3><a class="anchor" id="ipp_amrwb_payload_format"></a>
Payload Format</h3>
<p >There are two AMR payload format types, bandwidth-efficient and octet-aligned. Default setting is using octet-aligned. This default payload format can be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>.</p>
<p >In <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>, payload format can be set by specifying SDP format parameters "octet-align" in the SDP "a=fmtp" attribute for decoding direction. Valid values are "0" (for bandwidth efficient mode) and "1" (for octet-aligned mode).</p>
<h3><a class="anchor" id="ipp_amrwb_mode_set"></a>
Mode-Set</h3>
<p >Mode-set is used for restricting AMR modes in decoding direction.</p>
<p >By default, no mode-set restriction applied. This default setting can be be modified using <a class="el" href="group__PJMEDIA__CODEC.htm#gacbd83a91545d9f969370cd5e7918c75d">pjmedia_codec_mgr_set_default_param()</a>.</p>
<p >In <a class="el" href="structpjmedia__codec__param.htm">pjmedia_codec_param</a>, mode-set could be specified via format parameters "mode-set" in the SDP "a=fmtp" attribute for decoding direction. Valid value is a comma separated list of modes from the set 0 - 7, e.g: "4,5,6,7". When this parameter is omitted, no mode-set restrictions applied. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab2541318174d7253a6bd04dd308210a7" name="gab2541318174d7253a6bd04dd308210a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2541318174d7253a6bd04dd308210a7">&#9670;&nbsp;</a></span>pjmedia_codec_ipp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_codec_ipp_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__PJMEDIA__TYPES.htm#ga7c3623d8e90e22b7184a6e42dc24f6f5">pjmedia_endpt</a> *&#160;</td>
          <td class="paramname"><em>endpt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialize and register IPP codecs factory to pjmedia endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpt</td><td>The pjmedia endpoint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

</div>
</div>
<a id="ga4a81333aa267916ce66dbea1d6475696" name="ga4a81333aa267916ce66dbea1d6475696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a81333aa267916ce66dbea1d6475696">&#9670;&nbsp;</a></span>pjmedia_codec_ipp_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="../../../pjlib/docs/html/group__PJ__BASIC.htm#gab43ba3167bd2a2ab4580509dbf79200e">pj_status_t</a> pjmedia_codec_ipp_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Unregister IPP codecs factory from pjmedia endpoint and deinitialize the IPP codecs library.</p>
<dl class="section return"><dt>Returns</dt><dd>PJ_SUCCESS on success. </dd></dl>

<p class="reference">References <a class="elRef" href="../../../pjlib/docs/html/group__pj__config.htm#gac961f7d199eeed7666ab3ec2442c1b00">PJ_END_DECL</a>.</p>

</div>
</div>
</div><!-- contents -->
<p>&nbsp;</p>
<hr><center>
PJMEDIA small footprint Open Source media stack<br>
Copyright (C) 2006-2008 Teluu Inc.
</center>
<!--#include virtual="/footer.html" -->
</BODY>
</HTML>
